<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>FreeCanvas - 无边记画布 · 滤镜 · 多图编辑</title>
  <link rel="stylesheet" href="styles.css">
    <script type="module" crossorigin>(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))f(S);new MutationObserver(S=>{for(const p of S)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&f(g)}).observe(document,{childList:!0,subtree:!0});function C(S){const p={};return S.integrity&&(p.integrity=S.integrity),S.referrerPolicy&&(p.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?p.credentials="include":S.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function f(S){if(S.ep)return;S.ep=!0;const p=C(S);fetch(S.href,p)}})();function Um(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var ko={exports:{}},hc={};var Ch;function Gm(){if(Ch)return hc;Ch=1;var y=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function C(f,S,p){var g=null;if(p!==void 0&&(g=""+p),S.key!==void 0&&(g=""+S.key),"key"in S){p={};for(var r in S)r!=="key"&&(p[r]=S[r])}else p=S;return S=p.ref,{$$typeof:y,type:f,key:g,ref:S!==void 0?S:null,props:p}}return hc.Fragment=c,hc.jsx=C,hc.jsxs=C,hc}var jh;function qm(){return jh||(jh=1,ko.exports=Gm()),ko.exports}var s=qm(),Qo={exports:{}},Lt={};var Eh;function km(){if(Eh)return Lt;Eh=1;var y=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),M=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,L={};function J(N,B,ot){this.props=N,this.context=B,this.refs=L,this.updater=ot||X}J.prototype.isReactComponent={},J.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},J.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function I(){}I.prototype=J.prototype;function V(N,B,ot){this.props=N,this.context=B,this.refs=L,this.updater=ot||X}var ft=V.prototype=new I;ft.constructor=V,Q(ft,J.prototype),ft.isPureReactComponent=!0;var dt=Array.isArray;function rt(){}var st={H:null,A:null,T:null,S:null},bt=Object.prototype.hasOwnProperty;function nt(N,B,ot){var ct=ot.ref;return{$$typeof:y,type:N,key:B,ref:ct!==void 0?ct:null,props:ot}}function Et(N,B){return nt(N.type,B,N.props)}function Bt(N){return typeof N=="object"&&N!==null&&N.$$typeof===y}function Gt(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ot){return B[ot]})}var Dt=/\/+/g;function Vt(N,B){return typeof N=="object"&&N!==null&&N.key!=null?Gt(""+N.key):B.toString(36)}function Kt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(rt,rt):(N.status="pending",N.then(function(B){N.status==="pending"&&(N.status="fulfilled",N.value=B)},function(B){N.status==="pending"&&(N.status="rejected",N.reason=B)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function K(N,B,ot,ct,Ct){var zt=typeof N;(zt==="undefined"||zt==="boolean")&&(N=null);var U=!1;if(N===null)U=!0;else switch(zt){case"bigint":case"string":case"number":U=!0;break;case"object":switch(N.$$typeof){case y:case c:U=!0;break;case d:return U=N._init,K(U(N._payload),B,ot,ct,Ct)}}if(U)return Ct=Ct(N),U=ct===""?"."+Vt(N,0):ct,dt(Ct)?(ot="",U!=null&&(ot=U.replace(Dt,"$&/")+"/"),K(Ct,B,ot,"",function(qt){return qt})):Ct!=null&&(Bt(Ct)&&(Ct=Et(Ct,ot+(Ct.key==null||N&&N.key===Ct.key?"":(""+Ct.key).replace(Dt,"$&/")+"/")+U)),B.push(Ct)),1;U=0;var m=ct===""?".":ct+":";if(dt(N))for(var Xt=0;Xt<N.length;Xt++)ct=N[Xt],zt=m+Vt(ct,Xt),U+=K(ct,B,ot,zt,Ct);else if(Xt=A(N),typeof Xt=="function")for(N=Xt.call(N),Xt=0;!(ct=N.next()).done;)ct=ct.value,zt=m+Vt(ct,Xt++),U+=K(ct,B,ot,zt,Ct);else if(zt==="object"){if(typeof N.then=="function")return K(Kt(N),B,ot,ct,Ct);throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return U}function Mt(N,B,ot){if(N==null)return N;var ct=[],Ct=0;return K(N,ct,"","",function(zt){return B.call(ot,zt,Ct++)}),ct}function wt(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(ot){(N._status===0||N._status===-1)&&(N._status=1,N._result=ot)},function(ot){(N._status===0||N._status===-1)&&(N._status=2,N._result=ot)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var Pt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Wt={map:Mt,forEach:function(N,B,ot){Mt(N,function(){B.apply(this,arguments)},ot)},count:function(N){var B=0;return Mt(N,function(){B++}),B},toArray:function(N){return Mt(N,function(B){return B})||[]},only:function(N){if(!Bt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Lt.Activity=v,Lt.Children=Wt,Lt.Component=J,Lt.Fragment=C,Lt.Profiler=S,Lt.PureComponent=V,Lt.StrictMode=f,Lt.Suspense=h,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return st.H.useMemoCache(N)}},Lt.cache=function(N){return function(){return N.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(N,B,ot){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ct=Q({},N.props),Ct=N.key;if(B!=null)for(zt in B.key!==void 0&&(Ct=""+B.key),B)!bt.call(B,zt)||zt==="key"||zt==="__self"||zt==="__source"||zt==="ref"&&B.ref===void 0||(ct[zt]=B[zt]);var zt=arguments.length-2;if(zt===1)ct.children=ot;else if(1<zt){for(var U=Array(zt),m=0;m<zt;m++)U[m]=arguments[m+2];ct.children=U}return nt(N.type,Ct,ct)},Lt.createContext=function(N){return N={$$typeof:g,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:p,_context:N},N},Lt.createElement=function(N,B,ot){var ct,Ct={},zt=null;if(B!=null)for(ct in B.key!==void 0&&(zt=""+B.key),B)bt.call(B,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Ct[ct]=B[ct]);var U=arguments.length-2;if(U===1)Ct.children=ot;else if(1<U){for(var m=Array(U),Xt=0;Xt<U;Xt++)m[Xt]=arguments[Xt+2];Ct.children=m}if(N&&N.defaultProps)for(ct in U=N.defaultProps,U)Ct[ct]===void 0&&(Ct[ct]=U[ct]);return nt(N,zt,Ct)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(N){return{$$typeof:r,render:N}},Lt.isValidElement=Bt,Lt.lazy=function(N){return{$$typeof:d,_payload:{_status:-1,_result:N},_init:wt}},Lt.memo=function(N,B){return{$$typeof:u,type:N,compare:B===void 0?null:B}},Lt.startTransition=function(N){var B=st.T,ot={};st.T=ot;try{var ct=N(),Ct=st.S;Ct!==null&&Ct(ot,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(rt,Pt)}catch(zt){Pt(zt)}finally{B!==null&&ot.types!==null&&(B.types=ot.types),st.T=B}},Lt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Lt.use=function(N){return st.H.use(N)},Lt.useActionState=function(N,B,ot){return st.H.useActionState(N,B,ot)},Lt.useCallback=function(N,B){return st.H.useCallback(N,B)},Lt.useContext=function(N){return st.H.useContext(N)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(N,B){return st.H.useDeferredValue(N,B)},Lt.useEffect=function(N,B){return st.H.useEffect(N,B)},Lt.useEffectEvent=function(N){return st.H.useEffectEvent(N)},Lt.useId=function(){return st.H.useId()},Lt.useImperativeHandle=function(N,B,ot){return st.H.useImperativeHandle(N,B,ot)},Lt.useInsertionEffect=function(N,B){return st.H.useInsertionEffect(N,B)},Lt.useLayoutEffect=function(N,B){return st.H.useLayoutEffect(N,B)},Lt.useMemo=function(N,B){return st.H.useMemo(N,B)},Lt.useOptimistic=function(N,B){return st.H.useOptimistic(N,B)},Lt.useReducer=function(N,B,ot){return st.H.useReducer(N,B,ot)},Lt.useRef=function(N){return st.H.useRef(N)},Lt.useState=function(N){return st.H.useState(N)},Lt.useSyncExternalStore=function(N,B,ot){return st.H.useSyncExternalStore(N,B,ot)},Lt.useTransition=function(){return st.H.useTransition()},Lt.version="19.2.3",Lt}var zh;function $o(){return zh||(zh=1,Qo.exports=km()),Qo.exports}var _=$o();const Xh=Um(_);var Zo={exports:{}},mc={},Vo={exports:{}},Ko={};var Th;function Qm(){return Th||(Th=1,(function(y){function c(K,Mt){var wt=K.length;K.push(Mt);t:for(;0<wt;){var Pt=wt-1>>>1,Wt=K[Pt];if(0<S(Wt,Mt))K[Pt]=Mt,K[wt]=Wt,wt=Pt;else break t}}function C(K){return K.length===0?null:K[0]}function f(K){if(K.length===0)return null;var Mt=K[0],wt=K.pop();if(wt!==Mt){K[0]=wt;t:for(var Pt=0,Wt=K.length,N=Wt>>>1;Pt<N;){var B=2*(Pt+1)-1,ot=K[B],ct=B+1,Ct=K[ct];if(0>S(ot,wt))ct<Wt&&0>S(Ct,ot)?(K[Pt]=Ct,K[ct]=wt,Pt=ct):(K[Pt]=ot,K[B]=wt,Pt=B);else if(ct<Wt&&0>S(Ct,wt))K[Pt]=Ct,K[ct]=wt,Pt=ct;else break t}}return Mt}function S(K,Mt){var wt=K.sortIndex-Mt.sortIndex;return wt!==0?wt:K.id-Mt.id}if(y.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;y.unstable_now=function(){return p.now()}}else{var g=Date,r=g.now();y.unstable_now=function(){return g.now()-r}}var h=[],u=[],d=1,v=null,M=3,A=!1,X=!1,Q=!1,L=!1,J=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ft(K){for(var Mt=C(u);Mt!==null;){if(Mt.callback===null)f(u);else if(Mt.startTime<=K)f(u),Mt.sortIndex=Mt.expirationTime,c(h,Mt);else break;Mt=C(u)}}function dt(K){if(Q=!1,ft(K),!X)if(C(h)!==null)X=!0,rt||(rt=!0,Gt());else{var Mt=C(u);Mt!==null&&Kt(dt,Mt.startTime-K)}}var rt=!1,st=-1,bt=5,nt=-1;function Et(){return L?!0:!(y.unstable_now()-nt<bt)}function Bt(){if(L=!1,rt){var K=y.unstable_now();nt=K;var Mt=!0;try{t:{X=!1,Q&&(Q=!1,I(st),st=-1),A=!0;var wt=M;try{e:{for(ft(K),v=C(h);v!==null&&!(v.expirationTime>K&&Et());){var Pt=v.callback;if(typeof Pt=="function"){v.callback=null,M=v.priorityLevel;var Wt=Pt(v.expirationTime<=K);if(K=y.unstable_now(),typeof Wt=="function"){v.callback=Wt,ft(K),Mt=!0;break e}v===C(h)&&f(h),ft(K)}else f(h);v=C(h)}if(v!==null)Mt=!0;else{var N=C(u);N!==null&&Kt(dt,N.startTime-K),Mt=!1}}break t}finally{v=null,M=wt,A=!1}Mt=void 0}}finally{Mt?Gt():rt=!1}}}var Gt;if(typeof V=="function")Gt=function(){V(Bt)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Vt=Dt.port2;Dt.port1.onmessage=Bt,Gt=function(){Vt.postMessage(null)}}else Gt=function(){J(Bt,0)};function Kt(K,Mt){st=J(function(){K(y.unstable_now())},Mt)}y.unstable_IdlePriority=5,y.unstable_ImmediatePriority=1,y.unstable_LowPriority=4,y.unstable_NormalPriority=3,y.unstable_Profiling=null,y.unstable_UserBlockingPriority=2,y.unstable_cancelCallback=function(K){K.callback=null},y.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<K?Math.floor(1e3/K):5},y.unstable_getCurrentPriorityLevel=function(){return M},y.unstable_next=function(K){switch(M){case 1:case 2:case 3:var Mt=3;break;default:Mt=M}var wt=M;M=Mt;try{return K()}finally{M=wt}},y.unstable_requestPaint=function(){L=!0},y.unstable_runWithPriority=function(K,Mt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var wt=M;M=K;try{return Mt()}finally{M=wt}},y.unstable_scheduleCallback=function(K,Mt,wt){var Pt=y.unstable_now();switch(typeof wt=="object"&&wt!==null?(wt=wt.delay,wt=typeof wt=="number"&&0<wt?Pt+wt:Pt):wt=Pt,K){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=wt+Wt,K={id:d++,callback:Mt,priorityLevel:K,startTime:wt,expirationTime:Wt,sortIndex:-1},wt>Pt?(K.sortIndex=wt,c(u,K),C(h)===null&&K===C(u)&&(Q?(I(st),st=-1):Q=!0,Kt(dt,wt-Pt))):(K.sortIndex=Wt,c(h,K),X||A||(X=!0,rt||(rt=!0,Gt()))),K},y.unstable_shouldYield=Et,y.unstable_wrapCallback=function(K){var Mt=M;return function(){var wt=M;M=Mt;try{return K.apply(this,arguments)}finally{M=wt}}}})(Ko)),Ko}var wh;function Zm(){return wh||(wh=1,Vo.exports=Qm()),Vo.exports}var Jo={exports:{}},sa={};var Ah;function Vm(){if(Ah)return sa;Ah=1;var y=$o();function c(h){var u="https://react.dev/errors/"+h;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+h+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(){}var f={d:{f:C,r:function(){throw Error(c(522))},D:C,C,L:C,m:C,X:C,S:C,M:C},p:0,findDOMNode:null},S=Symbol.for("react.portal");function p(h,u,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:v==null?null:""+v,children:h,containerInfo:u,implementation:d}}var g=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function r(h,u){if(h==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,sa.createPortal=function(h,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(c(299));return p(h,u,null,d)},sa.flushSync=function(h){var u=g.T,d=f.p;try{if(g.T=null,f.p=2,h)return h()}finally{g.T=u,f.p=d,f.d.f()}},sa.preconnect=function(h,u){typeof h=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,f.d.C(h,u))},sa.prefetchDNS=function(h){typeof h=="string"&&f.d.D(h)},sa.preinit=function(h,u){if(typeof h=="string"&&u&&typeof u.as=="string"){var d=u.as,v=r(d,u.crossOrigin),M=typeof u.integrity=="string"?u.integrity:void 0,A=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?f.d.S(h,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:v,integrity:M,fetchPriority:A}):d==="script"&&f.d.X(h,{crossOrigin:v,integrity:M,fetchPriority:A,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},sa.preinitModule=function(h,u){if(typeof h=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=r(u.as,u.crossOrigin);f.d.M(h,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&f.d.M(h)},sa.preload=function(h,u){if(typeof h=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,v=r(d,u.crossOrigin);f.d.L(h,d,{crossOrigin:v,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},sa.preloadModule=function(h,u){if(typeof h=="string")if(u){var d=r(u.as,u.crossOrigin);f.d.m(h,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else f.d.m(h)},sa.requestFormReset=function(h){f.d.r(h)},sa.unstable_batchedUpdates=function(h,u){return h(u)},sa.useFormState=function(h,u,d){return g.H.useFormState(h,u,d)},sa.useFormStatus=function(){return g.H.useHostTransitionStatus()},sa.version="19.2.3",sa}var Nh;function Km(){if(Nh)return Jo.exports;Nh=1;function y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(c){console.error(c)}}return y(),Jo.exports=Vm(),Jo.exports}var Dh;function Jm(){if(Dh)return mc;Dh=1;var y=Zm(),c=$o(),C=Km();function f(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function g(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h(t){if(p(t)!==t)throw Error(f(188))}function u(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(f(188));return e!==t?null:t}for(var a=t,n=e;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return h(l),t;if(i===n)return h(l),e;i=i.sibling}throw Error(f(188))}if(a.return!==n.return)a=l,n=i;else{for(var o=!1,x=l.child;x;){if(x===a){o=!0,a=l,n=i;break}if(x===n){o=!0,n=l,a=i;break}x=x.sibling}if(!o){for(x=i.child;x;){if(x===a){o=!0,a=i,n=l;break}if(x===n){o=!0,n=i,a=l;break}x=x.sibling}if(!o)throw Error(f(189))}}if(a.alternate!==n)throw Error(f(190))}if(a.tag!==3)throw Error(f(188));return a.stateNode.current===a?t:e}function d(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=d(t),e!==null)return e;t=t.sibling}return null}var v=Object.assign,M=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),V=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),nt=Symbol.for("react.activity"),Et=Symbol.for("react.memo_cache_sentinel"),Bt=Symbol.iterator;function Gt(t){return t===null||typeof t!="object"?null:(t=Bt&&t[Bt]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Dt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case J:return"Profiler";case L:return"StrictMode";case dt:return"Suspense";case rt:return"SuspenseList";case nt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case V:return t.displayName||"Context";case I:return(t._context.displayName||"Context")+".Consumer";case ft:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case st:return e=t.displayName||null,e!==null?e:Vt(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return Vt(t(e))}catch{}}return null}var Kt=Array.isArray,K=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mt=C.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},Pt=[],Wt=-1;function N(t){return{current:t}}function B(t){0>Wt||(t.current=Pt[Wt],Pt[Wt]=null,Wt--)}function ot(t,e){Wt++,Pt[Wt]=t.current,t.current=e}var ct=N(null),Ct=N(null),zt=N(null),U=N(null);function m(t,e){switch(ot(zt,e),ot(Ct,t),ot(ct,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Kd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Kd(e),t=Jd(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(ct),ot(ct,t)}function Xt(){B(ct),B(Ct),B(zt)}function qt(t){t.memoizedState!==null&&ot(U,t);var e=ct.current,a=Jd(e,t.type);e!==a&&(ot(Ct,t),ot(ct,a))}function Ye(t){Ct.current===t&&(B(ct),B(Ct)),U.current===t&&(B(U),oc._currentValue=wt)}var Oe,ua;function Ae(t){if(Oe===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);Oe=e&&e[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+t+ua}var Ge=!1;function Ze(t,e){if(!t||Ge)return"";Ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(F){var Z=F}Reflect.construct(t,[],ut)}else{try{ut.call()}catch(F){Z=F}t.call(ut.prototype)}}else{try{throw Error()}catch(F){Z=F}(ut=t())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(F){if(F&&Z&&typeof F.stack=="string")return[F.stack,Z.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],x=i[1];if(o&&x){var w=o.split(`
`),q=x.split(`
`);for(l=n=0;n<w.length&&!w[n].includes("DetermineComponentFrameRoot");)n++;for(;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;if(n===w.length||l===q.length)for(n=w.length-1,l=q.length-1;1<=n&&0<=l&&w[n]!==q[l];)l--;for(;1<=n&&0<=l;n--,l--)if(w[n]!==q[l]){if(n!==1||l!==1)do if(n--,l--,0>l||w[n]!==q[l]){var at=`
`+w[n].replace(" at new "," at ");return t.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",t.displayName)),at}while(1<=n&&0<=l);break}}}finally{Ge=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ae(a):""}function Ne(t,e){switch(t.tag){case 26:case 27:case 5:return Ae(t.type);case 16:return Ae("Lazy");case 13:return t.child!==e&&e!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return Ze(t.type,!1);case 11:return Ze(t.type.render,!1);case 1:return Ze(t.type,!0);case 31:return Ae("Activity");default:return""}}function $e(t){try{var e="",a=null;do e+=Ne(t,a),a=t,t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var oa=Object.prototype.hasOwnProperty,Va=y.unstable_scheduleCallback,Dn=y.unstable_cancelCallback,Na=y.unstable_shouldYield,xi=y.unstable_requestPaint,Fe=y.unstable_now,Dl=y.unstable_getCurrentPriorityLevel,Ka=y.unstable_ImmediatePriority,tn=y.unstable_UserBlockingPriority,ra=y.unstable_NormalPriority,rn=y.unstable_LowPriority,de=y.unstable_IdlePriority,Ja=y.log,W=y.unstable_setDisableYieldValue,vt=null,j=null;function gt(t){if(typeof Ja=="function"&&W(t),j&&typeof j.setStrictMode=="function")try{j.setStrictMode(vt,t)}catch{}}var H=Math.clz32?Math.clz32:et,z=Math.log,$=Math.LN2;function et(t){return t>>>=0,t===0?32:31-(z(t)/$|0)|0}var tt=256,ht=262144,St=4194304;function At(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zt(t,e,a){var n=t.pendingLanes;if(n===0)return 0;var l=0,i=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var x=n&134217727;return x!==0?(n=x&~i,n!==0?l=At(n):(o&=x,o!==0?l=At(o):a||(a=x&~t,a!==0&&(l=At(a))))):(x=n&~i,x!==0?l=At(x):o!==0?l=At(o):a||(a=n&~t,a!==0&&(l=At(a)))),l===0?0:e!==0&&e!==l&&(e&i)===0&&(i=l&-l,a=e&-e,i>=a||i===32&&(a&4194048)!==0)?e:l}function Nt(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function kt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jt(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function k(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function _t(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function le(t,e,a,n,l,i){var o=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,w=t.expirationTimes,q=t.hiddenUpdates;for(a=o&~a;0<a;){var at=31-H(a),ut=1<<at;x[at]=0,w[at]=-1;var Z=q[at];if(Z!==null)for(q[at]=null,at=0;at<Z.length;at++){var F=Z[at];F!==null&&(F.lane&=-536870913)}a&=~ut}n!==0&&Rt(t,n,0),i!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=i&~(o&~e))}function Rt(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-H(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|a&261930}function $t(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var n=31-H(a),l=1<<n;l&e|t[n]&e&&(t[n]|=e),a&=~l}}function Se(t,e){var a=e&-e;return a=(a&42)!==0?1:pe(a),(a&(t.suspendedLanes|e))!==0?0:a}function pe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Te(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function He(){var t=Mt.p;return t!==0?t:(t=window.event,t===void 0?32:xh(t.type))}function ba(t,e){var a=Mt.p;try{return Mt.p=t,e()}finally{Mt.p=a}}var Da=Math.random().toString(36).slice(2),qe="__reactFiber$"+Da,Ie="__reactProps$"+Da,Ra="__reactContainer$"+Da,fl="__reactEvents$"+Da,Rl="__reactListeners$"+Da,Ou="__reactHandles$"+Da,bc="__reactResources$"+Da,aa="__reactMarker$"+Da;function pi(t){delete t[qe],delete t[Ie],delete t[fl],delete t[Rl],delete t[Ou]}function Rn(t){var e=t[qe];if(e)return e;for(var a=t.parentNode;a;){if(e=a[Ra]||a[qe]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(t=th(t);t!==null;){if(a=t[qe])return a;t=th(t)}return e}t=a,a=t.parentNode}return null}function Yn(t){if(t=t[qe]||t[Ra]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function rl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(f(33))}function Xn(t){var e=t[bc];return e||(e=t[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ve(t){t[aa]=!0}var Sc=new Set,Mc={};function dn(t,e){On(t,e),On(t+"Capture",e)}function On(t,e){for(Mc[t]=e,t=0;t<e.length;t++)Sc.add(e[t])}var Hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},vi={};function jc(t){return oa.call(vi,t)?!0:oa.call(Cc,t)?!1:Hu.test(t)?vi[t]=!0:(Cc[t]=!0,!1)}function Yl(t,e,a){if(jc(e))if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+a)}}function dl(t,e,a){if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+a)}}function La(t,e,a,n){if(n===null)t.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(e,a,""+n)}}function da(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ec(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zc(t,e,a){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yi(t){if(!t._valueTracker){var e=Ec(t)?"checked":"value";t._valueTracker=zc(t,e,""+t[e])}}function Tc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var a=e.getValue(),n="";return t&&(n=Ec(t)?t.checked?"true":"false":t.value),t=n,t!==a?(e.setValue(t),!0):!1}function Xl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _u=/[\n"\\]/g;function ha(t){return t.replace(_u,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ol(t,e,a,n,l,i,o,x){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+da(e)):t.value!==""+da(e)&&(t.value=""+da(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?Si(t,o,da(e)):a!=null?Si(t,o,da(a)):n!=null&&t.removeAttribute("value"),l==null&&i!=null&&(t.defaultChecked=!!i),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+da(x):t.removeAttribute("name")}function bi(t,e,a,n,l,i,o,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){yi(t);return}a=a!=null?""+da(a):"",e=e!=null?""+da(e):a,x||e===t.value||(t.value=e),t.defaultValue=e}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=x?t.checked:!!n,t.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),yi(t)}function Si(t,e,a){e==="number"&&Xl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Hn(t,e,a,n){if(t=t.options,e){e={};for(var l=0;l<a.length;l++)e["$"+a[l]]=!0;for(a=0;a<t.length;a++)l=e.hasOwnProperty("$"+t[a].value),t[a].selected!==l&&(t[a].selected=l),l&&n&&(t[a].defaultSelected=!0)}else{for(a=""+da(a),e=null,l=0;l<t.length;l++){if(t[l].value===a){t[l].selected=!0,n&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Mi(t,e,a){if(e!=null&&(e=""+da(e),e!==t.value&&(t.value=e),a==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=a!=null?""+da(a):""}function Ci(t,e,a,n){if(e==null){if(n!=null){if(a!=null)throw Error(f(92));if(Kt(n)){if(1<n.length)throw Error(f(93));n=n[0]}a=n}a==null&&(a=""),e=a}a=da(e),t.defaultValue=a,n=t.textContent,n===a&&n!==""&&n!==null&&(t.value=n),yi(t)}function _n(t,e){if(e){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=e;return}}t.textContent=e}var Wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ji(t,e,a){var n=e.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,a):typeof a!="number"||a===0||Wa.has(e)?e==="float"?t.cssFloat=a:t[e]=(""+a).trim():t[e]=a+"px"}function Ei(t,e,a){if(e!=null&&typeof e!="object")throw Error(f(62));if(t=t.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var l in e)n=e[l],e.hasOwnProperty(l)&&a[l]!==n&&ji(t,l,n)}else for(var i in e)e.hasOwnProperty(i)&&ji(t,i,e[i])}function zi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(t){return Uu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ya(){}var _l=null;function hl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bn=null,en=null;function wc(t){var e=Yn(t);if(e&&(t=e.stateNode)){var a=t[Ie]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ol(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),e=a.name,a.type==="radio"&&e!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ha(""+e)+'"][type="radio"]'),e=0;e<a.length;e++){var n=a[e];if(n!==t&&n.form===t.form){var l=n[Ie]||null;if(!l)throw Error(f(90));Ol(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<a.length;e++)n=a[e],n.form===t.form&&Tc(n)}break t;case"textarea":Mi(t,a.value,a.defaultValue);break t;case"select":e=a.value,e!=null&&Hn(t,!!a.multiple,e,!1)}}}var Ti=!1;function Ac(t,e,a){if(Ti)return t(e,a);Ti=!0;try{var n=t(e);return n}finally{if(Ti=!1,(Bn!==null||en!==null)&&(ru(),Bn&&(e=Bn,t=en,en=Bn=null,wc(e),t)))for(e=0;e<t.length;e++)wc(t[e])}}function b(t,e){var a=t.stateNode;if(a===null)return null;var n=a[Ie]||null;if(n===null)return null;a=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(f(231,e,typeof a));return a}var T=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R=!1;if(T)try{var O={};Object.defineProperty(O,"passive",{get:function(){R=!0}}),window.addEventListener("test",O,O),window.removeEventListener("test",O,O)}catch{R=!1}var E=null,P=null,mt=null;function jt(){if(mt)return mt;var t,e=P,a=e.length,n,l="value"in E?E.value:E.textContent,i=l.length;for(t=0;t<a&&e[t]===l[t];t++);var o=a-t;for(n=1;n<=o&&e[a-n]===l[i-n];n++);return mt=l.slice(t,1<n?1-n:void 0)}function yt(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lt(){return!0}function pt(){return!1}function xt(t){function e(a,n,l,i,o){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lt:pt,this.isPropagationStopped=pt,this}return v(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lt)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lt)},persist:function(){},isPersistent:lt}),e}var Ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fe=xt(Ot),te=v({},Ot,{view:0,detail:0}),ne=xt(te),Me,ue,ee,Tt=v({},te,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ee&&(ee&&t.type==="mousemove"?(Me=t.screenX-ee.screenX,ue=t.screenY-ee.screenY):ue=Me=0,ee=t),Me)},movementY:function(t){return"movementY"in t?t.movementY:ue}}),_e=xt(Tt),an=v({},Tt,{dataTransfer:0}),Xa=xt(an),hn=v({},te,{relatedTarget:0}),ma=xt(hn),nn=v({},Ot,{animationName:0,elapsedTime:0,pseudoElement:0}),ml=xt(nn),Un=v({},Ot,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gn=xt(Un),wi=v({},Ot,{data:0}),qn=xt(wi),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gu[t])?!!e[t]:!1}function ta(){return qu}var Oa=v({},te,{key:function(t){if(t.key){var e=mn[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ln[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?yt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=xt(Oa),Qu=v({},Tt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=xt(Qu),Bl=v({},te,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Ai=xt(Bl),Ul=v({},Ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=xt(Ul),Vu=v({},Tt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ku=xt(Vu),i0=v({},Ot,{newState:0,oldState:0}),c0=xt(i0),u0=[9,13,27,32],Ju=T&&"CompositionEvent"in window,Ni=null;T&&"documentMode"in document&&(Ni=document.documentMode);var s0=T&&"TextEvent"in window&&!Ni,Fo=T&&(!Ju||Ni&&8<Ni&&11>=Ni),Io=" ",Po=!1;function tf(t,e){switch(t){case"keyup":return u0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gl=!1;function o0(t,e){switch(t){case"compositionend":return ef(e);case"keypress":return e.which!==32?null:(Po=!0,Io);case"textInput":return t=e.data,t===Io&&Po?null:t;default:return null}}function f0(t,e){if(Gl)return t==="compositionend"||!Ju&&tf(t,e)?(t=jt(),mt=P=E=null,Gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fo&&e.locale!=="ko"?null:e.data;default:return null}}var r0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r0[t.type]:e==="textarea"}function nf(t,e,a,n){Bn?en?en.push(n):en=[n]:Bn=n,e=vu(e,"onChange"),0<e.length&&(a=new fe("onChange","change",null,a,n),t.push({event:a,listeners:e}))}var Di=null,Ri=null;function d0(t){Gd(t,0)}function Nc(t){var e=rl(t);if(Tc(e))return t}function lf(t,e){if(t==="change")return e}var cf=!1;if(T){var Lu;if(T){var Wu="oninput"in document;if(!Wu){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),Wu=typeof uf.oninput=="function"}Lu=Wu}else Lu=!1;cf=Lu&&(!document.documentMode||9<document.documentMode)}function sf(){Di&&(Di.detachEvent("onpropertychange",of),Ri=Di=null)}function of(t){if(t.propertyName==="value"&&Nc(Ri)){var e=[];nf(e,Ri,t,hl(t)),Ac(d0,e)}}function h0(t,e,a){t==="focusin"?(sf(),Di=e,Ri=a,Di.attachEvent("onpropertychange",of)):t==="focusout"&&sf()}function m0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nc(Ri)}function g0(t,e){if(t==="click")return Nc(e)}function x0(t,e){if(t==="input"||t==="change")return Nc(e)}function p0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sa=typeof Object.is=="function"?Object.is:p0;function Yi(t,e){if(Sa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!oa.call(e,l)||!Sa(t[l],e[l]))return!1}return!0}function ff(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rf(t,e){var a=ff(t);t=0;for(var n;a;){if(a.nodeType===3){if(n=t+a.textContent.length,t<=e&&n>=e)return{node:a,offset:e-t};t=n}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ff(a)}}function df(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?df(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Xl(t.document);e instanceof t.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)t=e.contentWindow;else break;e=Xl(t.document)}return e}function $u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var v0=T&&"documentMode"in document&&11>=document.documentMode,ql=null,Fu=null,Xi=null,Iu=!1;function mf(t,e,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Iu||ql==null||ql!==Xl(n)||(n=ql,"selectionStart"in n&&$u(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xi&&Yi(Xi,n)||(Xi=n,n=vu(Fu,"onSelect"),0<n.length&&(e=new fe("onSelect","select",null,e,a),t.push({event:e,listeners:n}),e.target=ql)))}function xl(t,e){var a={};return a[t.toLowerCase()]=e.toLowerCase(),a["Webkit"+t]="webkit"+e,a["Moz"+t]="moz"+e,a}var kl={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionrun:xl("Transition","TransitionRun"),transitionstart:xl("Transition","TransitionStart"),transitioncancel:xl("Transition","TransitionCancel"),transitionend:xl("Transition","TransitionEnd")},Pu={},gf={};T&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function pl(t){if(Pu[t])return Pu[t];if(!kl[t])return t;var e=kl[t],a;for(a in e)if(e.hasOwnProperty(a)&&a in gf)return Pu[t]=e[a];return t}var xf=pl("animationend"),pf=pl("animationiteration"),vf=pl("animationstart"),y0=pl("transitionrun"),b0=pl("transitionstart"),S0=pl("transitioncancel"),yf=pl("transitionend"),bf=new Map,ts="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ts.push("scrollEnd");function $a(t,e){bf.set(t,e),dn(e,[t])}var Dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ha=[],Ql=0,es=0;function Rc(){for(var t=Ql,e=es=Ql=0;e<t;){var a=Ha[e];Ha[e++]=null;var n=Ha[e];Ha[e++]=null;var l=Ha[e];Ha[e++]=null;var i=Ha[e];if(Ha[e++]=null,n!==null&&l!==null){var o=n.pending;o===null?l.next=l:(l.next=o.next,o.next=l),n.pending=l}i!==0&&Sf(a,l,i)}}function Yc(t,e,a,n){Ha[Ql++]=t,Ha[Ql++]=e,Ha[Ql++]=a,Ha[Ql++]=n,es|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function as(t,e,a,n){return Yc(t,e,a,n),Xc(t)}function vl(t,e){return Yc(t,null,null,e),Xc(t)}function Sf(t,e,a){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=t.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(l=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,l&&e!==null&&(l=31-H(a),t=i.hiddenUpdates,n=t[l],n===null?t[l]=[e]:n.push(e),e.lane=a|536870912),i):null}function Xc(t){if(50<ac)throw ac=0,ro=null,Error(f(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Zl={};function M0(t,e,a,n){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(t,e,a,n){return new M0(t,e,a,n)}function ns(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gn(t,e){var a=t.alternate;return a===null?(a=Ma(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mf(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Oc(t,e,a,n,l,i){var o=0;if(n=t,typeof t=="function")ns(t)&&(o=1);else if(typeof t=="string")o=Tm(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case nt:return t=Ma(31,a,e,l),t.elementType=nt,t.lanes=i,t;case Q:return yl(a.children,l,i,e);case L:o=8,l|=24;break;case J:return t=Ma(12,a,e,l|2),t.elementType=J,t.lanes=i,t;case dt:return t=Ma(13,a,e,l),t.elementType=dt,t.lanes=i,t;case rt:return t=Ma(19,a,e,l),t.elementType=rt,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:o=10;break t;case I:o=9;break t;case ft:o=11;break t;case st:o=14;break t;case bt:o=16,n=null;break t}o=29,a=Error(f(130,t===null?"null":typeof t,"")),n=null}return e=Ma(o,a,e,l),e.elementType=t,e.type=n,e.lanes=i,e}function yl(t,e,a,n){return t=Ma(7,t,n,e),t.lanes=a,t}function ls(t,e,a){return t=Ma(6,t,null,e),t.lanes=a,t}function Cf(t){var e=Ma(18,null,null,0);return e.stateNode=t,e}function is(t,e,a){return e=Ma(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var jf=new WeakMap;function _a(t,e){if(typeof t=="object"&&t!==null){var a=jf.get(t);return a!==void 0?a:(e={value:t,source:e,stack:$e(e)},jf.set(t,e),e)}return{value:t,source:e,stack:$e(e)}}var Vl=[],Kl=0,Hc=null,Oi=0,Ba=[],Ua=0,kn=null,cn=1,un="";function xn(t,e){Vl[Kl++]=Oi,Vl[Kl++]=Hc,Hc=t,Oi=e}function Ef(t,e,a){Ba[Ua++]=cn,Ba[Ua++]=un,Ba[Ua++]=kn,kn=t;var n=cn;t=un;var l=32-H(n)-1;n&=~(1<<l),a+=1;var i=32-H(e)+l;if(30<i){var o=l-l%5;i=(n&(1<<o)-1).toString(32),n>>=o,l-=o,cn=1<<32-H(e)+l|a<<l|n,un=i+t}else cn=1<<i|a<<l|n,un=t}function cs(t){t.return!==null&&(xn(t,1),Ef(t,1,0))}function us(t){for(;t===Hc;)Hc=Vl[--Kl],Vl[Kl]=null,Oi=Vl[--Kl],Vl[Kl]=null;for(;t===kn;)kn=Ba[--Ua],Ba[Ua]=null,un=Ba[--Ua],Ba[Ua]=null,cn=Ba[--Ua],Ba[Ua]=null}function zf(t,e){Ba[Ua++]=cn,Ba[Ua++]=un,Ba[Ua++]=kn,cn=e.id,un=e.overflow,kn=t}var na=null,De=null,re=!1,Qn=null,Ga=!1,ss=Error(f(519));function Zn(t){var e=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(_a(e,t)),ss}function Tf(t){var e=t.stateNode,a=t.type,n=t.memoizedProps;switch(e[qe]=t,e[Ie]=n,a){case"dialog":ce("cancel",e),ce("close",e);break;case"iframe":case"object":case"embed":ce("load",e);break;case"video":case"audio":for(a=0;a<lc.length;a++)ce(lc[a],e);break;case"source":ce("error",e);break;case"img":case"image":case"link":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"input":ce("invalid",e),bi(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ce("invalid",e);break;case"textarea":ce("invalid",e),Ci(e,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||e.textContent===""+a||n.suppressHydrationWarning===!0||Zd(e.textContent,a)?(n.popover!=null&&(ce("beforetoggle",e),ce("toggle",e)),n.onScroll!=null&&ce("scroll",e),n.onScrollEnd!=null&&ce("scrollend",e),n.onClick!=null&&(e.onclick=Ya),e=!0):e=!1,e||Zn(t,!0)}function wf(t){for(na=t.return;na;)switch(na.tag){case 5:case 31:case 13:Ga=!1;return;case 27:case 3:Ga=!0;return;default:na=na.return}}function Jl(t){if(t!==na)return!1;if(!re)return wf(t),re=!0,!1;var e=t.tag,a;if((a=e!==3&&e!==27)&&((a=e===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||To(t.type,t.memoizedProps)),a=!a),a&&De&&Zn(t),wf(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(317));De=Pd(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(317));De=Pd(t)}else e===27?(e=De,ll(t.type)?(t=Ro,Ro=null,De=t):De=e):De=na?ka(t.stateNode.nextSibling):null;return!0}function bl(){De=na=null,re=!1}function os(){var t=Qn;return t!==null&&(va===null?va=t:va.push.apply(va,t),Qn=null),t}function Hi(t){Qn===null?Qn=[t]:Qn.push(t)}var fs=N(null),Sl=null,pn=null;function Vn(t,e,a){ot(fs,e._currentValue),e._currentValue=a}function vn(t){t._currentValue=fs.current,B(fs)}function rs(t,e,a){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===a)break;t=t.return}}function ds(t,e,a,n){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){var o=l.child;i=i.firstContext;t:for(;i!==null;){var x=i;i=l;for(var w=0;w<e.length;w++)if(x.context===e[w]){i.lanes|=a,x=i.alternate,x!==null&&(x.lanes|=a),rs(i.return,a,t),n||(o=null);break t}i=x.next}}else if(l.tag===18){if(o=l.return,o===null)throw Error(f(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),rs(o,a,t),o=null}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}}function Ll(t,e,a,n){t=null;for(var l=e,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var o=l.alternate;if(o===null)throw Error(f(387));if(o=o.memoizedProps,o!==null){var x=l.type;Sa(l.pendingProps.value,o.value)||(t!==null?t.push(x):t=[x])}}else if(l===U.current){if(o=l.alternate,o===null)throw Error(f(387));o.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(oc):t=[oc])}l=l.return}t!==null&&ds(e,t,a,n),e.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!Sa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ml(t){Sl=t,pn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function la(t){return Af(Sl,t)}function Bc(t,e){return Sl===null&&Ml(t),Af(t,e)}function Af(t,e){var a=e._currentValue;if(e={context:e,memoizedValue:a,next:null},pn===null){if(t===null)throw Error(f(308));pn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else pn=pn.next=e;return a}var C0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},j0=y.unstable_scheduleCallback,E0=y.unstable_NormalPriority,Ke={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hs(){return{controller:new C0,data:new Map,refCount:0}}function _i(t){t.refCount--,t.refCount===0&&j0(E0,function(){t.controller.abort()})}var Bi=null,ms=0,Wl=0,$l=null;function z0(t,e){if(Bi===null){var a=Bi=[];ms=0,Wl=vo(),$l={status:"pending",value:void 0,then:function(n){a.push(n)}}}return ms++,e.then(Nf,Nf),e}function Nf(){if(--ms===0&&Bi!==null){$l!==null&&($l.status="fulfilled");var t=Bi;Bi=null,Wl=0,$l=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function T0(t,e){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var l=0;l<a.length;l++)(0,a[l])(e)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var Df=K.S;K.S=function(t,e){md=Fe(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&z0(t,e),Df!==null&&Df(t,e)};var Cl=N(null);function gs(){var t=Cl.current;return t!==null?t:we.pooledCache}function Uc(t,e){e===null?ot(Cl,Cl.current):ot(Cl,e.pool)}function Rf(){var t=gs();return t===null?null:{parent:Ke._currentValue,pool:t}}var Fl=Error(f(460)),xs=Error(f(474)),Gc=Error(f(542)),qc={then:function(){}};function Yf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xf(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(Ya,Ya),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Hf(t),t;default:if(typeof e.status=="string")e.then(Ya,Ya);else{if(t=we,t!==null&&100<t.shellSuspendCounter)throw Error(f(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=n}},function(n){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Hf(t),t}throw El=e,Fl}}function jl(t){try{var e=t._init;return e(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(El=a,Fl):a}}var El=null;function Of(){if(El===null)throw Error(f(459));var t=El;return El=null,t}function Hf(t){if(t===Fl||t===Gc)throw Error(f(483))}var Il=null,Ui=0;function kc(t){var e=Ui;return Ui+=1,Il===null&&(Il=[]),Xf(Il,t,e)}function Gi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Qc(t,e){throw e.$$typeof===M?Error(f(525)):(t=Object.prototype.toString.call(e),Error(f(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function _f(t){function e(Y,D){if(t){var G=Y.deletions;G===null?(Y.deletions=[D],Y.flags|=16):G.push(D)}}function a(Y,D){if(!t)return null;for(;D!==null;)e(Y,D),D=D.sibling;return null}function n(Y){for(var D=new Map;Y!==null;)Y.key!==null?D.set(Y.key,Y):D.set(Y.index,Y),Y=Y.sibling;return D}function l(Y,D){return Y=gn(Y,D),Y.index=0,Y.sibling=null,Y}function i(Y,D,G){return Y.index=G,t?(G=Y.alternate,G!==null?(G=G.index,G<D?(Y.flags|=67108866,D):G):(Y.flags|=67108866,D)):(Y.flags|=1048576,D)}function o(Y){return t&&Y.alternate===null&&(Y.flags|=67108866),Y}function x(Y,D,G,it){return D===null||D.tag!==6?(D=ls(G,Y.mode,it),D.return=Y,D):(D=l(D,G),D.return=Y,D)}function w(Y,D,G,it){var Ut=G.type;return Ut===Q?at(Y,D,G.props.children,it,G.key):D!==null&&(D.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===bt&&jl(Ut)===D.type)?(D=l(D,G.props),Gi(D,G),D.return=Y,D):(D=Oc(G.type,G.key,G.props,null,Y.mode,it),Gi(D,G),D.return=Y,D)}function q(Y,D,G,it){return D===null||D.tag!==4||D.stateNode.containerInfo!==G.containerInfo||D.stateNode.implementation!==G.implementation?(D=is(G,Y.mode,it),D.return=Y,D):(D=l(D,G.children||[]),D.return=Y,D)}function at(Y,D,G,it,Ut){return D===null||D.tag!==7?(D=yl(G,Y.mode,it,Ut),D.return=Y,D):(D=l(D,G),D.return=Y,D)}function ut(Y,D,G){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ls(""+D,Y.mode,G),D.return=Y,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return G=Oc(D.type,D.key,D.props,null,Y.mode,G),Gi(G,D),G.return=Y,G;case X:return D=is(D,Y.mode,G),D.return=Y,D;case bt:return D=jl(D),ut(Y,D,G)}if(Kt(D)||Gt(D))return D=yl(D,Y.mode,G,null),D.return=Y,D;if(typeof D.then=="function")return ut(Y,kc(D),G);if(D.$$typeof===V)return ut(Y,Bc(Y,D),G);Qc(Y,D)}return null}function Z(Y,D,G,it){var Ut=D!==null?D.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ut!==null?null:x(Y,D,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===Ut?w(Y,D,G,it):null;case X:return G.key===Ut?q(Y,D,G,it):null;case bt:return G=jl(G),Z(Y,D,G,it)}if(Kt(G)||Gt(G))return Ut!==null?null:at(Y,D,G,it,null);if(typeof G.then=="function")return Z(Y,D,kc(G),it);if(G.$$typeof===V)return Z(Y,D,Bc(Y,G),it);Qc(Y,G)}return null}function F(Y,D,G,it,Ut){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Y=Y.get(G)||null,x(D,Y,""+it,Ut);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case A:return Y=Y.get(it.key===null?G:it.key)||null,w(D,Y,it,Ut);case X:return Y=Y.get(it.key===null?G:it.key)||null,q(D,Y,it,Ut);case bt:return it=jl(it),F(Y,D,G,it,Ut)}if(Kt(it)||Gt(it))return Y=Y.get(G)||null,at(D,Y,it,Ut,null);if(typeof it.then=="function")return F(Y,D,G,kc(it),Ut);if(it.$$typeof===V)return F(Y,D,G,Bc(D,it),Ut);Qc(D,it)}return null}function Yt(Y,D,G,it){for(var Ut=null,he=null,Ht=D,It=D=0,oe=null;Ht!==null&&It<G.length;It++){Ht.index>It?(oe=Ht,Ht=null):oe=Ht.sibling;var me=Z(Y,Ht,G[It],it);if(me===null){Ht===null&&(Ht=oe);break}t&&Ht&&me.alternate===null&&e(Y,Ht),D=i(me,D,It),he===null?Ut=me:he.sibling=me,he=me,Ht=oe}if(It===G.length)return a(Y,Ht),re&&xn(Y,It),Ut;if(Ht===null){for(;It<G.length;It++)Ht=ut(Y,G[It],it),Ht!==null&&(D=i(Ht,D,It),he===null?Ut=Ht:he.sibling=Ht,he=Ht);return re&&xn(Y,It),Ut}for(Ht=n(Ht);It<G.length;It++)oe=F(Ht,Y,It,G[It],it),oe!==null&&(t&&oe.alternate!==null&&Ht.delete(oe.key===null?It:oe.key),D=i(oe,D,It),he===null?Ut=oe:he.sibling=oe,he=oe);return t&&Ht.forEach(function(ol){return e(Y,ol)}),re&&xn(Y,It),Ut}function Qt(Y,D,G,it){if(G==null)throw Error(f(151));for(var Ut=null,he=null,Ht=D,It=D=0,oe=null,me=G.next();Ht!==null&&!me.done;It++,me=G.next()){Ht.index>It?(oe=Ht,Ht=null):oe=Ht.sibling;var ol=Z(Y,Ht,me.value,it);if(ol===null){Ht===null&&(Ht=oe);break}t&&Ht&&ol.alternate===null&&e(Y,Ht),D=i(ol,D,It),he===null?Ut=ol:he.sibling=ol,he=ol,Ht=oe}if(me.done)return a(Y,Ht),re&&xn(Y,It),Ut;if(Ht===null){for(;!me.done;It++,me=G.next())me=ut(Y,me.value,it),me!==null&&(D=i(me,D,It),he===null?Ut=me:he.sibling=me,he=me);return re&&xn(Y,It),Ut}for(Ht=n(Ht);!me.done;It++,me=G.next())me=F(Ht,Y,It,me.value,it),me!==null&&(t&&me.alternate!==null&&Ht.delete(me.key===null?It:me.key),D=i(me,D,It),he===null?Ut=me:he.sibling=me,he=me);return t&&Ht.forEach(function(Bm){return e(Y,Bm)}),re&&xn(Y,It),Ut}function Ee(Y,D,G,it){if(typeof G=="object"&&G!==null&&G.type===Q&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:t:{for(var Ut=G.key;D!==null;){if(D.key===Ut){if(Ut=G.type,Ut===Q){if(D.tag===7){a(Y,D.sibling),it=l(D,G.props.children),it.return=Y,Y=it;break t}}else if(D.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===bt&&jl(Ut)===D.type){a(Y,D.sibling),it=l(D,G.props),Gi(it,G),it.return=Y,Y=it;break t}a(Y,D);break}else e(Y,D);D=D.sibling}G.type===Q?(it=yl(G.props.children,Y.mode,it,G.key),it.return=Y,Y=it):(it=Oc(G.type,G.key,G.props,null,Y.mode,it),Gi(it,G),it.return=Y,Y=it)}return o(Y);case X:t:{for(Ut=G.key;D!==null;){if(D.key===Ut)if(D.tag===4&&D.stateNode.containerInfo===G.containerInfo&&D.stateNode.implementation===G.implementation){a(Y,D.sibling),it=l(D,G.children||[]),it.return=Y,Y=it;break t}else{a(Y,D);break}else e(Y,D);D=D.sibling}it=is(G,Y.mode,it),it.return=Y,Y=it}return o(Y);case bt:return G=jl(G),Ee(Y,D,G,it)}if(Kt(G))return Yt(Y,D,G,it);if(Gt(G)){if(Ut=Gt(G),typeof Ut!="function")throw Error(f(150));return G=Ut.call(G),Qt(Y,D,G,it)}if(typeof G.then=="function")return Ee(Y,D,kc(G),it);if(G.$$typeof===V)return Ee(Y,D,Bc(Y,G),it);Qc(Y,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,D!==null&&D.tag===6?(a(Y,D.sibling),it=l(D,G),it.return=Y,Y=it):(a(Y,D),it=ls(G,Y.mode,it),it.return=Y,Y=it),o(Y)):a(Y,D)}return function(Y,D,G,it){try{Ui=0;var Ut=Ee(Y,D,G,it);return Il=null,Ut}catch(Ht){if(Ht===Fl||Ht===Gc)throw Ht;var he=Ma(29,Ht,null,Y.mode);return he.lanes=it,he.return=Y,he}finally{}}}var zl=_f(!0),Bf=_f(!1),Kn=!1;function ps(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Jn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ln(t,e,a){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(xe&2)!==0){var l=n.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),n.pending=e,e=Xc(t),Sf(t,null,a),e}return Yc(t,n,e,a),Xc(t)}function qi(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,$t(t,a)}}function ys(t,e){var a=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?l=i=e:i=i.next=e}else l=i=e;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}var bs=!1;function ki(){if(bs){var t=$l;if(t!==null)throw t}}function Qi(t,e,a,n){bs=!1;var l=t.updateQueue;Kn=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,x=l.shared.pending;if(x!==null){l.shared.pending=null;var w=x,q=w.next;w.next=null,o===null?i=q:o.next=q,o=w;var at=t.alternate;at!==null&&(at=at.updateQueue,x=at.lastBaseUpdate,x!==o&&(x===null?at.firstBaseUpdate=q:x.next=q,at.lastBaseUpdate=w))}if(i!==null){var ut=l.baseState;o=0,at=q=w=null,x=i;do{var Z=x.lane&-536870913,F=Z!==x.lane;if(F?(se&Z)===Z:(n&Z)===Z){Z!==0&&Z===Wl&&(bs=!0),at!==null&&(at=at.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Yt=t,Qt=x;Z=e;var Ee=a;switch(Qt.tag){case 1:if(Yt=Qt.payload,typeof Yt=="function"){ut=Yt.call(Ee,ut,Z);break t}ut=Yt;break t;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Qt.payload,Z=typeof Yt=="function"?Yt.call(Ee,ut,Z):Yt,Z==null)break t;ut=v({},ut,Z);break t;case 2:Kn=!0}}Z=x.callback,Z!==null&&(t.flags|=64,F&&(t.flags|=8192),F=l.callbacks,F===null?l.callbacks=[Z]:F.push(Z))}else F={lane:Z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},at===null?(q=at=F,w=ut):at=at.next=F,o|=Z;if(x=x.next,x===null){if(x=l.shared.pending,x===null)break;F=x,x=F.next,F.next=null,l.lastBaseUpdate=F,l.shared.pending=null}}while(!0);at===null&&(w=ut),l.baseState=w,l.firstBaseUpdate=q,l.lastBaseUpdate=at,i===null&&(l.shared.lanes=0),Pn|=o,t.lanes=o,t.memoizedState=ut}}function Uf(t,e){if(typeof t!="function")throw Error(f(191,t));t.call(e)}function Gf(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Uf(a[t],e)}var Pl=N(null),Zc=N(0);function qf(t,e){t=Tn,ot(Zc,t),ot(Pl,e),Tn=t|e.baseLanes}function Ss(){ot(Zc,Tn),ot(Pl,Pl.current)}function Ms(){Tn=Zc.current,B(Pl),B(Zc)}var Ca=N(null),qa=null;function Wn(t){var e=t.alternate;ot(ke,ke.current&1),ot(Ca,t),qa===null&&(e===null||Pl.current!==null||e.memoizedState!==null)&&(qa=t)}function Cs(t){ot(ke,ke.current),ot(Ca,t),qa===null&&(qa=t)}function kf(t){t.tag===22?(ot(ke,ke.current),ot(Ca,t),qa===null&&(qa=t)):$n()}function $n(){ot(ke,ke.current),ot(Ca,Ca.current)}function ja(t){B(Ca),qa===t&&(qa=null),B(ke)}var ke=N(0);function Vc(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||No(a)||Do(a)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yn=0,Ft=null,Ce=null,Je=null,Kc=!1,ti=!1,Tl=!1,Jc=0,Zi=0,ei=null,w0=0;function Be(){throw Error(f(321))}function js(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!Sa(t[a],e[a]))return!1;return!0}function Es(t,e,a,n,l,i){return yn=i,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K.H=t===null||t.memoizedState===null?Er:Gs,Tl=!1,i=a(n,l),Tl=!1,ti&&(i=Zf(e,a,n,l)),Qf(t),i}function Qf(t){K.H=Ji;var e=Ce!==null&&Ce.next!==null;if(yn=0,Je=Ce=Ft=null,Kc=!1,Zi=0,ei=null,e)throw Error(f(300));t===null||Le||(t=t.dependencies,t!==null&&_c(t)&&(Le=!0))}function Zf(t,e,a,n){Ft=t;var l=0;do{if(ti&&(ei=null),Zi=0,ti=!1,25<=l)throw Error(f(301));if(l+=1,Je=Ce=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}K.H=zr,i=e(a,n)}while(ti);return i}function A0(){var t=K.H,e=t.useState()[0];return e=typeof e.then=="function"?Vi(e):e,t=t.useState()[0],(Ce!==null?Ce.memoizedState:null)!==t&&(Ft.flags|=1024),e}function zs(){var t=Jc!==0;return Jc=0,t}function Ts(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function ws(t){if(Kc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Kc=!1}yn=0,Je=Ce=Ft=null,ti=!1,Zi=Jc=0,ei=null}function fa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ft.memoizedState=Je=t:Je=Je.next=t,Je}function Qe(){if(Ce===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=Je===null?Ft.memoizedState:Je.next;if(e!==null)Je=e,Ce=t;else{if(t===null)throw Ft.alternate===null?Error(f(467)):Error(f(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Je===null?Ft.memoizedState=Je=t:Je=Je.next=t}return Je}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vi(t){var e=Zi;return Zi+=1,ei===null&&(ei=[]),t=Xf(ei,t,e),e=Ft,(Je===null?e.memoizedState:Je.next)===null&&(e=e.alternate,K.H=e===null||e.memoizedState===null?Er:Gs),t}function Wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vi(t);if(t.$$typeof===V)return la(t)}throw Error(f(438,String(t)))}function As(t){var e=null,a=Ft.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var n=Ft.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=Lc(),Ft.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),n=0;n<t;n++)a[n]=Et;return e.index++,a}function bn(t,e){return typeof e=="function"?e(t):e}function $c(t){var e=Qe();return Ns(e,Ce,t)}function Ns(t,e,a){var n=t.queue;if(n===null)throw Error(f(311));n.lastRenderedReducer=a;var l=t.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}e.baseQueue=l=i,n.pending=null}if(i=t.baseState,l===null)t.memoizedState=i;else{e=l.next;var x=o=null,w=null,q=e,at=!1;do{var ut=q.lane&-536870913;if(ut!==q.lane?(se&ut)===ut:(yn&ut)===ut){var Z=q.revertLane;if(Z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ut===Wl&&(at=!0);else if((yn&Z)===Z){q=q.next,Z===Wl&&(at=!0);continue}else ut={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},w===null?(x=w=ut,o=i):w=w.next=ut,Ft.lanes|=Z,Pn|=Z;ut=q.action,Tl&&a(i,ut),i=q.hasEagerState?q.eagerState:a(i,ut)}else Z={lane:ut,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},w===null?(x=w=Z,o=i):w=w.next=Z,Ft.lanes|=ut,Pn|=ut;q=q.next}while(q!==null&&q!==e);if(w===null?o=i:w.next=x,!Sa(i,t.memoizedState)&&(Le=!0,at&&(a=$l,a!==null)))throw a;t.memoizedState=i,t.baseState=o,t.baseQueue=w,n.lastRenderedState=i}return l===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Ds(t){var e=Qe(),a=e.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=t;var n=a.dispatch,l=a.pending,i=e.memoizedState;if(l!==null){a.pending=null;var o=l=l.next;do i=t(i,o.action),o=o.next;while(o!==l);Sa(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),a.lastRenderedState=i}return[i,n]}function Vf(t,e,a){var n=Ft,l=Qe(),i=re;if(i){if(a===void 0)throw Error(f(407));a=a()}else a=e();var o=!Sa((Ce||l).memoizedState,a);if(o&&(l.memoizedState=a,Le=!0),l=l.queue,Xs(Lf.bind(null,n,l,t),[t]),l.getSnapshot!==e||o||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,ai(9,{destroy:void 0},Jf.bind(null,n,l,a,e),null),we===null)throw Error(f(349));i||(yn&127)!==0||Kf(n,e,a)}return a}function Kf(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=Ft.updateQueue,e===null?(e=Lc(),Ft.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function Jf(t,e,a,n){e.value=a,e.getSnapshot=n,Wf(e)&&$f(t)}function Lf(t,e,a){return a(function(){Wf(e)&&$f(t)})}function Wf(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!Sa(t,a)}catch{return!0}}function $f(t){var e=vl(t,2);e!==null&&ya(e,t,2)}function Rs(t){var e=fa();if(typeof t=="function"){var a=t;if(t=a(),Tl){gt(!0);try{a()}finally{gt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:t},e}function Ff(t,e,a,n){return t.baseState=a,Ns(t,Ce,typeof n=="function"?n:bn)}function N0(t,e,a,n,l){if(Pc(t))throw Error(f(485));if(t=e.action,t!==null){var i={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};K.T!==null?a(!0):i.isTransition=!1,n(i),a=e.pending,a===null?(i.next=e.pending=i,If(e,i)):(i.next=a.next,e.pending=a.next=i)}}function If(t,e){var a=e.action,n=e.payload,l=t.state;if(e.isTransition){var i=K.T,o={};K.T=o;try{var x=a(l,n),w=K.S;w!==null&&w(o,x),Pf(t,e,x)}catch(q){Ys(t,e,q)}finally{i!==null&&o.types!==null&&(i.types=o.types),K.T=i}}else try{i=a(l,n),Pf(t,e,i)}catch(q){Ys(t,e,q)}}function Pf(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){tr(t,e,n)},function(n){return Ys(t,e,n)}):tr(t,e,a)}function tr(t,e,a){e.status="fulfilled",e.value=a,er(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,If(t,a)))}function Ys(t,e,a){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=a,er(e),e=e.next;while(e!==n)}t.action=null}function er(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ar(t,e){return e}function nr(t,e){if(re){var a=we.formState;if(a!==null){t:{var n=Ft;if(re){if(De){e:{for(var l=De,i=Ga;l.nodeType!==8;){if(!i){l=null;break e}if(l=ka(l.nextSibling),l===null){l=null;break e}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){De=ka(l.nextSibling),n=l.data==="F!";break t}}Zn(n)}n=!1}n&&(e=a[0])}}return a=fa(),a.memoizedState=a.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},a.queue=n,a=Mr.bind(null,Ft,n),n.dispatch=a,n=Rs(!1),i=Us.bind(null,Ft,!1,n.queue),n=fa(),l={state:e,dispatch:null,action:t,pending:null},n.queue=l,a=N0.bind(null,Ft,l,i,a),l.dispatch=a,n.memoizedState=t,[e,a,!1]}function lr(t){var e=Qe();return ir(e,Ce,t)}function ir(t,e,a){if(e=Ns(t,e,ar)[0],t=$c(bn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Vi(e)}catch(o){throw o===Fl?Gc:o}else n=e;e=Qe();var l=e.queue,i=l.dispatch;return a!==e.memoizedState&&(Ft.flags|=2048,ai(9,{destroy:void 0},D0.bind(null,l,a),null)),[n,i,t]}function D0(t,e){t.action=e}function cr(t){var e=Qe(),a=Ce;if(a!==null)return ir(e,a,t);Qe(),e=e.memoizedState,a=Qe();var n=a.queue.dispatch;return a.memoizedState=t,[e,n,!1]}function ai(t,e,a,n){return t={tag:t,create:a,deps:n,inst:e,next:null},e=Ft.updateQueue,e===null&&(e=Lc(),Ft.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(n=a.next,a.next=t,t.next=n,e.lastEffect=t),t}function ur(){return Qe().memoizedState}function Fc(t,e,a,n){var l=fa();Ft.flags|=t,l.memoizedState=ai(1|e,{destroy:void 0},a,n===void 0?null:n)}function Ic(t,e,a,n){var l=Qe();n=n===void 0?null:n;var i=l.memoizedState.inst;Ce!==null&&n!==null&&js(n,Ce.memoizedState.deps)?l.memoizedState=ai(e,i,a,n):(Ft.flags|=t,l.memoizedState=ai(1|e,i,a,n))}function sr(t,e){Fc(8390656,8,t,e)}function Xs(t,e){Ic(2048,8,t,e)}function R0(t){Ft.flags|=4;var e=Ft.updateQueue;if(e===null)e=Lc(),Ft.updateQueue=e,e.events=[t];else{var a=e.events;a===null?e.events=[t]:a.push(t)}}function or(t){var e=Qe().memoizedState;return R0({ref:e,nextImpl:t}),function(){if((xe&2)!==0)throw Error(f(440));return e.impl.apply(void 0,arguments)}}function fr(t,e){return Ic(4,2,t,e)}function rr(t,e){return Ic(4,4,t,e)}function dr(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hr(t,e,a){a=a!=null?a.concat([t]):null,Ic(4,4,dr.bind(null,e,t),a)}function Os(){}function mr(t,e){var a=Qe();e=e===void 0?null:e;var n=a.memoizedState;return e!==null&&js(e,n[1])?n[0]:(a.memoizedState=[t,e],t)}function gr(t,e){var a=Qe();e=e===void 0?null:e;var n=a.memoizedState;if(e!==null&&js(e,n[1]))return n[0];if(n=t(),Tl){gt(!0);try{t()}finally{gt(!1)}}return a.memoizedState=[n,e],n}function Hs(t,e,a){return a===void 0||(yn&1073741824)!==0&&(se&261930)===0?t.memoizedState=e:(t.memoizedState=a,t=xd(),Ft.lanes|=t,Pn|=t,a)}function xr(t,e,a,n){return Sa(a,e)?a:Pl.current!==null?(t=Hs(t,a,n),Sa(t,e)||(Le=!0),t):(yn&42)===0||(yn&1073741824)!==0&&(se&261930)===0?(Le=!0,t.memoizedState=a):(t=xd(),Ft.lanes|=t,Pn|=t,e)}function pr(t,e,a,n,l){var i=Mt.p;Mt.p=i!==0&&8>i?i:8;var o=K.T,x={};K.T=x,Us(t,!1,e,a);try{var w=l(),q=K.S;if(q!==null&&q(x,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var at=T0(w,n);Ki(t,e,at,Ta(t))}else Ki(t,e,n,Ta(t))}catch(ut){Ki(t,e,{then:function(){},status:"rejected",reason:ut},Ta())}finally{Mt.p=i,o!==null&&x.types!==null&&(o.types=x.types),K.T=o}}function Y0(){}function _s(t,e,a,n){if(t.tag!==5)throw Error(f(476));var l=vr(t).queue;pr(t,l,e,wt,a===null?Y0:function(){return yr(t),a(n)})}function vr(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:wt},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function yr(t){var e=vr(t);e.next===null&&(e=t.alternate.memoizedState),Ki(t,e.next.queue,{},Ta())}function Bs(){return la(oc)}function br(){return Qe().memoizedState}function Sr(){return Qe().memoizedState}function X0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=Ta();t=Jn(a);var n=Ln(e,t,a);n!==null&&(ya(n,e,a),qi(n,e,a)),e={cache:hs()},t.payload=e;return}e=e.return}}function O0(t,e,a){var n=Ta();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pc(t)?Cr(e,a):(a=as(t,e,a,n),a!==null&&(ya(a,t,n),jr(a,e,n)))}function Mr(t,e,a){var n=Ta();Ki(t,e,a,n)}function Ki(t,e,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pc(t))Cr(e,l);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,x=i(o,a);if(l.hasEagerState=!0,l.eagerState=x,Sa(x,o))return Yc(t,e,l,0),we===null&&Rc(),!1}catch{}finally{}if(a=as(t,e,l,n),a!==null)return ya(a,t,n),jr(a,e,n),!0}return!1}function Us(t,e,a,n){if(n={lane:2,revertLane:vo(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Pc(t)){if(e)throw Error(f(479))}else e=as(t,a,n,2),e!==null&&ya(e,t,2)}function Pc(t){var e=t.alternate;return t===Ft||e!==null&&e===Ft}function Cr(t,e){ti=Kc=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function jr(t,e,a){if((a&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,$t(t,a)}}var Ji={readContext:la,use:Wc,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Ji.useEffectEvent=Be;var Er={readContext:la,use:Wc,useCallback:function(t,e){return fa().memoizedState=[t,e===void 0?null:e],t},useContext:la,useEffect:sr,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,Fc(4194308,4,dr.bind(null,e,t),a)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){Fc(4,2,t,e)},useMemo:function(t,e){var a=fa();e=e===void 0?null:e;var n=t();if(Tl){gt(!0);try{t()}finally{gt(!1)}}return a.memoizedState=[n,e],n},useReducer:function(t,e,a){var n=fa();if(a!==void 0){var l=a(e);if(Tl){gt(!0);try{a(e)}finally{gt(!1)}}}else l=e;return n.memoizedState=n.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},n.queue=t,t=t.dispatch=O0.bind(null,Ft,t),[n.memoizedState,t]},useRef:function(t){var e=fa();return t={current:t},e.memoizedState=t},useState:function(t){t=Rs(t);var e=t.queue,a=Mr.bind(null,Ft,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:Os,useDeferredValue:function(t,e){var a=fa();return Hs(a,t,e)},useTransition:function(){var t=Rs(!1);return t=pr.bind(null,Ft,t.queue,!0,!1),fa().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var n=Ft,l=fa();if(re){if(a===void 0)throw Error(f(407));a=a()}else{if(a=e(),we===null)throw Error(f(349));(se&127)!==0||Kf(n,e,a)}l.memoizedState=a;var i={value:a,getSnapshot:e};return l.queue=i,sr(Lf.bind(null,n,i,t),[t]),n.flags|=2048,ai(9,{destroy:void 0},Jf.bind(null,n,i,a,e),null),a},useId:function(){var t=fa(),e=we.identifierPrefix;if(re){var a=un,n=cn;a=(n&~(1<<32-H(n)-1)).toString(32)+a,e="_"+e+"R_"+a,a=Jc++,0<a&&(e+="H"+a.toString(32)),e+="_"}else a=w0++,e="_"+e+"r_"+a.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Bs,useFormState:nr,useActionState:nr,useOptimistic:function(t){var e=fa();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=Us.bind(null,Ft,!0,a),a.dispatch=e,[t,e]},useMemoCache:As,useCacheRefresh:function(){return fa().memoizedState=X0.bind(null,Ft)},useEffectEvent:function(t){var e=fa(),a={impl:t};return e.memoizedState=a,function(){if((xe&2)!==0)throw Error(f(440));return a.impl.apply(void 0,arguments)}}},Gs={readContext:la,use:Wc,useCallback:mr,useContext:la,useEffect:Xs,useImperativeHandle:hr,useInsertionEffect:fr,useLayoutEffect:rr,useMemo:gr,useReducer:$c,useRef:ur,useState:function(){return $c(bn)},useDebugValue:Os,useDeferredValue:function(t,e){var a=Qe();return xr(a,Ce.memoizedState,t,e)},useTransition:function(){var t=$c(bn)[0],e=Qe().memoizedState;return[typeof t=="boolean"?t:Vi(t),e]},useSyncExternalStore:Vf,useId:br,useHostTransitionStatus:Bs,useFormState:lr,useActionState:lr,useOptimistic:function(t,e){var a=Qe();return Ff(a,Ce,t,e)},useMemoCache:As,useCacheRefresh:Sr};Gs.useEffectEvent=or;var zr={readContext:la,use:Wc,useCallback:mr,useContext:la,useEffect:Xs,useImperativeHandle:hr,useInsertionEffect:fr,useLayoutEffect:rr,useMemo:gr,useReducer:Ds,useRef:ur,useState:function(){return Ds(bn)},useDebugValue:Os,useDeferredValue:function(t,e){var a=Qe();return Ce===null?Hs(a,t,e):xr(a,Ce.memoizedState,t,e)},useTransition:function(){var t=Ds(bn)[0],e=Qe().memoizedState;return[typeof t=="boolean"?t:Vi(t),e]},useSyncExternalStore:Vf,useId:br,useHostTransitionStatus:Bs,useFormState:cr,useActionState:cr,useOptimistic:function(t,e){var a=Qe();return Ce!==null?Ff(a,Ce,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:As,useCacheRefresh:Sr};zr.useEffectEvent=or;function qs(t,e,a,n){e=t.memoizedState,a=a(n,e),a=a==null?e:v({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ks={enqueueSetState:function(t,e,a){t=t._reactInternals;var n=Ta(),l=Jn(n);l.payload=e,a!=null&&(l.callback=a),e=Ln(t,l,n),e!==null&&(ya(e,t,n),qi(e,t,n))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var n=Ta(),l=Jn(n);l.tag=1,l.payload=e,a!=null&&(l.callback=a),e=Ln(t,l,n),e!==null&&(ya(e,t,n),qi(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=Ta(),n=Jn(a);n.tag=2,e!=null&&(n.callback=e),e=Ln(t,n,a),e!==null&&(ya(e,t,a),qi(e,t,a))}};function Tr(t,e,a,n,l,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yi(a,n)||!Yi(l,i):!0}function wr(t,e,a,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,n),e.state!==t&&ks.enqueueReplaceState(e,e.state,null)}function wl(t,e){var a=e;if("ref"in e){a={};for(var n in e)n!=="ref"&&(a[n]=e[n])}if(t=t.defaultProps){a===e&&(a=v({},a));for(var l in t)a[l]===void 0&&(a[l]=t[l])}return a}function Ar(t){Dc(t)}function Nr(t){console.error(t)}function Dr(t){Dc(t)}function tu(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function Rr(t,e,a){try{var n=t.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Qs(t,e,a){return a=Jn(a),a.tag=3,a.payload={element:null},a.callback=function(){tu(t,e)},a}function Yr(t){return t=Jn(t),t.tag=3,t}function Xr(t,e,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;t.payload=function(){return l(i)},t.callback=function(){Rr(e,a,n)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){Rr(e,a,n),typeof l!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})})}function H0(t,e,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=a.alternate,e!==null&&Ll(e,a,l,!0),a=Ca.current,a!==null){switch(a.tag){case 31:case 13:return qa===null?du():a.alternate===null&&Ue===0&&(Ue=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===qc?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([n]):e.add(n),go(t,n,l)),!1;case 22:return a.flags|=65536,n===qc?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([n]):a.add(n)),go(t,n,l)),!1}throw Error(f(435,a.tag))}return go(t,n,l),du(),!1}if(re)return e=Ca.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,n!==ss&&(t=Error(f(422),{cause:n}),Hi(_a(t,a)))):(n!==ss&&(e=Error(f(423),{cause:n}),Hi(_a(e,a))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,n=_a(n,a),l=Qs(t.stateNode,n,l),ys(t,l),Ue!==4&&(Ue=2)),!1;var i=Error(f(520),{cause:n});if(i=_a(i,a),ec===null?ec=[i]:ec.push(i),Ue!==4&&(Ue=2),e===null)return!0;n=_a(n,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=l&-l,a.lanes|=t,t=Qs(a.stateNode,n,t),ys(a,t),!1;case 1:if(e=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(tl===null||!tl.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Yr(l),Xr(l,t,a,n),ys(a,l),!1}a=a.return}while(a!==null);return!1}var Zs=Error(f(461)),Le=!1;function ia(t,e,a,n){e.child=t===null?Bf(e,null,a,n):zl(e,t.child,a,n)}function Or(t,e,a,n,l){a=a.render;var i=e.ref;if("ref"in n){var o={};for(var x in n)x!=="ref"&&(o[x]=n[x])}else o=n;return Ml(e),n=Es(t,e,a,o,i,l),x=zs(),t!==null&&!Le?(Ts(t,e,l),Sn(t,e,l)):(re&&x&&cs(e),e.flags|=1,ia(t,e,n,l),e.child)}function Hr(t,e,a,n,l){if(t===null){var i=a.type;return typeof i=="function"&&!ns(i)&&i.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=i,_r(t,e,i,n,l)):(t=Oc(a.type,null,n,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Is(t,l)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:Yi,a(o,n)&&t.ref===e.ref)return Sn(t,e,l)}return e.flags|=1,t=gn(i,n),t.ref=e.ref,t.return=e,e.child=t}function _r(t,e,a,n,l){if(t!==null){var i=t.memoizedProps;if(Yi(i,n)&&t.ref===e.ref)if(Le=!1,e.pendingProps=n=i,Is(t,l))(t.flags&131072)!==0&&(Le=!0);else return e.lanes=t.lanes,Sn(t,e,l)}return Vs(t,e,a,n,l)}function Br(t,e,a,n){var l=n.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((e.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,t!==null){for(n=e.child=t.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,e.child=null;return Ur(t,e,i,a,n)}if((a&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uc(e,i!==null?i.cachePool:null),i!==null?qf(e,i):Ss(),kf(e);else return n=e.lanes=536870912,Ur(t,e,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Uc(e,i.cachePool),qf(e,i),$n(),e.memoizedState=null):(t!==null&&Uc(e,null),Ss(),$n());return ia(t,e,l,a),e.child}function Li(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ur(t,e,a,n,l){var i=gs();return i=i===null?null:{parent:Ke._currentValue,pool:i},e.memoizedState={baseLanes:a,cachePool:i},t!==null&&Uc(e,null),Ss(),kf(e),t!==null&&Ll(t,e,n,!0),e.childLanes=l,null}function eu(t,e){return e=nu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Gr(t,e,a){return zl(e,t.child,null,a),t=eu(e,e.pendingProps),t.flags|=2,ja(e),e.memoizedState=null,t}function _0(t,e,a){var n=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(re){if(n.mode==="hidden")return t=eu(e,n),e.lanes=536870912,Li(null,t);if(Cs(e),(t=De)?(t=Id(t,Ga),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:kn!==null?{id:cn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},a=Cf(t),a.return=e,e.child=a,na=e,De=null)):t=null,t===null)throw Zn(e);return e.lanes=536870912,null}return eu(e,n)}var i=t.memoizedState;if(i!==null){var o=i.dehydrated;if(Cs(e),l)if(e.flags&256)e.flags&=-257,e=Gr(t,e,a);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(f(558));else if(Le||Ll(t,e,a,!1),l=(a&t.childLanes)!==0,Le||l){if(n=we,n!==null&&(o=Se(n,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,vl(t,o),ya(n,t,o),Zs;du(),e=Gr(t,e,a)}else t=i.treeContext,De=ka(o.nextSibling),na=e,re=!0,Qn=null,Ga=!1,t!==null&&zf(e,t),e=eu(e,n),e.flags|=4096;return e}return t=gn(t.child,{mode:n.mode,children:n.children}),t.ref=e.ref,e.child=t,t.return=e,t}function au(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(f(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function Vs(t,e,a,n,l){return Ml(e),a=Es(t,e,a,n,void 0,l),n=zs(),t!==null&&!Le?(Ts(t,e,l),Sn(t,e,l)):(re&&n&&cs(e),e.flags|=1,ia(t,e,a,l),e.child)}function qr(t,e,a,n,l,i){return Ml(e),e.updateQueue=null,a=Zf(e,n,a,l),Qf(t),n=zs(),t!==null&&!Le?(Ts(t,e,i),Sn(t,e,i)):(re&&n&&cs(e),e.flags|=1,ia(t,e,a,i),e.child)}function kr(t,e,a,n,l){if(Ml(e),e.stateNode===null){var i=Zl,o=a.contextType;typeof o=="object"&&o!==null&&(i=la(o)),i=new a(n,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ks,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=n,i.state=e.memoizedState,i.refs={},ps(e),o=a.contextType,i.context=typeof o=="object"&&o!==null?la(o):Zl,i.state=e.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(qs(e,a,o,n),i.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&ks.enqueueReplaceState(i,i.state,null),Qi(e,n,i,l),ki(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){i=e.stateNode;var x=e.memoizedProps,w=wl(a,x);i.props=w;var q=i.context,at=a.contextType;o=Zl,typeof at=="object"&&at!==null&&(o=la(at));var ut=a.getDerivedStateFromProps;at=typeof ut=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=e.pendingProps!==x,at||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||q!==o)&&wr(e,i,n,o),Kn=!1;var Z=e.memoizedState;i.state=Z,Qi(e,n,i,l),ki(),q=e.memoizedState,x||Z!==q||Kn?(typeof ut=="function"&&(qs(e,a,ut,n),q=e.memoizedState),(w=Kn||Tr(e,a,w,n,Z,q,o))?(at||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=q),i.props=n,i.state=q,i.context=o,n=w):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,vs(t,e),o=e.memoizedProps,at=wl(a,o),i.props=at,ut=e.pendingProps,Z=i.context,q=a.contextType,w=Zl,typeof q=="object"&&q!==null&&(w=la(q)),x=a.getDerivedStateFromProps,(q=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==ut||Z!==w)&&wr(e,i,n,w),Kn=!1,Z=e.memoizedState,i.state=Z,Qi(e,n,i,l),ki();var F=e.memoizedState;o!==ut||Z!==F||Kn||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof x=="function"&&(qs(e,a,x,n),F=e.memoizedState),(at=Kn||Tr(e,a,at,n,Z,F,w)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(q||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,F,w),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,F,w)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&Z===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&Z===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=F),i.props=n,i.state=F,i.context=w,n=at):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&Z===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&Z===t.memoizedState||(e.flags|=1024),n=!1)}return i=n,au(t,e),n=(e.flags&128)!==0,i||n?(i=e.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&n?(e.child=zl(e,t.child,null,l),e.child=zl(e,null,a,l)):ia(t,e,a,l),e.memoizedState=i.state,t=e.child):t=Sn(t,e,l),t}function Qr(t,e,a,n){return bl(),e.flags|=256,ia(t,e,a,n),e.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Js(t){return{baseLanes:t,cachePool:Rf()}}function Ls(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=za),t}function Zr(t,e,a){var n=e.pendingProps,l=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(ke.current&2)!==0),o&&(l=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(re){if(l?Wn(e):$n(),(t=De)?(t=Id(t,Ga),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:kn!==null?{id:cn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},a=Cf(t),a.return=e,e.child=a,na=e,De=null)):t=null,t===null)throw Zn(e);return Do(t)?e.lanes=32:e.lanes=536870912,null}var x=n.children;return n=n.fallback,l?($n(),l=e.mode,x=nu({mode:"hidden",children:x},l),n=yl(n,l,a,null),x.return=e,n.return=e,x.sibling=n,e.child=x,n=e.child,n.memoizedState=Js(a),n.childLanes=Ls(t,o,a),e.memoizedState=Ks,Li(null,n)):(Wn(e),Ws(e,x))}var w=t.memoizedState;if(w!==null&&(x=w.dehydrated,x!==null)){if(i)e.flags&256?(Wn(e),e.flags&=-257,e=$s(t,e,a)):e.memoizedState!==null?($n(),e.child=t.child,e.flags|=128,e=null):($n(),x=n.fallback,l=e.mode,n=nu({mode:"visible",children:n.children},l),x=yl(x,l,a,null),x.flags|=2,n.return=e,x.return=e,n.sibling=x,e.child=n,zl(e,t.child,null,a),n=e.child,n.memoizedState=Js(a),n.childLanes=Ls(t,o,a),e.memoizedState=Ks,e=Li(null,n));else if(Wn(e),Do(x)){if(o=x.nextSibling&&x.nextSibling.dataset,o)var q=o.dgst;o=q,n=Error(f(419)),n.stack="",n.digest=o,Hi({value:n,source:null,stack:null}),e=$s(t,e,a)}else if(Le||Ll(t,e,a,!1),o=(a&t.childLanes)!==0,Le||o){if(o=we,o!==null&&(n=Se(o,a),n!==0&&n!==w.retryLane))throw w.retryLane=n,vl(t,n),ya(o,t,n),Zs;No(x)||du(),e=$s(t,e,a)}else No(x)?(e.flags|=192,e.child=t.child,e=null):(t=w.treeContext,De=ka(x.nextSibling),na=e,re=!0,Qn=null,Ga=!1,t!==null&&zf(e,t),e=Ws(e,n.children),e.flags|=4096);return e}return l?($n(),x=n.fallback,l=e.mode,w=t.child,q=w.sibling,n=gn(w,{mode:"hidden",children:n.children}),n.subtreeFlags=w.subtreeFlags&65011712,q!==null?x=gn(q,x):(x=yl(x,l,a,null),x.flags|=2),x.return=e,n.return=e,n.sibling=x,e.child=n,Li(null,n),n=e.child,x=t.child.memoizedState,x===null?x=Js(a):(l=x.cachePool,l!==null?(w=Ke._currentValue,l=l.parent!==w?{parent:w,pool:w}:l):l=Rf(),x={baseLanes:x.baseLanes|a,cachePool:l}),n.memoizedState=x,n.childLanes=Ls(t,o,a),e.memoizedState=Ks,Li(t.child,n)):(Wn(e),a=t.child,t=a.sibling,a=gn(a,{mode:"visible",children:n.children}),a.return=e,a.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=a,e.memoizedState=null,a)}function Ws(t,e){return e=nu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function nu(t,e){return t=Ma(22,t,null,e),t.lanes=0,t}function $s(t,e,a){return zl(e,t.child,null,a),t=Ws(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vr(t,e,a){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),rs(t.return,e,a)}function Fs(t,e,a,n,l,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=l,o.treeForkCount=i)}function Kr(t,e,a){var n=e.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var o=ke.current,x=(o&2)!==0;if(x?(o=o&1|2,e.flags|=128):o&=1,ot(ke,o),ia(t,e,n,a),n=re?Oi:0,!x&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vr(t,a,e);else if(t.tag===19)Vr(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(a=e.child,l=null;a!==null;)t=a.alternate,t!==null&&Vc(t)===null&&(l=a),a=a.sibling;a=l,a===null?(l=e.child,e.child=null):(l=a.sibling,a.sibling=null),Fs(e,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Vc(t)===null){e.child=l;break}t=l.sibling,l.sibling=a,a=l,l=t}Fs(e,!0,a,null,i,n);break;case"together":Fs(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function Sn(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),Pn|=e.lanes,(a&e.childLanes)===0)if(t!==null){if(Ll(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(f(153));if(e.child!==null){for(t=e.child,a=gn(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=gn(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function Is(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function B0(t,e,a){switch(e.tag){case 3:m(e,e.stateNode.containerInfo),Vn(e,Ke,t.memoizedState.cache),bl();break;case 27:case 5:qt(e);break;case 4:m(e,e.stateNode.containerInfo);break;case 10:Vn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Cs(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(Wn(e),e.flags|=128,null):(a&e.child.childLanes)!==0?Zr(t,e,a):(Wn(e),t=Sn(t,e,a),t!==null?t.sibling:null);Wn(e);break;case 19:var l=(t.flags&128)!==0;if(n=(a&e.childLanes)!==0,n||(Ll(t,e,a,!1),n=(a&e.childLanes)!==0),l){if(n)return Kr(t,e,a);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ot(ke,ke.current),n)break;return null;case 22:return e.lanes=0,Br(t,e,a,e.pendingProps);case 24:Vn(e,Ke,t.memoizedState.cache)}return Sn(t,e,a)}function Jr(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)Le=!0;else{if(!Is(t,a)&&(e.flags&128)===0)return Le=!1,B0(t,e,a);Le=(t.flags&131072)!==0}else Le=!1,re&&(e.flags&1048576)!==0&&Ef(e,Oi,e.index);switch(e.lanes=0,e.tag){case 16:t:{var n=e.pendingProps;if(t=jl(e.elementType),e.type=t,typeof t=="function")ns(t)?(n=wl(t,n),e.tag=1,e=kr(null,e,t,n,a)):(e.tag=0,e=Vs(null,e,t,n,a));else{if(t!=null){var l=t.$$typeof;if(l===ft){e.tag=11,e=Or(null,e,t,n,a);break t}else if(l===st){e.tag=14,e=Hr(null,e,t,n,a);break t}}throw e=Vt(t)||t,Error(f(306,e,""))}}return e;case 0:return Vs(t,e,e.type,e.pendingProps,a);case 1:return n=e.type,l=wl(n,e.pendingProps),kr(t,e,n,l,a);case 3:t:{if(m(e,e.stateNode.containerInfo),t===null)throw Error(f(387));n=e.pendingProps;var i=e.memoizedState;l=i.element,vs(t,e),Qi(e,n,null,a);var o=e.memoizedState;if(n=o.cache,Vn(e,Ke,n),n!==i.cache&&ds(e,[Ke],a,!0),ki(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Qr(t,e,n,a);break t}else if(n!==l){l=_a(Error(f(424)),e),Hi(l),e=Qr(t,e,n,a);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(De=ka(t.firstChild),na=e,re=!0,Qn=null,Ga=!0,a=Bf(e,null,n,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bl(),n===l){e=Sn(t,e,a);break t}ia(t,e,n,a)}e=e.child}return e;case 26:return au(t,e),t===null?(a=lh(e.type,null,e.pendingProps,null))?e.memoizedState=a:re||(a=e.type,t=e.pendingProps,n=yu(zt.current).createElement(a),n[qe]=e,n[Ie]=t,ca(n,a,t),Ve(n),e.stateNode=n):e.memoizedState=lh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return qt(e),t===null&&re&&(n=e.stateNode=eh(e.type,e.pendingProps,zt.current),na=e,Ga=!0,l=De,ll(e.type)?(Ro=l,De=ka(n.firstChild)):De=l),ia(t,e,e.pendingProps.children,a),au(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&re&&((l=n=De)&&(n=mm(n,e.type,e.pendingProps,Ga),n!==null?(e.stateNode=n,na=e,De=ka(n.firstChild),Ga=!1,l=!0):l=!1),l||Zn(e)),qt(e),l=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,n=i.children,To(l,i)?n=null:o!==null&&To(l,o)&&(e.flags|=32),e.memoizedState!==null&&(l=Es(t,e,A0,null,null,a),oc._currentValue=l),au(t,e),ia(t,e,n,a),e.child;case 6:return t===null&&re&&((t=a=De)&&(a=gm(a,e.pendingProps,Ga),a!==null?(e.stateNode=a,na=e,De=null,t=!0):t=!1),t||Zn(e)),null;case 13:return Zr(t,e,a);case 4:return m(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=zl(e,null,n,a):ia(t,e,n,a),e.child;case 11:return Or(t,e,e.type,e.pendingProps,a);case 7:return ia(t,e,e.pendingProps,a),e.child;case 8:return ia(t,e,e.pendingProps.children,a),e.child;case 12:return ia(t,e,e.pendingProps.children,a),e.child;case 10:return n=e.pendingProps,Vn(e,e.type,n.value),ia(t,e,n.children,a),e.child;case 9:return l=e.type._context,n=e.pendingProps.children,Ml(e),l=la(l),n=n(l),e.flags|=1,ia(t,e,n,a),e.child;case 14:return Hr(t,e,e.type,e.pendingProps,a);case 15:return _r(t,e,e.type,e.pendingProps,a);case 19:return Kr(t,e,a);case 31:return _0(t,e,a);case 22:return Br(t,e,a,e.pendingProps);case 24:return Ml(e),n=la(Ke),t===null?(l=gs(),l===null&&(l=we,i=hs(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),e.memoizedState={parent:n,cache:l},ps(e),Vn(e,Ke,l)):((t.lanes&a)!==0&&(vs(t,e),Qi(e,null,null,a),ki()),l=t.memoizedState,i=e.memoizedState,l.parent!==n?(l={parent:n,cache:n},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),Vn(e,Ke,n)):(n=i.cache,Vn(e,Ke,n),n!==l.cache&&ds(e,[Ke],a,!0))),ia(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(f(156,e.tag))}function Mn(t){t.flags|=4}function Ps(t,e,a,n,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(bd())t.flags|=8192;else throw El=qc,xs}else t.flags&=-16777217}function Lr(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!oh(e))if(bd())t.flags|=8192;else throw El=qc,xs}function lu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Jt():536870912,t.lanes|=e,ci|=e)}function Wi(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,n=0;if(e)for(var l=t.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=n,t.childLanes=a,e}function U0(t,e,a){var n=e.pendingProps;switch(us(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return Re(e),null;case 3:return a=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),vn(Ke),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Jl(e)?Mn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,os())),Re(e),null;case 26:var l=e.type,i=e.memoizedState;return t===null?(Mn(e),i!==null?(Re(e),Lr(e,i)):(Re(e),Ps(e,l,null,n,a))):i?i!==t.memoizedState?(Mn(e),Re(e),Lr(e,i)):(Re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==n&&Mn(e),Re(e),Ps(e,l,t,n,a)),null;case 27:if(Ye(e),a=zt.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Mn(e);else{if(!n){if(e.stateNode===null)throw Error(f(166));return Re(e),null}t=ct.current,Jl(e)?Tf(e):(t=eh(l,n,a),e.stateNode=t,Mn(e))}return Re(e),null;case 5:if(Ye(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Mn(e);else{if(!n){if(e.stateNode===null)throw Error(f(166));return Re(e),null}if(i=ct.current,Jl(e))Tf(e);else{var o=yu(zt.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(l,{is:n.is}):o.createElement(l)}}i[qe]=e,i[Ie]=n;t:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break t;for(;o.sibling===null;){if(o.return===null||o.return===e)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=i;t:switch(ca(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Mn(e)}}return Re(e),Ps(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,a),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&Mn(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(f(166));if(t=zt.current,Jl(e)){if(t=e.stateNode,a=e.memoizedProps,n=null,l=na,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}t[qe]=e,t=!!(t.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Zd(t.nodeValue,a)),t||Zn(e,!0)}else t=yu(t).createTextNode(n),t[qe]=e,e.stateNode=t}return Re(e),null;case 31:if(a=e.memoizedState,t===null||t.memoizedState!==null){if(n=Jl(e),a!==null){if(t===null){if(!n)throw Error(f(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(557));t[qe]=e}else bl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Re(e),t=!1}else a=os(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return e.flags&256?(ja(e),e):(ja(e),null);if((e.flags&128)!==0)throw Error(f(558))}return Re(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Jl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!l)throw Error(f(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(f(317));l[qe]=e}else bl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Re(e),l=!1}else l=os(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(ja(e),e):(ja(e),null)}return ja(e),(e.flags&128)!==0?(e.lanes=a,e):(a=n!==null,t=t!==null&&t.memoizedState!==null,a&&(n=e.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==t&&a&&(e.child.flags|=8192),lu(e,e.updateQueue),Re(e),null);case 4:return Xt(),t===null&&Mo(e.stateNode.containerInfo),Re(e),null;case 10:return vn(e.type),Re(e),null;case 19:if(B(ke),n=e.memoizedState,n===null)return Re(e),null;if(l=(e.flags&128)!==0,i=n.rendering,i===null)if(l)Wi(n,!1);else{if(Ue!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(i=Vc(t),i!==null){for(e.flags|=128,Wi(n,!1),t=i.updateQueue,e.updateQueue=t,lu(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)Mf(a,t),a=a.sibling;return ot(ke,ke.current&1|2),re&&xn(e,n.treeForkCount),e.child}t=t.sibling}n.tail!==null&&Fe()>ou&&(e.flags|=128,l=!0,Wi(n,!1),e.lanes=4194304)}else{if(!l)if(t=Vc(i),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,lu(e,t),Wi(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!re)return Re(e),null}else 2*Fe()-n.renderingStartTime>ou&&a!==536870912&&(e.flags|=128,l=!0,Wi(n,!1),e.lanes=4194304);n.isBackwards?(i.sibling=e.child,e.child=i):(t=n.last,t!==null?t.sibling=i:e.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Fe(),t.sibling=null,a=ke.current,ot(ke,l?a&1|2:a&1),re&&xn(e,n.treeForkCount),t):(Re(e),null);case 22:case 23:return ja(e),Ms(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(a&536870912)!==0&&(e.flags&128)===0&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),a=e.updateQueue,a!==null&&lu(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==a&&(e.flags|=2048),t!==null&&B(Cl),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),vn(Ke),Re(e),null;case 25:return null;case 30:return null}throw Error(f(156,e.tag))}function G0(t,e){switch(us(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vn(Ke),Xt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ye(e),null;case 31:if(e.memoizedState!==null){if(ja(e),e.alternate===null)throw Error(f(340));bl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ja(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(f(340));bl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return B(ke),null;case 4:return Xt(),null;case 10:return vn(e.type),null;case 22:case 23:return ja(e),Ms(),t!==null&&B(Cl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return vn(Ke),null;case 25:return null;default:return null}}function Wr(t,e){switch(us(e),e.tag){case 3:vn(Ke),Xt();break;case 26:case 27:case 5:Ye(e);break;case 4:Xt();break;case 31:e.memoizedState!==null&&ja(e);break;case 13:ja(e);break;case 19:B(ke);break;case 10:vn(e.type);break;case 22:case 23:ja(e),Ms(),t!==null&&B(Cl);break;case 24:vn(Ke)}}function $i(t,e){try{var a=e.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&t)===t){n=void 0;var i=a.create,o=a.inst;n=i(),o.destroy=n}a=a.next}while(a!==l)}}catch(x){be(e,e.return,x)}}function Fn(t,e,a){try{var n=e.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&t)===t){var o=n.inst,x=o.destroy;if(x!==void 0){o.destroy=void 0,l=e;var w=a,q=x;try{q()}catch(at){be(l,w,at)}}}n=n.next}while(n!==i)}}catch(at){be(e,e.return,at)}}function $r(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{Gf(e,a)}catch(n){be(t,t.return,n)}}}function Fr(t,e,a){a.props=wl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(n){be(t,e,n)}}function Fi(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof a=="function"?t.refCleanup=a(n):a.current=n}}catch(l){be(t,e,l)}}function sn(t,e){var a=t.ref,n=t.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){be(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){be(t,e,l)}else a.current=null}function Ir(t){var e=t.type,a=t.memoizedProps,n=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break t;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){be(t,t.return,l)}}function to(t,e,a){try{var n=t.stateNode;sm(n,t.type,a,e),n[Ie]=e}catch(l){be(t,t.return,l)}}function Pr(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ll(t.type)||t.tag===4}function eo(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pr(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ll(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ao(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,e):(e=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,e.appendChild(t),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Ya));else if(n!==4&&(n===27&&ll(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(ao(t,e,a),t=t.sibling;t!==null;)ao(t,e,a),t=t.sibling}function iu(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?a.insertBefore(t,e):a.appendChild(t);else if(n!==4&&(n===27&&ll(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(iu(t,e,a),t=t.sibling;t!==null;)iu(t,e,a),t=t.sibling}function td(t){var e=t.stateNode,a=t.memoizedProps;try{for(var n=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);ca(e,n,a),e[qe]=t,e[Ie]=a}catch(i){be(t,t.return,i)}}var Cn=!1,We=!1,no=!1,ed=typeof WeakSet=="function"?WeakSet:Set,ea=null;function q0(t,e){if(t=t.containerInfo,Eo=zu,t=hf(t),$u(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break t}var o=0,x=-1,w=-1,q=0,at=0,ut=t,Z=null;e:for(;;){for(var F;ut!==a||l!==0&&ut.nodeType!==3||(x=o+l),ut!==i||n!==0&&ut.nodeType!==3||(w=o+n),ut.nodeType===3&&(o+=ut.nodeValue.length),(F=ut.firstChild)!==null;)Z=ut,ut=F;for(;;){if(ut===t)break e;if(Z===a&&++q===l&&(x=o),Z===i&&++at===n&&(w=o),(F=ut.nextSibling)!==null)break;ut=Z,Z=ut.parentNode}ut=F}a=x===-1||w===-1?null:{start:x,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(zo={focusedElem:t,selectionRange:a},zu=!1,ea=e;ea!==null;)if(e=ea,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ea=t;else for(;ea!==null;){switch(e=ea,i=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)l=t[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&i!==null){t=void 0,a=e,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var Yt=wl(a.type,l);t=n.getSnapshotBeforeUpdate(Yt,i),n.__reactInternalSnapshotBeforeUpdate=t}catch(Qt){be(a,a.return,Qt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,a=t.nodeType,a===9)Ao(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ao(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(f(163))}if(t=e.sibling,t!==null){t.return=e.return,ea=t;break}ea=e.return}}function ad(t,e,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:En(t,a),n&4&&$i(5,a);break;case 1:if(En(t,a),n&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(o){be(a,a.return,o)}else{var l=wl(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){be(a,a.return,o)}}n&64&&$r(a),n&512&&Fi(a,a.return);break;case 3:if(En(t,a),n&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Gf(t,e)}catch(o){be(a,a.return,o)}}break;case 27:e===null&&n&4&&td(a);case 26:case 5:En(t,a),e===null&&n&4&&Ir(a),n&512&&Fi(a,a.return);break;case 12:En(t,a);break;case 31:En(t,a),n&4&&id(t,a);break;case 13:En(t,a),n&4&&cd(t,a),n&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$0.bind(null,a),xm(t,a))));break;case 22:if(n=a.memoizedState!==null||Cn,!n){e=e!==null&&e.memoizedState!==null||We,l=Cn;var i=We;Cn=n,(We=e)&&!i?zn(t,a,(a.subtreeFlags&8772)!==0):En(t,a),Cn=l,We=i}break;case 30:break;default:En(t,a)}}function nd(t){var e=t.alternate;e!==null&&(t.alternate=null,nd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&pi(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,ga=!1;function jn(t,e,a){for(a=a.child;a!==null;)ld(t,e,a),a=a.sibling}function ld(t,e,a){if(j&&typeof j.onCommitFiberUnmount=="function")try{j.onCommitFiberUnmount(vt,a)}catch{}switch(a.tag){case 26:We||sn(a,e),jn(t,e,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||sn(a,e);var n=Xe,l=ga;ll(a.type)&&(Xe=a.stateNode,ga=!1),jn(t,e,a),cc(a.stateNode),Xe=n,ga=l;break;case 5:We||sn(a,e);case 6:if(n=Xe,l=ga,Xe=null,jn(t,e,a),Xe=n,ga=l,Xe!==null)if(ga)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(i){be(a,e,i)}else try{Xe.removeChild(a.stateNode)}catch(i){be(a,e,i)}break;case 18:Xe!==null&&(ga?(t=Xe,$d(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mi(t)):$d(Xe,a.stateNode));break;case 4:n=Xe,l=ga,Xe=a.stateNode.containerInfo,ga=!0,jn(t,e,a),Xe=n,ga=l;break;case 0:case 11:case 14:case 15:Fn(2,a,e),We||Fn(4,a,e),jn(t,e,a);break;case 1:We||(sn(a,e),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Fr(a,e,n)),jn(t,e,a);break;case 21:jn(t,e,a);break;case 22:We=(n=We)||a.memoizedState!==null,jn(t,e,a),We=n;break;default:jn(t,e,a)}}function id(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mi(t)}catch(a){be(e,e.return,a)}}}function cd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mi(t)}catch(a){be(e,e.return,a)}}function k0(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new ed),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new ed),e;default:throw Error(f(435,t.tag))}}function cu(t,e){var a=k0(t);e.forEach(function(n){if(!a.has(n)){a.add(n);var l=F0.bind(null,t,n);n.then(l,l)}})}function xa(t,e){var a=e.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=t,o=e,x=o;t:for(;x!==null;){switch(x.tag){case 27:if(ll(x.type)){Xe=x.stateNode,ga=!1;break t}break;case 5:Xe=x.stateNode,ga=!1;break t;case 3:case 4:Xe=x.stateNode.containerInfo,ga=!0;break t}x=x.return}if(Xe===null)throw Error(f(160));ld(i,o,l),Xe=null,ga=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ud(e,t),e=e.sibling}var Fa=null;function ud(t,e){var a=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xa(e,t),pa(t),n&4&&(Fn(3,t,t.return),$i(3,t),Fn(5,t,t.return));break;case 1:xa(e,t),pa(t),n&512&&(We||a===null||sn(a,a.return)),n&64&&Cn&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Fa;if(xa(e,t),pa(t),n&512&&(We||a===null||sn(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=t.memoizedState,a===null)if(n===null)if(t.stateNode===null){t:{n=t.type,a=t.memoizedProps,l=l.ownerDocument||l;e:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[aa]||i[qe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),ca(i,n,a),i[qe]=t,Ve(i),n=i;break t;case"link":var o=uh("link","href",l).get(n+(a.href||""));if(o){for(var x=0;x<o.length;x++)if(i=o[x],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(x,1);break e}}i=l.createElement(n),ca(i,n,a),l.head.appendChild(i);break;case"meta":if(o=uh("meta","content",l).get(n+(a.content||""))){for(x=0;x<o.length;x++)if(i=o[x],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(x,1);break e}}i=l.createElement(n),ca(i,n,a),l.head.appendChild(i);break;default:throw Error(f(468,n))}i[qe]=t,Ve(i),n=i}t.stateNode=n}else sh(l,t.type,t.stateNode);else t.stateNode=ch(l,n,t.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?sh(l,t.type,t.stateNode):ch(l,n,t.memoizedProps)):n===null&&t.stateNode!==null&&to(t,t.memoizedProps,a.memoizedProps)}break;case 27:xa(e,t),pa(t),n&512&&(We||a===null||sn(a,a.return)),a!==null&&n&4&&to(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xa(e,t),pa(t),n&512&&(We||a===null||sn(a,a.return)),t.flags&32){l=t.stateNode;try{_n(l,"")}catch(Yt){be(t,t.return,Yt)}}n&4&&t.stateNode!=null&&(l=t.memoizedProps,to(t,l,a!==null?a.memoizedProps:l)),n&1024&&(no=!0);break;case 6:if(xa(e,t),pa(t),n&4){if(t.stateNode===null)throw Error(f(162));n=t.memoizedProps,a=t.stateNode;try{a.nodeValue=n}catch(Yt){be(t,t.return,Yt)}}break;case 3:if(Mu=null,l=Fa,Fa=bu(e.containerInfo),xa(e,t),Fa=l,pa(t),n&4&&a!==null&&a.memoizedState.isDehydrated)try{mi(e.containerInfo)}catch(Yt){be(t,t.return,Yt)}no&&(no=!1,sd(t));break;case 4:n=Fa,Fa=bu(t.stateNode.containerInfo),xa(e,t),pa(t),Fa=n;break;case 12:xa(e,t),pa(t);break;case 31:xa(e,t),pa(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,cu(t,n)));break;case 13:xa(e,t),pa(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(su=Fe()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,cu(t,n)));break;case 22:l=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,q=Cn,at=We;if(Cn=q||l,We=at||w,xa(e,t),We=at,Cn=q,pa(t),n&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(a===null||w||Cn||We||Al(t)),a=null,e=t;;){if(e.tag===5||e.tag===26){if(a===null){w=a=e;try{if(i=w.stateNode,l)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{x=w.stateNode;var ut=w.memoizedProps.style,Z=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;x.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Yt){be(w,w.return,Yt)}}}else if(e.tag===6){if(a===null){w=e;try{w.stateNode.nodeValue=l?"":w.memoizedProps}catch(Yt){be(w,w.return,Yt)}}}else if(e.tag===18){if(a===null){w=e;try{var F=w.stateNode;l?Fd(F,!0):Fd(w.stateNode,!1)}catch(Yt){be(w,w.return,Yt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,cu(t,a))));break;case 19:xa(e,t),pa(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,cu(t,n)));break;case 30:break;case 21:break;default:xa(e,t),pa(t)}}function pa(t){var e=t.flags;if(e&2){try{for(var a,n=t.return;n!==null;){if(Pr(n)){a=n;break}n=n.return}if(a==null)throw Error(f(160));switch(a.tag){case 27:var l=a.stateNode,i=eo(t);iu(t,i,l);break;case 5:var o=a.stateNode;a.flags&32&&(_n(o,""),a.flags&=-33);var x=eo(t);iu(t,x,o);break;case 3:case 4:var w=a.stateNode.containerInfo,q=eo(t);ao(t,q,w);break;default:throw Error(f(161))}}catch(at){be(t,t.return,at)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;sd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function En(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ad(t,e.alternate,e),e=e.sibling}function Al(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Fn(4,e,e.return),Al(e);break;case 1:sn(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&Fr(e,e.return,a),Al(e);break;case 27:cc(e.stateNode);case 26:case 5:sn(e,e.return),Al(e);break;case 22:e.memoizedState===null&&Al(e);break;case 30:Al(e);break;default:Al(e)}t=t.sibling}}function zn(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,l=t,i=e,o=i.flags;switch(i.tag){case 0:case 11:case 15:zn(l,i,a),$i(4,i);break;case 1:if(zn(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(q){be(n,n.return,q)}if(n=i,l=n.updateQueue,l!==null){var x=n.stateNode;try{var w=l.shared.hiddenCallbacks;if(w!==null)for(l.shared.hiddenCallbacks=null,l=0;l<w.length;l++)Uf(w[l],x)}catch(q){be(n,n.return,q)}}a&&o&64&&$r(i),Fi(i,i.return);break;case 27:td(i);case 26:case 5:zn(l,i,a),a&&n===null&&o&4&&Ir(i),Fi(i,i.return);break;case 12:zn(l,i,a);break;case 31:zn(l,i,a),a&&o&4&&id(l,i);break;case 13:zn(l,i,a),a&&o&4&&cd(l,i);break;case 22:i.memoizedState===null&&zn(l,i,a),Fi(i,i.return);break;case 30:break;default:zn(l,i,a)}e=e.sibling}}function lo(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_i(a))}function io(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_i(t))}function Ia(t,e,a,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)od(t,e,a,n),e=e.sibling}function od(t,e,a,n){var l=e.flags;switch(e.tag){case 0:case 11:case 15:Ia(t,e,a,n),l&2048&&$i(9,e);break;case 1:Ia(t,e,a,n);break;case 3:Ia(t,e,a,n),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_i(t)));break;case 12:if(l&2048){Ia(t,e,a,n),t=e.stateNode;try{var i=e.memoizedProps,o=i.id,x=i.onPostCommit;typeof x=="function"&&x(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){be(e,e.return,w)}}else Ia(t,e,a,n);break;case 31:Ia(t,e,a,n);break;case 13:Ia(t,e,a,n);break;case 23:break;case 22:i=e.stateNode,o=e.alternate,e.memoizedState!==null?i._visibility&2?Ia(t,e,a,n):Ii(t,e):i._visibility&2?Ia(t,e,a,n):(i._visibility|=2,ni(t,e,a,n,(e.subtreeFlags&10256)!==0||!1)),l&2048&&lo(o,e);break;case 24:Ia(t,e,a,n),l&2048&&io(e.alternate,e);break;default:Ia(t,e,a,n)}}function ni(t,e,a,n,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,o=e,x=a,w=n,q=o.flags;switch(o.tag){case 0:case 11:case 15:ni(i,o,x,w,l),$i(8,o);break;case 23:break;case 22:var at=o.stateNode;o.memoizedState!==null?at._visibility&2?ni(i,o,x,w,l):Ii(i,o):(at._visibility|=2,ni(i,o,x,w,l)),l&&q&2048&&lo(o.alternate,o);break;case 24:ni(i,o,x,w,l),l&&q&2048&&io(o.alternate,o);break;default:ni(i,o,x,w,l)}e=e.sibling}}function Ii(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,n=e,l=n.flags;switch(n.tag){case 22:Ii(a,n),l&2048&&lo(n.alternate,n);break;case 24:Ii(a,n),l&2048&&io(n.alternate,n);break;default:Ii(a,n)}e=e.sibling}}var Pi=8192;function li(t,e,a){if(t.subtreeFlags&Pi)for(t=t.child;t!==null;)fd(t,e,a),t=t.sibling}function fd(t,e,a){switch(t.tag){case 26:li(t,e,a),t.flags&Pi&&t.memoizedState!==null&&wm(a,Fa,t.memoizedState,t.memoizedProps);break;case 5:li(t,e,a);break;case 3:case 4:var n=Fa;Fa=bu(t.stateNode.containerInfo),li(t,e,a),Fa=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Pi,Pi=16777216,li(t,e,a),Pi=n):li(t,e,a));break;default:li(t,e,a)}}function rd(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function tc(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];ea=n,hd(n,t)}rd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dd(t),t=t.sibling}function dd(t){switch(t.tag){case 0:case 11:case 15:tc(t),t.flags&2048&&Fn(9,t,t.return);break;case 3:tc(t);break;case 12:tc(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,uu(t)):tc(t);break;default:tc(t)}}function uu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];ea=n,hd(n,t)}rd(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Fn(8,e,e.return),uu(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,uu(e));break;default:uu(e)}t=t.sibling}}function hd(t,e){for(;ea!==null;){var a=ea;switch(a.tag){case 0:case 11:case 15:Fn(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:_i(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ea=n;else t:for(a=t;ea!==null;){n=ea;var l=n.sibling,i=n.return;if(nd(n),n===a){ea=null;break t}if(l!==null){l.return=i,ea=l;break t}ea=i}}}var Q0={getCacheForType:function(t){var e=la(Ke),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a},cacheSignal:function(){return la(Ke).controller.signal}},Z0=typeof WeakMap=="function"?WeakMap:Map,xe=0,we=null,ie=null,se=0,ye=0,Ea=null,In=!1,ii=!1,co=!1,Tn=0,Ue=0,Pn=0,Nl=0,uo=0,za=0,ci=0,ec=null,va=null,so=!1,su=0,md=0,ou=1/0,fu=null,tl=null,Pe=0,el=null,ui=null,wn=0,oo=0,fo=null,gd=null,ac=0,ro=null;function Ta(){return(xe&2)!==0&&se!==0?se&-se:K.T!==null?vo():He()}function xd(){if(za===0)if((se&536870912)===0||re){var t=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),za=t}else za=536870912;return t=Ca.current,t!==null&&(t.flags|=32),za}function ya(t,e,a){(t===we&&(ye===2||ye===9)||t.cancelPendingCommit!==null)&&(si(t,0),al(t,se,za,!1)),_t(t,a),((xe&2)===0||t!==we)&&(t===we&&((xe&2)===0&&(Nl|=a),Ue===4&&al(t,se,za,!1)),on(t))}function pd(t,e,a){if((xe&6)!==0)throw Error(f(327));var n=!a&&(e&127)===0&&(e&t.expiredLanes)===0||Nt(t,e),l=n?J0(t,e):mo(t,e,!0),i=n;do{if(l===0){ii&&!n&&al(t,e,0,!1);break}else{if(a=t.current.alternate,i&&!V0(a)){l=mo(t,e,!1),i=!1;continue}if(l===2){if(i=e,t.errorRecoveryDisabledLanes&i)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;t:{var x=t;l=ec;var w=x.current.memoizedState.isDehydrated;if(w&&(si(x,o).flags|=256),o=mo(x,o,!1),o!==2){if(co&&!w){x.errorRecoveryDisabledLanes|=i,Nl|=i,l=4;break t}i=va,va=l,i!==null&&(va===null?va=i:va.push.apply(va,i))}l=o}if(i=!1,l!==2)continue}}if(l===1){si(t,0),al(t,e,0,!0);break}t:{switch(n=t,i=l,i){case 0:case 1:throw Error(f(345));case 4:if((e&4194048)!==e)break;case 6:al(n,e,za,!In);break t;case 2:va=null;break;case 3:case 5:break;default:throw Error(f(329))}if((e&62914560)===e&&(l=su+300-Fe(),10<l)){if(al(n,e,za,!In),Zt(n,0,!0)!==0)break t;wn=e,n.timeoutHandle=Ld(vd.bind(null,n,a,va,fu,so,e,za,Nl,ci,In,i,"Throttled",-0,0),l);break t}vd(n,a,va,fu,so,e,za,Nl,ci,In,i,null,-0,0)}}break}while(!0);on(t)}function vd(t,e,a,n,l,i,o,x,w,q,at,ut,Z,F){if(t.timeoutHandle=-1,ut=e.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ya},fd(e,i,ut);var Yt=(i&62914560)===i?su-Fe():(i&4194048)===i?md-Fe():0;if(Yt=Am(ut,Yt),Yt!==null){wn=i,t.cancelPendingCommit=Yt(zd.bind(null,t,e,i,a,n,l,o,x,w,at,ut,null,Z,F)),al(t,i,o,!q);return}}zd(t,e,i,a,n,l,o,x,w)}function V0(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!Sa(i(),l))return!1}catch{return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function al(t,e,a,n){e&=~uo,e&=~Nl,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var l=e;0<l;){var i=31-H(l),o=1<<i;n[i]=-1,l&=~o}a!==0&&Rt(t,a,e)}function ru(){return(xe&6)===0?(nc(0),!1):!0}function ho(){if(ie!==null){if(ye===0)var t=ie.return;else t=ie,pn=Sl=null,ws(t),Il=null,Ui=0,t=ie;for(;t!==null;)Wr(t.alternate,t),t=t.return;ie=null}}function si(t,e){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rm(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),wn=0,ho(),we=t,ie=a=gn(t.current,null),se=e,ye=0,Ea=null,In=!1,ii=Nt(t,e),co=!1,ci=za=uo=Nl=Pn=Ue=0,va=ec=null,so=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var l=31-H(n),i=1<<l;e|=t[l],n&=~i}return Tn=e,Rc(),a}function yd(t,e){Ft=null,K.H=Ji,e===Fl||e===Gc?(e=Of(),ye=3):e===xs?(e=Of(),ye=4):ye=e===Zs?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ea=e,ie===null&&(Ue=1,tu(t,_a(e,t.current)))}function bd(){var t=Ca.current;return t===null?!0:(se&4194048)===se?qa===null:(se&62914560)===se||(se&536870912)!==0?t===qa:!1}function Sd(){var t=K.H;return K.H=Ji,t===null?Ji:t}function Md(){var t=K.A;return K.A=Q0,t}function du(){Ue=4,In||(se&4194048)!==se&&Ca.current!==null||(ii=!0),(Pn&134217727)===0&&(Nl&134217727)===0||we===null||al(we,se,za,!1)}function mo(t,e,a){var n=xe;xe|=2;var l=Sd(),i=Md();(we!==t||se!==e)&&(fu=null,si(t,e)),e=!1;var o=Ue;t:do try{if(ye!==0&&ie!==null){var x=ie,w=Ea;switch(ye){case 8:ho(),o=6;break t;case 3:case 2:case 9:case 6:Ca.current===null&&(e=!0);var q=ye;if(ye=0,Ea=null,oi(t,x,w,q),a&&ii){o=0;break t}break;default:q=ye,ye=0,Ea=null,oi(t,x,w,q)}}K0(),o=Ue;break}catch(at){yd(t,at)}while(!0);return e&&t.shellSuspendCounter++,pn=Sl=null,xe=n,K.H=l,K.A=i,ie===null&&(we=null,se=0,Rc()),o}function K0(){for(;ie!==null;)Cd(ie)}function J0(t,e){var a=xe;xe|=2;var n=Sd(),l=Md();we!==t||se!==e?(fu=null,ou=Fe()+500,si(t,e)):ii=Nt(t,e);t:do try{if(ye!==0&&ie!==null){e=ie;var i=Ea;e:switch(ye){case 1:ye=0,Ea=null,oi(t,e,i,1);break;case 2:case 9:if(Yf(i)){ye=0,Ea=null,jd(e);break}e=function(){ye!==2&&ye!==9||we!==t||(ye=7),on(t)},i.then(e,e);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:Yf(i)?(ye=0,Ea=null,jd(e)):(ye=0,Ea=null,oi(t,e,i,7));break;case 5:var o=null;switch(ie.tag){case 26:o=ie.memoizedState;case 5:case 27:var x=ie;if(o?oh(o):x.stateNode.complete){ye=0,Ea=null;var w=x.sibling;if(w!==null)ie=w;else{var q=x.return;q!==null?(ie=q,hu(q)):ie=null}break e}}ye=0,Ea=null,oi(t,e,i,5);break;case 6:ye=0,Ea=null,oi(t,e,i,6);break;case 8:ho(),Ue=6;break t;default:throw Error(f(462))}}L0();break}catch(at){yd(t,at)}while(!0);return pn=Sl=null,K.H=n,K.A=l,xe=a,ie!==null?0:(we=null,se=0,Rc(),Ue)}function L0(){for(;ie!==null&&!Na();)Cd(ie)}function Cd(t){var e=Jr(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?hu(t):ie=e}function jd(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=qr(a,e,e.pendingProps,e.type,void 0,se);break;case 11:e=qr(a,e,e.pendingProps,e.type.render,e.ref,se);break;case 5:ws(e);default:Wr(a,e),e=ie=Mf(e,Tn),e=Jr(a,e,Tn)}t.memoizedProps=t.pendingProps,e===null?hu(t):ie=e}function oi(t,e,a,n){pn=Sl=null,ws(e),Il=null,Ui=0;var l=e.return;try{if(H0(t,l,e,a,se)){Ue=1,tu(t,_a(a,t.current)),ie=null;return}}catch(i){if(l!==null)throw ie=l,i;Ue=1,tu(t,_a(a,t.current)),ie=null;return}e.flags&32768?(re||n===1?t=!0:ii||(se&536870912)!==0?t=!1:(In=t=!0,(n===2||n===9||n===3||n===6)&&(n=Ca.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ed(e,t)):hu(e)}function hu(t){var e=t;do{if((e.flags&32768)!==0){Ed(e,In);return}t=e.return;var a=U0(e.alternate,e,Tn);if(a!==null){ie=a;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);Ue===0&&(Ue=5)}function Ed(t,e){do{var a=G0(t.alternate,t);if(a!==null){a.flags&=32767,ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=a}while(t!==null);Ue=6,ie=null}function zd(t,e,a,n,l,i,o,x,w){t.cancelPendingCommit=null;do mu();while(Pe!==0);if((xe&6)!==0)throw Error(f(327));if(e!==null){if(e===t.current)throw Error(f(177));if(i=e.lanes|e.childLanes,i|=es,le(t,a,i,o,x,w),t===we&&(ie=we=null,se=0),ui=e,el=t,wn=a,oo=i,fo=l,gd=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,I0(ra,function(){return Dd(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=K.T,K.T=null,l=Mt.p,Mt.p=2,o=xe,xe|=4;try{q0(t,e,a)}finally{xe=o,Mt.p=l,K.T=n}}Pe=1,Td(),wd(),Ad()}}function Td(){if(Pe===1){Pe=0;var t=el,e=ui,a=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var n=Mt.p;Mt.p=2;var l=xe;xe|=4;try{ud(e,t);var i=zo,o=hf(t.containerInfo),x=i.focusedElem,w=i.selectionRange;if(o!==x&&x&&x.ownerDocument&&df(x.ownerDocument.documentElement,x)){if(w!==null&&$u(x)){var q=w.start,at=w.end;if(at===void 0&&(at=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min(at,x.value.length);else{var ut=x.ownerDocument||document,Z=ut&&ut.defaultView||window;if(Z.getSelection){var F=Z.getSelection(),Yt=x.textContent.length,Qt=Math.min(w.start,Yt),Ee=w.end===void 0?Qt:Math.min(w.end,Yt);!F.extend&&Qt>Ee&&(o=Ee,Ee=Qt,Qt=o);var Y=rf(x,Qt),D=rf(x,Ee);if(Y&&D&&(F.rangeCount!==1||F.anchorNode!==Y.node||F.anchorOffset!==Y.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var G=ut.createRange();G.setStart(Y.node,Y.offset),F.removeAllRanges(),Qt>Ee?(F.addRange(G),F.extend(D.node,D.offset)):(G.setEnd(D.node,D.offset),F.addRange(G))}}}}for(ut=[],F=x;F=F.parentNode;)F.nodeType===1&&ut.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ut.length;x++){var it=ut[x];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}zu=!!Eo,zo=Eo=null}finally{xe=l,Mt.p=n,K.T=a}}t.current=e,Pe=2}}function wd(){if(Pe===2){Pe=0;var t=el,e=ui,a=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var n=Mt.p;Mt.p=2;var l=xe;xe|=4;try{ad(t,e.alternate,e)}finally{xe=l,Mt.p=n,K.T=a}}Pe=3}}function Ad(){if(Pe===4||Pe===3){Pe=0,xi();var t=el,e=ui,a=wn,n=gd;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Pe=5:(Pe=0,ui=el=null,Nd(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(tl=null),Te(a),e=e.stateNode,j&&typeof j.onCommitFiberRoot=="function")try{j.onCommitFiberRoot(vt,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=K.T,l=Mt.p,Mt.p=2,K.T=null;try{for(var i=t.onRecoverableError,o=0;o<n.length;o++){var x=n[o];i(x.value,{componentStack:x.stack})}}finally{K.T=e,Mt.p=l}}(wn&3)!==0&&mu(),on(t),l=t.pendingLanes,(a&261930)!==0&&(l&42)!==0?t===ro?ac++:(ac=0,ro=t):ac=0,nc(0)}}function Nd(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,_i(e)))}function mu(){return Td(),wd(),Ad(),Dd()}function Dd(){if(Pe!==5)return!1;var t=el,e=oo;oo=0;var a=Te(wn),n=K.T,l=Mt.p;try{Mt.p=32>a?32:a,K.T=null,a=fo,fo=null;var i=el,o=wn;if(Pe=0,ui=el=null,wn=0,(xe&6)!==0)throw Error(f(331));var x=xe;if(xe|=4,dd(i.current),od(i,i.current,o,a),xe=x,nc(0,!1),j&&typeof j.onPostCommitFiberRoot=="function")try{j.onPostCommitFiberRoot(vt,i)}catch{}return!0}finally{Mt.p=l,K.T=n,Nd(t,e)}}function Rd(t,e,a){e=_a(a,e),e=Qs(t.stateNode,e,2),t=Ln(t,e,2),t!==null&&(_t(t,2),on(t))}function be(t,e,a){if(t.tag===3)Rd(t,t,a);else for(;e!==null;){if(e.tag===3){Rd(e,t,a);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tl===null||!tl.has(n))){t=_a(a,t),a=Yr(2),n=Ln(e,a,2),n!==null&&(Xr(a,n,e,t),_t(n,2),on(n));break}}e=e.return}}function go(t,e,a){var n=t.pingCache;if(n===null){n=t.pingCache=new Z0;var l=new Set;n.set(e,l)}else l=n.get(e),l===void 0&&(l=new Set,n.set(e,l));l.has(a)||(co=!0,l.add(a),t=W0.bind(null,t,e,a),e.then(t,t))}function W0(t,e,a){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,we===t&&(se&a)===a&&(Ue===4||Ue===3&&(se&62914560)===se&&300>Fe()-su?(xe&2)===0&&si(t,0):uo|=a,ci===se&&(ci=0)),on(t)}function Yd(t,e){e===0&&(e=Jt()),t=vl(t,e),t!==null&&(_t(t,e),on(t))}function $0(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),Yd(t,a)}function F0(t,e){var a=0;switch(t.tag){case 31:case 13:var n=t.stateNode,l=t.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(f(314))}n!==null&&n.delete(e),Yd(t,a)}function I0(t,e){return Va(t,e)}var gu=null,fi=null,xo=!1,xu=!1,po=!1,nl=0;function on(t){t!==fi&&t.next===null&&(fi===null?gu=fi=t:fi=fi.next=t),xu=!0,xo||(xo=!0,tm())}function nc(t,e){if(!po&&xu){po=!0;do for(var a=!1,n=gu;n!==null;){if(t!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var o=n.suspendedLanes,x=n.pingedLanes;i=(1<<31-H(42|t)+1)-1,i&=l&~(o&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,_d(n,i))}else i=se,i=Zt(n,n===we?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||Nt(n,i)||(a=!0,_d(n,i));n=n.next}while(a);po=!1}}function P0(){Xd()}function Xd(){xu=xo=!1;var t=0;nl!==0&&fm()&&(t=nl);for(var e=Fe(),a=null,n=gu;n!==null;){var l=n.next,i=Od(n,e);i===0?(n.next=null,a===null?gu=l:a.next=l,l===null&&(fi=a)):(a=n,(t!==0||(i&3)!==0)&&(xu=!0)),n=l}Pe!==0&&Pe!==5||nc(t),nl!==0&&(nl=0)}function Od(t,e){for(var a=t.suspendedLanes,n=t.pingedLanes,l=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var o=31-H(i),x=1<<o,w=l[o];w===-1?((x&a)===0||(x&n)!==0)&&(l[o]=kt(x,e)):w<=e&&(t.expiredLanes|=x),i&=~x}if(e=we,a=se,a=Zt(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,a===0||t===e&&(ye===2||ye===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Dn(n),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Nt(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(n!==null&&Dn(n),Te(a)){case 2:case 8:a=tn;break;case 32:a=ra;break;case 268435456:a=de;break;default:a=ra}return n=Hd.bind(null,t),a=Va(a,n),t.callbackPriority=e,t.callbackNode=a,e}return n!==null&&n!==null&&Dn(n),t.callbackPriority=2,t.callbackNode=null,2}function Hd(t,e){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(mu()&&t.callbackNode!==a)return null;var n=se;return n=Zt(t,t===we?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(pd(t,n,e),Od(t,Fe()),t.callbackNode!=null&&t.callbackNode===a?Hd.bind(null,t):null)}function _d(t,e){if(mu())return null;pd(t,e,!0)}function tm(){dm(function(){(xe&6)!==0?Va(Ka,P0):Xd()})}function vo(){if(nl===0){var t=Wl;t===0&&(t=tt,tt<<=1,(tt&261888)===0&&(tt=256)),nl=t}return nl}function Bd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hl(""+t)}function Ud(t,e){var a=e.ownerDocument.createElement("input");return a.name=e.name,a.value=e.value,t.id&&a.setAttribute("form",t.id),e.parentNode.insertBefore(a,e),t=new FormData(t),a.parentNode.removeChild(a),t}function em(t,e,a,n,l){if(e==="submit"&&a&&a.stateNode===l){var i=Bd((l[Ie]||null).action),o=n.submitter;o&&(e=(e=o[Ie]||null)?Bd(e.formAction):o.getAttribute("formAction"),e!==null&&(i=e,o=null));var x=new fe("action","action",null,n,l);t.push({event:x,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(nl!==0){var w=o?Ud(l,o):new FormData(l);_s(a,{pending:!0,data:w,method:l.method,action:i},null,w)}}else typeof i=="function"&&(x.preventDefault(),w=o?Ud(l,o):new FormData(l),_s(a,{pending:!0,data:w,method:l.method,action:i},i,w))},currentTarget:l}]})}}for(var yo=0;yo<ts.length;yo++){var bo=ts[yo],am=bo.toLowerCase(),nm=bo[0].toUpperCase()+bo.slice(1);$a(am,"on"+nm)}$a(xf,"onAnimationEnd"),$a(pf,"onAnimationIteration"),$a(vf,"onAnimationStart"),$a("dblclick","onDoubleClick"),$a("focusin","onFocus"),$a("focusout","onBlur"),$a(y0,"onTransitionRun"),$a(b0,"onTransitionStart"),$a(S0,"onTransitionCancel"),$a(yf,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lc));function Gd(t,e){e=(e&4)!==0;for(var a=0;a<t.length;a++){var n=t[a],l=n.event;n=n.listeners;t:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var x=n[o],w=x.instance,q=x.currentTarget;if(x=x.listener,w!==i&&l.isPropagationStopped())break t;i=x,l.currentTarget=q;try{i(l)}catch(at){Dc(at)}l.currentTarget=null,i=w}else for(o=0;o<n.length;o++){if(x=n[o],w=x.instance,q=x.currentTarget,x=x.listener,w!==i&&l.isPropagationStopped())break t;i=x,l.currentTarget=q;try{i(l)}catch(at){Dc(at)}l.currentTarget=null,i=w}}}}function ce(t,e){var a=e[fl];a===void 0&&(a=e[fl]=new Set);var n=t+"__bubble";a.has(n)||(qd(e,t,2,!1),a.add(n))}function So(t,e,a){var n=0;e&&(n|=4),qd(a,t,n,e)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[pu]){t[pu]=!0,Sc.forEach(function(a){a!=="selectionchange"&&(lm.has(a)||So(a,!1,t),So(a,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pu]||(e[pu]=!0,So("selectionchange",!1,e))}}function qd(t,e,a,n){switch(xh(e)){case 2:var l=Rm;break;case 8:l=Ym;break;default:l=_o}a=l.bind(null,e,a,t),l=void 0,!R||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),n?l!==void 0?t.addEventListener(e,a,{capture:!0,passive:l}):t.addEventListener(e,a,!0):l!==void 0?t.addEventListener(e,a,{passive:l}):t.addEventListener(e,a,!1)}function Co(t,e,a,n,l){var i=n;if((e&1)===0&&(e&2)===0&&n!==null)t:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var x=n.stateNode.containerInfo;if(x===l)break;if(o===4)for(o=n.return;o!==null;){var w=o.tag;if((w===3||w===4)&&o.stateNode.containerInfo===l)return;o=o.return}for(;x!==null;){if(o=Rn(x),o===null)return;if(w=o.tag,w===5||w===6||w===26||w===27){n=i=o;continue t}x=x.parentNode}}n=n.return}Ac(function(){var q=i,at=hl(a),ut=[];t:{var Z=bf.get(t);if(Z!==void 0){var F=fe,Yt=t;switch(t){case"keypress":if(yt(a)===0)break t;case"keydown":case"keyup":F=ku;break;case"focusin":Yt="focus",F=ma;break;case"focusout":Yt="blur",F=ma;break;case"beforeblur":case"afterblur":F=ma;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=_e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ai;break;case xf:case pf:case vf:F=ml;break;case yf:F=Zu;break;case"scroll":case"scrollend":F=ne;break;case"wheel":F=Ku;break;case"copy":case"cut":case"paste":F=Gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=gl;break;case"toggle":case"beforetoggle":F=c0}var Qt=(e&4)!==0,Ee=!Qt&&(t==="scroll"||t==="scrollend"),Y=Qt?Z!==null?Z+"Capture":null:Z;Qt=[];for(var D=q,G;D!==null;){var it=D;if(G=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||G===null||Y===null||(it=b(D,Y),it!=null&&Qt.push(ic(D,it,G))),Ee)break;D=D.return}0<Qt.length&&(Z=new F(Z,Yt,null,a,at),ut.push({event:Z,listeners:Qt}))}}if((e&7)===0){t:{if(Z=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",Z&&a!==_l&&(Yt=a.relatedTarget||a.fromElement)&&(Rn(Yt)||Yt[Ra]))break t;if((F||Z)&&(Z=at.window===at?at:(Z=at.ownerDocument)?Z.defaultView||Z.parentWindow:window,F?(Yt=a.relatedTarget||a.toElement,F=q,Yt=Yt?Rn(Yt):null,Yt!==null&&(Ee=p(Yt),Qt=Yt.tag,Yt!==Ee||Qt!==5&&Qt!==27&&Qt!==6)&&(Yt=null)):(F=null,Yt=q),F!==Yt)){if(Qt=_e,it="onMouseLeave",Y="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Qt=gl,it="onPointerLeave",Y="onPointerEnter",D="pointer"),Ee=F==null?Z:rl(F),G=Yt==null?Z:rl(Yt),Z=new Qt(it,D+"leave",F,a,at),Z.target=Ee,Z.relatedTarget=G,it=null,Rn(at)===q&&(Qt=new Qt(Y,D+"enter",Yt,a,at),Qt.target=G,Qt.relatedTarget=Ee,it=Qt),Ee=it,F&&Yt)e:{for(Qt=im,Y=F,D=Yt,G=0,it=Y;it;it=Qt(it))G++;it=0;for(var Ut=D;Ut;Ut=Qt(Ut))it++;for(;0<G-it;)Y=Qt(Y),G--;for(;0<it-G;)D=Qt(D),it--;for(;G--;){if(Y===D||D!==null&&Y===D.alternate){Qt=Y;break e}Y=Qt(Y),D=Qt(D)}Qt=null}else Qt=null;F!==null&&kd(ut,Z,F,Qt,!1),Yt!==null&&Ee!==null&&kd(ut,Ee,Yt,Qt,!0)}}t:{if(Z=q?rl(q):window,F=Z.nodeName&&Z.nodeName.toLowerCase(),F==="select"||F==="input"&&Z.type==="file")var he=lf;else if(af(Z))if(cf)he=x0;else{he=m0;var Ht=h0}else F=Z.nodeName,!F||F.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?q&&zi(q.elementType)&&(he=lf):he=g0;if(he&&(he=he(t,q))){nf(ut,he,a,at);break t}Ht&&Ht(t,Z,q),t==="focusout"&&q&&Z.type==="number"&&q.memoizedProps.value!=null&&Si(Z,"number",Z.value)}switch(Ht=q?rl(q):window,t){case"focusin":(af(Ht)||Ht.contentEditable==="true")&&(ql=Ht,Fu=q,Xi=null);break;case"focusout":Xi=Fu=ql=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,mf(ut,a,at);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":mf(ut,a,at)}var It;if(Ju)t:{switch(t){case"compositionstart":var oe="onCompositionStart";break t;case"compositionend":oe="onCompositionEnd";break t;case"compositionupdate":oe="onCompositionUpdate";break t}oe=void 0}else Gl?tf(t,a)&&(oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(Fo&&a.locale!=="ko"&&(Gl||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&Gl&&(It=jt()):(E=at,P="value"in E?E.value:E.textContent,Gl=!0)),Ht=vu(q,oe),0<Ht.length&&(oe=new qn(oe,t,null,a,at),ut.push({event:oe,listeners:Ht}),It?oe.data=It:(It=ef(a),It!==null&&(oe.data=It)))),(It=s0?o0(t,a):f0(t,a))&&(oe=vu(q,"onBeforeInput"),0<oe.length&&(Ht=new qn("onBeforeInput","beforeinput",null,a,at),ut.push({event:Ht,listeners:oe}),Ht.data=It)),em(ut,t,q,a,at)}Gd(ut,e)})}function ic(t,e,a){return{instance:t,listener:e,currentTarget:a}}function vu(t,e){for(var a=e+"Capture",n=[];t!==null;){var l=t,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=b(t,a),l!=null&&n.unshift(ic(t,l,i)),l=b(t,e),l!=null&&n.push(ic(t,l,i))),t.tag===3)return n;t=t.return}return[]}function im(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kd(t,e,a,n,l){for(var i=e._reactName,o=[];a!==null&&a!==n;){var x=a,w=x.alternate,q=x.stateNode;if(x=x.tag,w!==null&&w===n)break;x!==5&&x!==26&&x!==27||q===null||(w=q,l?(q=b(a,i),q!=null&&o.unshift(ic(a,q,w))):l||(q=b(a,i),q!=null&&o.push(ic(a,q,w)))),a=a.return}o.length!==0&&t.push({event:e,listeners:o})}var cm=/\r\n?/g,um=/\u0000|\uFFFD/g;function Qd(t){return(typeof t=="string"?t:""+t).replace(cm,`
`).replace(um,"")}function Zd(t,e){return e=Qd(e),Qd(t)===e}function je(t,e,a,n,l,i){switch(a){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||_n(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&_n(t,""+n);break;case"className":dl(t,"class",n);break;case"tabIndex":dl(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(t,a,n);break;case"style":Ei(t,n,i);break;case"data":if(e!=="object"){dl(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||a!=="href")){t.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(a);break}n=Hl(""+n),t.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(e!=="input"&&je(t,e,"name",l.name,l,null),je(t,e,"formEncType",l.formEncType,l,null),je(t,e,"formMethod",l.formMethod,l,null),je(t,e,"formTarget",l.formTarget,l,null)):(je(t,e,"encType",l.encType,l,null),je(t,e,"method",l.method,l,null),je(t,e,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(a);break}n=Hl(""+n),t.setAttribute(a,n);break;case"onClick":n!=null&&(t.onclick=Ya);break;case"onScroll":n!=null&&ce("scroll",t);break;case"onScrollEnd":n!=null&&ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(f(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(f(60));t.innerHTML=a}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}a=Hl(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,""+n):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":n===!0?t.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,n):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(a,n):t.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(a):t.setAttribute(a,n);break;case"popover":ce("beforetoggle",t),ce("toggle",t),Yl(t,"popover",n);break;case"xlinkActuate":La(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":La(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":La(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":La(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":La(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":La(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":La(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":La(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":La(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Yl(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Yl(t,a,n))}}function jo(t,e,a,n,l,i){switch(a){case"style":Ei(t,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(f(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(f(60));t.innerHTML=a}}break;case"children":typeof n=="string"?_n(t,n):(typeof n=="number"||typeof n=="bigint")&&_n(t,""+n);break;case"onScroll":n!=null&&ce("scroll",t);break;case"onScrollEnd":n!=null&&ce("scrollend",t);break;case"onClick":n!=null&&(t.onclick=Ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mc.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),e=a.slice(2,l?a.length-7:void 0),i=t[Ie]||null,i=i!=null?i[a]:null,typeof i=="function"&&t.removeEventListener(e,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(e,n,l);break t}a in t?t[a]=n:n===!0?t.setAttribute(a,""):Yl(t,a,n)}}}function ca(t,e,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",t),ce("load",t);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:je(t,e,i,o,a,null)}}l&&je(t,e,"srcSet",a.srcSet,a,null),n&&je(t,e,"src",a.src,a,null);return;case"input":ce("invalid",t);var x=i=o=l=null,w=null,q=null;for(n in a)if(a.hasOwnProperty(n)){var at=a[n];if(at!=null)switch(n){case"name":l=at;break;case"type":o=at;break;case"checked":w=at;break;case"defaultChecked":q=at;break;case"value":i=at;break;case"defaultValue":x=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(f(137,e));break;default:je(t,e,n,at,a,null)}}bi(t,i,x,w,q,o,l,!1);return;case"select":ce("invalid",t),n=o=i=null;for(l in a)if(a.hasOwnProperty(l)&&(x=a[l],x!=null))switch(l){case"value":i=x;break;case"defaultValue":o=x;break;case"multiple":n=x;default:je(t,e,l,x,a,null)}e=i,a=o,t.multiple=!!n,e!=null?Hn(t,!!n,e,!1):a!=null&&Hn(t,!!n,a,!0);return;case"textarea":ce("invalid",t),i=l=n=null;for(o in a)if(a.hasOwnProperty(o)&&(x=a[o],x!=null))switch(o){case"value":n=x;break;case"defaultValue":l=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(f(91));break;default:je(t,e,o,x,a,null)}Ci(t,n,l,i);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(n=a[w],n!=null))switch(w){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:je(t,e,w,n,a,null)}return;case"dialog":ce("beforetoggle",t),ce("toggle",t),ce("cancel",t),ce("close",t);break;case"iframe":case"object":ce("load",t);break;case"video":case"audio":for(n=0;n<lc.length;n++)ce(lc[n],t);break;case"image":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"embed":case"source":case"link":ce("error",t),ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(n=a[q],n!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:je(t,e,q,n,a,null)}return;default:if(zi(e)){for(at in a)a.hasOwnProperty(at)&&(n=a[at],n!==void 0&&jo(t,e,at,n,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(n=a[x],n!=null&&je(t,e,x,n,a,null))}function sm(t,e,a,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,o=null,x=null,w=null,q=null,at=null;for(F in a){var ut=a[F];if(a.hasOwnProperty(F)&&ut!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":w=ut;default:n.hasOwnProperty(F)||je(t,e,F,null,n,ut)}}for(var Z in n){var F=n[Z];if(ut=a[Z],n.hasOwnProperty(Z)&&(F!=null||ut!=null))switch(Z){case"type":i=F;break;case"name":l=F;break;case"checked":q=F;break;case"defaultChecked":at=F;break;case"value":o=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(f(137,e));break;default:F!==ut&&je(t,e,Z,F,n,ut)}}Ol(t,o,x,w,q,at,i,l);return;case"select":F=o=x=Z=null;for(i in a)if(w=a[i],a.hasOwnProperty(i)&&w!=null)switch(i){case"value":break;case"multiple":F=w;default:n.hasOwnProperty(i)||je(t,e,i,null,n,w)}for(l in n)if(i=n[l],w=a[l],n.hasOwnProperty(l)&&(i!=null||w!=null))switch(l){case"value":Z=i;break;case"defaultValue":x=i;break;case"multiple":o=i;default:i!==w&&je(t,e,l,i,n,w)}e=x,a=o,n=F,Z!=null?Hn(t,!!a,Z,!1):!!n!=!!a&&(e!=null?Hn(t,!!a,e,!0):Hn(t,!!a,a?[]:"",!1));return;case"textarea":F=Z=null;for(x in a)if(l=a[x],a.hasOwnProperty(x)&&l!=null&&!n.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:je(t,e,x,null,n,l)}for(o in n)if(l=n[o],i=a[o],n.hasOwnProperty(o)&&(l!=null||i!=null))switch(o){case"value":Z=l;break;case"defaultValue":F=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(f(91));break;default:l!==i&&je(t,e,o,l,n,i)}Mi(t,Z,F);return;case"option":for(var Yt in a)if(Z=a[Yt],a.hasOwnProperty(Yt)&&Z!=null&&!n.hasOwnProperty(Yt))switch(Yt){case"selected":t.selected=!1;break;default:je(t,e,Yt,null,n,Z)}for(w in n)if(Z=n[w],F=a[w],n.hasOwnProperty(w)&&Z!==F&&(Z!=null||F!=null))switch(w){case"selected":t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:je(t,e,w,Z,n,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in a)Z=a[Qt],a.hasOwnProperty(Qt)&&Z!=null&&!n.hasOwnProperty(Qt)&&je(t,e,Qt,null,n,Z);for(q in n)if(Z=n[q],F=a[q],n.hasOwnProperty(q)&&Z!==F&&(Z!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(f(137,e));break;default:je(t,e,q,Z,n,F)}return;default:if(zi(e)){for(var Ee in a)Z=a[Ee],a.hasOwnProperty(Ee)&&Z!==void 0&&!n.hasOwnProperty(Ee)&&jo(t,e,Ee,void 0,n,Z);for(at in n)Z=n[at],F=a[at],!n.hasOwnProperty(at)||Z===F||Z===void 0&&F===void 0||jo(t,e,at,Z,n,F);return}}for(var Y in a)Z=a[Y],a.hasOwnProperty(Y)&&Z!=null&&!n.hasOwnProperty(Y)&&je(t,e,Y,null,n,Z);for(ut in n)Z=n[ut],F=a[ut],!n.hasOwnProperty(ut)||Z===F||Z==null&&F==null||je(t,e,ut,Z,n,F)}function Vd(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function om(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,o=l.initiatorType,x=l.duration;if(i&&x&&Vd(o)){for(o=0,x=l.responseEnd,n+=1;n<a.length;n++){var w=a[n],q=w.startTime;if(q>x)break;var at=w.transferSize,ut=w.initiatorType;at&&Vd(ut)&&(w=w.responseEnd,o+=at*(w<x?1:(x-q)/(w-q)))}if(--n,e+=8*(i+o)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Eo=null,zo=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function Kd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jd(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function To(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wo=null;function fm(){var t=window.event;return t&&t.type==="popstate"?t===wo?!1:(wo=t,!0):(wo=null,!1)}var Ld=typeof setTimeout=="function"?setTimeout:void 0,rm=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,dm=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(t){return Wd.resolve(null).then(t).catch(hm)}:Ld;function hm(t){setTimeout(function(){throw t})}function ll(t){return t==="head"}function $d(t,e){var a=e,n=0;do{var l=a.nextSibling;if(t.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){t.removeChild(l),mi(e);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")cc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,cc(a);for(var i=a.firstChild;i;){var o=i.nextSibling,x=i.nodeName;i[aa]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&cc(t.ownerDocument.body);a=l}while(a);mi(e)}function Fd(t,e){var a=t;t=0;do{var n=a.nextSibling;if(a.nodeType===1?e?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(e?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=n}while(a)}function Ao(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var a=e;switch(e=e.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ao(a),pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mm(t,e,a,n){for(;t.nodeType===1;){var l=a;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[aa])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=ka(t.nextSibling),t===null)break}return null}function gm(t,e,a){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ka(t.nextSibling),t===null))return null;return t}function Id(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=ka(t.nextSibling),t===null))return null;return t}function No(t){return t.data==="$?"||t.data==="$~"}function Do(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xm(t,e){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||a.readyState!=="loading")e();else{var n=function(){e(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function ka(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ro=null;function Pd(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(e===0)return ka(t.nextSibling);e--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||e++}t=t.nextSibling}return null}function th(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(e===0)return t;e--}else a!=="/$"&&a!=="/&"||e++}t=t.previousSibling}return null}function eh(t,e,a){switch(e=yu(a),t){case"html":if(t=e.documentElement,!t)throw Error(f(452));return t;case"head":if(t=e.head,!t)throw Error(f(453));return t;case"body":if(t=e.body,!t)throw Error(f(454));return t;default:throw Error(f(451))}}function cc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);pi(t)}var Qa=new Map,ah=new Set;function bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var An=Mt.d;Mt.d={f:pm,r:vm,D:ym,C:bm,L:Sm,m:Mm,X:jm,S:Cm,M:Em};function pm(){var t=An.f(),e=ru();return t||e}function vm(t){var e=Yn(t);e!==null&&e.tag===5&&e.type==="form"?yr(e):An.r(t)}var ri=typeof document>"u"?null:document;function nh(t,e,a){var n=ri;if(n&&typeof e=="string"&&e){var l=ha(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),ah.has(l)||(ah.add(l),t={rel:t,crossOrigin:a,href:e},n.querySelector(l)===null&&(e=n.createElement("link"),ca(e,"link",t),Ve(e),n.head.appendChild(e)))}}function ym(t){An.D(t),nh("dns-prefetch",t,null)}function bm(t,e){An.C(t,e),nh("preconnect",t,e)}function Sm(t,e,a){An.L(t,e,a);var n=ri;if(n&&t&&e){var l='link[rel="preload"][as="'+ha(e)+'"]';e==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+ha(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+ha(a.imageSizes)+'"]')):l+='[href="'+ha(t)+'"]';var i=l;switch(e){case"style":i=di(t);break;case"script":i=hi(t)}Qa.has(i)||(t=v({rel:"preload",href:e==="image"&&a&&a.imageSrcSet?void 0:t,as:e},a),Qa.set(i,t),n.querySelector(l)!==null||e==="style"&&n.querySelector(uc(i))||e==="script"&&n.querySelector(sc(i))||(e=n.createElement("link"),ca(e,"link",t),Ve(e),n.head.appendChild(e)))}}function Mm(t,e){An.m(t,e);var a=ri;if(a&&t){var n=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+ha(n)+'"][href="'+ha(t)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=hi(t)}if(!Qa.has(i)&&(t=v({rel:"modulepreload",href:t},e),Qa.set(i,t),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sc(i)))return}n=a.createElement("link"),ca(n,"link",t),Ve(n),a.head.appendChild(n)}}}function Cm(t,e,a){An.S(t,e,a);var n=ri;if(n&&t){var l=Xn(n).hoistableStyles,i=di(t);e=e||"default";var o=l.get(i);if(!o){var x={loading:0,preload:null};if(o=n.querySelector(uc(i)))x.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":e},a),(a=Qa.get(i))&&Yo(t,a);var w=o=n.createElement("link");Ve(w),ca(w,"link",t),w._p=new Promise(function(q,at){w.onload=q,w.onerror=at}),w.addEventListener("load",function(){x.loading|=1}),w.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Su(o,e,n)}o={type:"stylesheet",instance:o,count:1,state:x},l.set(i,o)}}}function jm(t,e){An.X(t,e);var a=ri;if(a&&t){var n=Xn(a).hoistableScripts,l=hi(t),i=n.get(l);i||(i=a.querySelector(sc(l)),i||(t=v({src:t,async:!0},e),(e=Qa.get(l))&&Xo(t,e),i=a.createElement("script"),Ve(i),ca(i,"link",t),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Em(t,e){An.M(t,e);var a=ri;if(a&&t){var n=Xn(a).hoistableScripts,l=hi(t),i=n.get(l);i||(i=a.querySelector(sc(l)),i||(t=v({src:t,async:!0,type:"module"},e),(e=Qa.get(l))&&Xo(t,e),i=a.createElement("script"),Ve(i),ca(i,"link",t),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function lh(t,e,a,n){var l=(l=zt.current)?bu(l):null;if(!l)throw Error(f(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(e=di(a.href),a=Xn(l).hoistableStyles,n=a.get(e),n||(n={type:"style",instance:null,count:0,state:null},a.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=di(a.href);var i=Xn(l).hoistableStyles,o=i.get(t);if(o||(l=l.ownerDocument||l,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,o),(i=l.querySelector(uc(t)))&&!i._p&&(o.instance=i,o.state.loading=5),Qa.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qa.set(t,a),i||zm(l,t,a,o.state))),e&&n===null)throw Error(f(528,""));return o}if(e&&n!==null)throw Error(f(529,""));return null;case"script":return e=a.async,a=a.src,typeof a=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hi(a),a=Xn(l).hoistableScripts,n=a.get(e),n||(n={type:"script",instance:null,count:0,state:null},a.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,t))}}function di(t){return'href="'+ha(t)+'"'}function uc(t){return'link[rel="stylesheet"]['+t+"]"}function ih(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function zm(t,e,a,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),ca(e,"link",a),Ve(e),t.head.appendChild(e))}function hi(t){return'[src="'+ha(t)+'"]'}function sc(t){return"script[async]"+t}function ch(t,e,a){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+ha(a.href)+'"]');if(n)return e.instance=n,Ve(n),n;var l=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Ve(n),ca(n,"style",l),Su(n,a.precedence,t),e.instance=n;case"stylesheet":l=di(a.href);var i=t.querySelector(uc(l));if(i)return e.state.loading|=4,e.instance=i,Ve(i),i;n=ih(a),(l=Qa.get(l))&&Yo(n,l),i=(t.ownerDocument||t).createElement("link"),Ve(i);var o=i;return o._p=new Promise(function(x,w){o.onload=x,o.onerror=w}),ca(i,"link",n),e.state.loading|=4,Su(i,a.precedence,t),e.instance=i;case"script":return i=hi(a.src),(l=t.querySelector(sc(i)))?(e.instance=l,Ve(l),l):(n=a,(l=Qa.get(i))&&(n=v({},a),Xo(n,l)),t=t.ownerDocument||t,l=t.createElement("script"),Ve(l),ca(l,"link",n),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(f(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(n=e.instance,e.state.loading|=4,Su(n,a.precedence,t));return e.instance}function Su(t,e,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,o=0;o<n.length;o++){var x=n[o];if(x.dataset.precedence===e)i=x;else if(i!==l)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=a.nodeType===9?a.head:a,e.insertBefore(t,e.firstChild))}function Yo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Xo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Mu=null;function uh(t,e,a){if(Mu===null){var n=new Map,l=Mu=new Map;l.set(a,n)}else l=Mu,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(t))return n;for(n.set(t,null),a=a.getElementsByTagName(t),l=0;l<a.length;l++){var i=a[l];if(!(i[aa]||i[qe]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(e)||"";o=t+o;var x=n.get(o);x?x.push(i):n.set(o,[i])}}return n}function sh(t,e,a){t=t.ownerDocument||t,t.head.insertBefore(a,e==="title"?t.querySelector("head > title"):null)}function Tm(t,e,a){if(a===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function oh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wm(t,e,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=di(n.href),i=e.querySelector(uc(l));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Cu.bind(t),e.then(t,t)),a.state.loading|=4,a.instance=i,Ve(i);return}i=e.ownerDocument||e,n=ih(n),(l=Qa.get(l))&&Yo(n,l),i=i.createElement("link"),Ve(i);var o=i;o._p=new Promise(function(x,w){o.onload=x,o.onerror=w}),ca(i,"link",n),a.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cu.bind(t),e.addEventListener("load",a),e.addEventListener("error",a))}}var Oo=0;function Am(t,e){return t.stylesheets&&t.count===0&&Eu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var n=setTimeout(function(){if(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&Oo===0&&(Oo=62500*om());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>Oo?50:800)+e);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function Cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ju=null;function Eu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ju=new Map,e.forEach(Nm,t),ju=null,Cu.call(t))}function Nm(t,e){if(!(e.state.loading&4)){var a=ju.get(t);if(a)var n=a.get(null);else{a=new Map,ju.set(t,a);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var o=l[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}l=e.instance,o=l.getAttribute("data-precedence"),i=a.get(o)||n,i===n&&a.set(null,l),a.set(o,l),this.count++,n=Cu.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var oc={$$typeof:V,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function Dm(t,e,a,n,l,i,o,x,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function fh(t,e,a,n,l,i,o,x,w,q,at,ut){return t=new Dm(t,e,a,o,w,q,at,ut,x),e=1,i===!0&&(e|=24),i=Ma(3,null,null,e),t.current=i,i.stateNode=t,e=hs(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:e},ps(i),t}function rh(t){return t?(t=Zl,t):Zl}function dh(t,e,a,n,l,i){l=rh(l),n.context===null?n.context=l:n.pendingContext=l,n=Jn(e),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Ln(t,n,e),a!==null&&(ya(a,t,e),qi(a,t,e))}function hh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function Ho(t,e){hh(t,e),(t=t.alternate)&&hh(t,e)}function mh(t){if(t.tag===13||t.tag===31){var e=vl(t,67108864);e!==null&&ya(e,t,67108864),Ho(t,67108864)}}function gh(t){if(t.tag===13||t.tag===31){var e=Ta();e=pe(e);var a=vl(t,e);a!==null&&ya(a,t,e),Ho(t,e)}}var zu=!0;function Rm(t,e,a,n){var l=K.T;K.T=null;var i=Mt.p;try{Mt.p=2,_o(t,e,a,n)}finally{Mt.p=i,K.T=l}}function Ym(t,e,a,n){var l=K.T;K.T=null;var i=Mt.p;try{Mt.p=8,_o(t,e,a,n)}finally{Mt.p=i,K.T=l}}function _o(t,e,a,n){if(zu){var l=Bo(n);if(l===null)Co(t,e,n,Tu,a),ph(t,n);else if(Om(l,t,e,a,n))n.stopPropagation();else if(ph(t,n),e&4&&-1<Xm.indexOf(t)){for(;l!==null;){var i=Yn(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=At(i.pendingLanes);if(o!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;o;){var w=1<<31-H(o);x.entanglements[1]|=w,o&=~w}on(i),(xe&6)===0&&(ou=Fe()+500,nc(0))}}break;case 31:case 13:x=vl(i,2),x!==null&&ya(x,i,2),ru(),Ho(i,2)}if(i=Bo(n),i===null&&Co(t,e,n,Tu,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else Co(t,e,n,null,a)}}function Bo(t){return t=hl(t),Uo(t)}var Tu=null;function Uo(t){if(Tu=null,t=Rn(t),t!==null){var e=p(t);if(e===null)t=null;else{var a=e.tag;if(a===13){if(t=g(e),t!==null)return t;t=null}else if(a===31){if(t=r(e),t!==null)return t;t=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Tu=t,null}function xh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dl()){case Ka:return 2;case tn:return 8;case ra:case rn:return 32;case de:return 268435456;default:return 32}default:return 32}}var Go=!1,il=null,cl=null,ul=null,fc=new Map,rc=new Map,sl=[],Xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ph(t,e){switch(t){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":cl=null;break;case"mouseover":case"mouseout":ul=null;break;case"pointerover":case"pointerout":fc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(e.pointerId)}}function dc(t,e,a,n,l,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},e!==null&&(e=Yn(e),e!==null&&mh(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function Om(t,e,a,n,l){switch(e){case"focusin":return il=dc(il,t,e,a,n,l),!0;case"dragenter":return cl=dc(cl,t,e,a,n,l),!0;case"mouseover":return ul=dc(ul,t,e,a,n,l),!0;case"pointerover":var i=l.pointerId;return fc.set(i,dc(fc.get(i)||null,t,e,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,rc.set(i,dc(rc.get(i)||null,t,e,a,n,l)),!0}return!1}function vh(t){var e=Rn(t.target);if(e!==null){var a=p(e);if(a!==null){if(e=a.tag,e===13){if(e=g(a),e!==null){t.blockedOn=e,ba(t.priority,function(){gh(a)});return}}else if(e===31){if(e=r(a),e!==null){t.blockedOn=e,ba(t.priority,function(){gh(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var a=Bo(t.nativeEvent);if(a===null){a=t.nativeEvent;var n=new a.constructor(a.type,a);_l=n,a.target.dispatchEvent(n),_l=null}else return e=Yn(a),e!==null&&mh(e),t.blockedOn=a,!1;e.shift()}return!0}function yh(t,e,a){wu(t)&&a.delete(e)}function Hm(){Go=!1,il!==null&&wu(il)&&(il=null),cl!==null&&wu(cl)&&(cl=null),ul!==null&&wu(ul)&&(ul=null),fc.forEach(yh),rc.forEach(yh)}function Au(t,e){t.blockedOn===e&&(t.blockedOn=null,Go||(Go=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,Hm)))}var Nu=null;function bh(t){Nu!==t&&(Nu=t,y.unstable_scheduleCallback(y.unstable_NormalPriority,function(){Nu===t&&(Nu=null);for(var e=0;e<t.length;e+=3){var a=t[e],n=t[e+1],l=t[e+2];if(typeof n!="function"){if(Uo(n||a)===null)continue;break}var i=Yn(a);i!==null&&(t.splice(e,3),e-=3,_s(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function mi(t){function e(w){return Au(w,t)}il!==null&&Au(il,t),cl!==null&&Au(cl,t),ul!==null&&Au(ul,t),fc.forEach(e),rc.forEach(e);for(var a=0;a<sl.length;a++){var n=sl[a];n.blockedOn===t&&(n.blockedOn=null)}for(;0<sl.length&&(a=sl[0],a.blockedOn===null);)vh(a),a.blockedOn===null&&sl.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],o=l[Ie]||null;if(typeof i=="function")o||bh(a);else if(o){var x=null;if(i&&i.hasAttribute("formAction")){if(l=i,o=i[Ie]||null)x=o.formAction;else if(Uo(l)!==null)continue}else x=o.action;typeof x=="function"?a[n+1]=x:(a.splice(n,3),n-=3),bh(a)}}}function Sh(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return l=o})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function qo(t){this._internalRoot=t}Du.prototype.render=qo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(f(409));var a=e.current,n=Ta();dh(a,n,t,e,null,null)},Du.prototype.unmount=qo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dh(t.current,2,null,t,null,null),ru(),e[Ra]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=He();t={blockedOn:null,target:t,priority:e};for(var a=0;a<sl.length&&e!==0&&e<sl[a].priority;a++);sl.splice(a,0,t),a===0&&vh(t)}};var Mh=c.version;if(Mh!=="19.2.3")throw Error(f(527,Mh,"19.2.3"));Mt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(f(188)):(t=Object.keys(t).join(","),Error(f(268,t)));return t=u(e),t=t!==null?d(t):null,t=t===null?null:t.stateNode,t};var _m={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{vt=Ru.inject(_m),j=Ru}catch{}}return mc.createRoot=function(t,e){if(!S(t))throw Error(f(299));var a=!1,n="",l=Ar,i=Nr,o=Dr;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=fh(t,1,!1,null,null,a,n,null,l,i,o,Sh),t[Ra]=e.current,Mo(t),new qo(e)},mc.hydrateRoot=function(t,e,a){if(!S(t))throw Error(f(299));var n=!1,l="",i=Ar,o=Nr,x=Dr,w=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),e=fh(t,1,!0,e,a??null,n,l,w,i,o,x,Sh),e.context=rh(null),a=e.current,n=Ta(),n=pe(n),l=Jn(n),l.callback=null,Ln(a,l,n),a=n,e.current.lanes=a,_t(e,a),on(e),t[Ra]=e.current,Mo(t),new Du(e)},mc.version="19.2.3",mc}var Rh;function Lm(){if(Rh)return Zo.exports;Rh=1;function y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(c){console.error(c)}}return y(),Zo.exports=Jm(),Zo.exports}var Wm=Lm();const Nn={lineArt:!1,lineArtBlend:.5,lineArtThreshold:50,lineArtColorBlend:0,findEdges:!1,findEdgesBlend:.5,findEdgesStrength:1,blurType:0,blurRadius:0,blurAngle:0,noiseType:0,noiseAmount:0,noiseDensity:100,posterize:0,brightness:0,contrast:0,invert:!1,levels:!1,levelsBlack:0,levelsWhite:255,levelsGamma:1,levelsMono:!1,halftone:!1,halftoneSize:6,halftoneAngle:45,halftoneColorMode:0,halftoneColorBlend:0,halftoneBlendMode:0,hueShift:0,saturation:0,colorTempShift:0,posterizeStyle:0,posterizeColorShift:0,frostedGlass:!1,frostedGlassAmount:8,strokeEnabled:!1,strokeColor:"#000000",strokeWidth:3,strokeInner:!1,strokeOuter:!0,gameFilter:0,gameFilterIntensity:1,facetFilter:0,facetSize:15,oilPaint:!1,oilPaintRadius:4,oilPaintLevels:20,metalFilter:!1,metalIntensity:1,paletteKnife:!1,paletteKnifeLength:20,paletteKnifeDirection:45,colorSepEnabled:!1,colorSepR:8,colorSepG:8,colorSepB:8,colorSepMix:1,textureFilter:0,textureIntensity:1,gradientFade:!1,gradientFadeDirection:0,gradientFadeAmount:50,channelShiftRG:0,channelShiftYB:0,channelShiftPC:0};function pc(y){const c=document.createElement("canvas");return c.width=y.width,c.height=y.height,c.getContext("2d").drawImage(y,0,0),c}function $m(y,c){let C=y.naturalWidth,f=y.naturalHeight;if(c&&(C>c||f>c)){const p=Math.min(c/C,c/f);C=Math.round(C*p),f=Math.round(f*p)}const S=document.createElement("canvas");return S.width=C,S.height=f,S.getContext("2d").drawImage(y,0,0,C,f),S}function ge(y){return y.getContext("2d").getImageData(0,0,y.width,y.height)}function ve(y,c){y.getContext("2d").putImageData(c,0,0)}function vc(y,c,C){y/=255,c/=255,C/=255;const f=Math.max(y,c,C),S=Math.min(y,c,C);let p=0,g=0;const r=(f+S)/2;if(f!==S){const h=f-S;g=r>.5?h/(2-f-S):h/(f+S),f===y?p=((c-C)/h+(c<C?6:0))/6:f===c?p=((C-y)/h+2)/6:p=((y-c)/h+4)/6}return[p*360,g,r]}function yc(y,c,C){if(y=(y%360+360)%360,y/=360,c===0){const g=Math.round(C*255);return[g,g,g]}const f=(g,r,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<1/6?g+(r-g)*6*h:h<1/2?r:h<2/3?g+(r-g)*(2/3-h)*6:g),S=C<.5?C*(1+c):C+c-C*c,p=2*C-S;return[Math.round(f(p,S,y+1/3)*255),Math.round(f(p,S,y)*255),Math.round(f(p,S,y-1/3)*255)]}function Oh(y,c,C){const f=ge(y),S=f.data,p=c,g=259*(C+255)/(255*(259-C));for(let r=0;r<S.length;r+=4)S[r]=Math.max(0,Math.min(255,g*(S[r]-128)+128+p)),S[r+1]=Math.max(0,Math.min(255,g*(S[r+1]-128)+128+p)),S[r+2]=Math.max(0,Math.min(255,g*(S[r+2]-128)+128+p));ve(y,f)}function Hh(y,c,C,f){if(C<=0||c===0)return;const S=y.width,p=y.height,g=y.getContext("2d");switch(c){case 1:{const r=Math.ceil(C*2.5),h=r*2+1,u=new Float32Array(h),d=C;let v=0;for(let Q=0;Q<h;Q++){const L=Q-r;u[Q]=Math.exp(-(L*L)/(2*d*d)),v+=u[Q]}for(let Q=0;Q<h;Q++)u[Q]/=v;const M=ge(y),A=M.data,X=new Uint8ClampedArray(A.length);for(let Q=0;Q<p;Q++)for(let L=0;L<S;L++){let J=0,I=0,V=0,ft=0;for(let rt=0;rt<h;rt++){const st=Math.min(S-1,Math.max(0,L+rt-r)),bt=(Q*S+st)*4,nt=u[rt];J+=A[bt]*nt,I+=A[bt+1]*nt,V+=A[bt+2]*nt,ft+=A[bt+3]*nt}const dt=(Q*S+L)*4;X[dt]=J,X[dt+1]=I,X[dt+2]=V,X[dt+3]=ft}for(let Q=0;Q<p;Q++)for(let L=0;L<S;L++){let J=0,I=0,V=0,ft=0;for(let rt=0;rt<h;rt++){const bt=(Math.min(p-1,Math.max(0,Q+rt-r))*S+L)*4,nt=u[rt];J+=X[bt]*nt,I+=X[bt+1]*nt,V+=X[bt+2]*nt,ft+=X[bt+3]*nt}const dt=(Q*S+L)*4;A[dt]=J,A[dt+1]=I,A[dt+2]=V,A[dt+3]=ft}ve(y,M);break}case 2:{const r=ge(y),h=r.data,u=new Uint8ClampedArray(h),d=Math.round(C);for(let M=0;M<p;M++)for(let A=0;A<S;A++){let X=0,Q=0,L=0,J=0;for(let V=-d;V<=d;V++){const ft=Math.max(0,Math.min(S-1,A+V)),dt=(M*S+ft)*4;X+=u[dt],Q+=u[dt+1],L+=u[dt+2],J++}const I=(M*S+A)*4;h[I]=X/J,h[I+1]=Q/J,h[I+2]=L/J}const v=new Uint8ClampedArray(h);for(let M=0;M<p;M++)for(let A=0;A<S;A++){let X=0,Q=0,L=0,J=0;for(let V=-d;V<=d;V++){const dt=(Math.max(0,Math.min(p-1,M+V))*S+A)*4;X+=v[dt],Q+=v[dt+1],L+=v[dt+2],J++}const I=(M*S+A)*4;h[I]=X/J,h[I+1]=Q/J,h[I+2]=L/J}ve(y,r);break}case 3:{const r=f*Math.PI/180,h=Math.cos(r),u=Math.sin(r),d=Math.min(Math.round(C*2),40),v=C*2/d,M=pc(y);g.clearRect(0,0,S,p);for(let A=0;A<d;A++){const X=(A/d-.5)*C*(v/C||1);g.globalAlpha=1/d,g.drawImage(M,X*h,X*u)}g.globalAlpha=1;break}case 4:{const r=Math.min(Math.max(4,Math.round(C*1.5)),30),h=pc(y);g.clearRect(0,0,S,p);for(let u=0;u<r;u++){const d=1+(u/r-.5)*(C/100),v=S*d,M=p*d;g.globalAlpha=1/r,g.drawImage(h,(S-v)/2,(p-M)/2,v,M)}g.globalAlpha=1;break}}}function _h(y,c,C,f){if(C<=0||c===0)return;const S=ge(y),p=S.data,g=C*2.55,r=f/100,h=()=>{const u=Math.random(),d=Math.random();return Math.sqrt(-2*Math.log(u||.001))*Math.cos(2*Math.PI*d)};switch(c){case 1:{for(let u=0;u<p.length;u+=4){if(Math.random()>r)continue;const d=h()*g*.4;p[u]=Math.max(0,Math.min(255,p[u]+d)),p[u+1]=Math.max(0,Math.min(255,p[u+1]+d)),p[u+2]=Math.max(0,Math.min(255,p[u+2]+d))}break}case 2:{for(let u=0;u<p.length;u+=4){if(Math.random()>r)continue;const d=(p[u]*.299+p[u+1]*.587+p[u+2]*.114)/255,v=1-Math.abs(d-.5)*2,M=g*.5*(.3+v*.7),A=h()*M;p[u]=Math.max(0,Math.min(255,p[u]+A)),p[u+1]=Math.max(0,Math.min(255,p[u+1]+A)),p[u+2]=Math.max(0,Math.min(255,p[u+2]+A))}break}case 3:{for(let u=0;u<p.length;u+=4){if(Math.random()>r)continue;const d=h()*g*.5,v=h()*g*.5,M=h()*g*.5;p[u]=Math.max(0,Math.min(255,p[u]+d)),p[u+1]=Math.max(0,Math.min(255,p[u+1]+v)),p[u+2]=Math.max(0,Math.min(255,p[u+2]+M))}break}case 4:{for(let u=0;u<p.length;u+=4){if(Math.random()>r)continue;const d=(Math.random()-.5)*g;p[u]=Math.max(0,Math.min(255,p[u]+d)),p[u+1]=Math.max(0,Math.min(255,p[u+1]+d)),p[u+2]=Math.max(0,Math.min(255,p[u+2]+d))}break}}ve(y,S)}function Bh(y,c){const C=ge(y),f=C.data,S=255/(c-1);for(let p=0;p<f.length;p+=4)f[p]=Math.round(Math.round(f[p]/S)*S),f[p+1]=Math.round(Math.round(f[p+1]/S)*S),f[p+2]=Math.round(Math.round(f[p+2]/S)*S);ve(y,C)}function Uh(y){const c=ge(y),C=c.data;for(let f=0;f<C.length;f+=4)C[f]=255-C[f],C[f+1]=255-C[f+1],C[f+2]=255-C[f+2];ve(y,c)}function Gh(y,c,C,f){const S=pc(y),p=ge(S),g=ge(y),r=y.width,h=y.height,u=new Float32Array(r*h);for(let v=0;v<u.length;v++)u[v]=g.data[v*4]*.299+g.data[v*4+1]*.587+g.data[v*4+2]*.114;const d=new Uint8ClampedArray(g.data.length);for(let v=0;v<r;v++){const M=v*4,A=((h-1)*r+v)*4;d[M]=d[M+1]=d[M+2]=255,d[M+3]=255,d[A]=d[A+1]=d[A+2]=255,d[A+3]=255}for(let v=0;v<h;v++){const M=v*r*4,A=(v*r+r-1)*4;d[M]=d[M+1]=d[M+2]=255,d[M+3]=255,d[A]=d[A+1]=d[A+2]=255,d[A+3]=255}for(let v=1;v<h-1;v++)for(let M=1;M<r-1;M++){const A=v*r+M,X=-u[A-r-1]+u[A-r+1]-2*u[A-1]+2*u[A+1]-u[A+r-1]+u[A+r+1],Q=-u[A-r-1]-2*u[A-r]-u[A-r+1]+u[A+r-1]+2*u[A+r]+u[A+r+1],J=Math.sqrt(X*X+Q*Q)>c?0:255,I=A*4;d[I]=J,d[I+1]=J,d[I+2]=J,d[I+3]=255}if(f>0)for(let v=0;v<h;v++)for(let M=0;M<r;M++){const A=(v*r+M)*4,X=d[A],Q=p.data[A],L=p.data[A+1],J=p.data[A+2],I=X/255,V=.2*f,ft=I*(1-V)+V,dt=(Q+L+J)/3,rt=1+f*.3,st=Math.min(255,(Q+(Q-dt)*(rt-1))*ft),bt=Math.min(255,(L+(L-dt)*(rt-1))*ft),nt=Math.min(255,(J+(J-dt)*(rt-1))*ft);d[A]=Math.max(0,Math.min(255,Math.round(X*(1-f)+st*f))),d[A+1]=Math.max(0,Math.min(255,Math.round(X*(1-f)+bt*f))),d[A+2]=Math.max(0,Math.min(255,Math.round(X*(1-f)+nt*f)))}for(let v=0;v<d.length;v+=4)d[v+3]=p.data[v+3];if(ve(y,new ImageData(d,r,h)),C>0){const v=y.getContext("2d");v.globalAlpha=C,v.drawImage(S,0,0),v.globalAlpha=1}}function qh(y,c,C){const f=pc(y),S=ge(y),p=y.width,g=y.height,r=S.data,h=new Uint8ClampedArray(r.length);for(let u=1;u<g-1;u++)for(let d=1;d<p-1;d++){const v=(u*p+d)*4;for(let M=0;M<3;M++){const A=r[((u-1)*p+d-1)*4+M],X=r[((u-1)*p+d)*4+M],Q=r[((u-1)*p+d+1)*4+M],L=r[(u*p+d-1)*4+M],J=r[(u*p+d+1)*4+M],I=r[((u+1)*p+d-1)*4+M],V=r[((u+1)*p+d)*4+M],ft=r[((u+1)*p+d+1)*4+M],dt=-A+Q-2*L+2*J-I+ft,rt=-A-2*X-Q+I+2*V+ft;h[v+M]=Math.min(255,Math.sqrt(dt*dt+rt*rt)*c)}h[v+3]=r[v+3]}for(let u=0;u<p;u++){const d=u*4,v=((g-1)*p+u)*4;h[d+3]=r[d+3],h[v+3]=r[v+3]}for(let u=0;u<g;u++){const d=u*p*4,v=(u*p+p-1)*4;h[d+3]=r[d+3],h[v+3]=r[v+3]}if(ve(y,new ImageData(h,p,g)),C>0){const u=y.getContext("2d");u.globalAlpha=C,u.drawImage(f,0,0),u.globalAlpha=1}}function kh(y,c,C,f,S){const p=ge(y),g=p.data,r=Math.max(1,C-c),h=new Uint8Array(256);for(let u=0;u<256;u++){let d=(u-c)/r;d=Math.max(0,Math.min(1,d)),d=Math.pow(d,1/f),h[u]=Math.round(d*255)}for(let u=0;u<g.length;u+=4)if(S){const d=Math.round(g[u]*.299+g[u+1]*.587+g[u+2]*.114),v=h[d];g[u]=v,g[u+1]=v,g[u+2]=v}else g[u]=h[g[u]],g[u+1]=h[g[u+1]],g[u+2]=h[g[u+2]];ve(y,p)}function Qh(y,c,C,f,S,p=0){const g=y.width,r=y.height,h=ge(y),u=S>0?new Uint8ClampedArray(h.data):null,d=y.getContext("2d");d.clearRect(0,0,g,r),d.fillStyle="#ffffff",d.fillRect(0,0,g,r);const v=C*Math.PI/180,M=Math.cos(v),A=Math.sin(v),X=c,Q=X*.5,L=Math.sqrt(g*g+r*r);for(let J=-L;J<L;J+=X)for(let I=-L;I<L;I+=X){const V=I*M-J*A+g/2,ft=I*A+J*M+r/2,dt=Math.round(V),rt=Math.round(ft);if(dt<0||dt>=g||rt<0||rt>=r)continue;const st=(rt*g+dt)*4,bt=h.data[st],nt=h.data[st+1],Et=h.data[st+2],Gt=1-(bt*.299+nt*.587+Et*.114)/255,Dt=Q*Math.sqrt(Gt);Dt>.3&&(f===1?d.fillStyle=`rgb(${bt},${nt},${Et})`:d.fillStyle="#000000",d.beginPath(),d.arc(V,ft,Dt,0,Math.PI*2),d.fill())}if(p>0&&u){const J=ge(y),I=J.data;for(let V=0;V<I.length;V+=4){const ft=I[V],dt=I[V+1],rt=I[V+2],st=u[V],bt=u[V+1],nt=u[V+2];let Et=ft,Bt=dt,Gt=rt;switch(p){case 1:{Et=st<128?2*st*ft/255:255-2*(255-st)*(255-ft)/255,Bt=bt<128?2*bt*dt/255:255-2*(255-bt)*(255-dt)/255,Gt=nt<128?2*nt*rt/255:255-2*(255-nt)*(255-rt)/255;break}case 2:{Et=ft*st/255,Bt=dt*bt/255,Gt=rt*nt/255;break}case 3:{Et=Math.min(ft,st),Bt=Math.min(dt,bt),Gt=Math.min(rt,nt);break}}I[V]=Math.round(Et),I[V+1]=Math.round(Bt),I[V+2]=Math.round(Gt)}ve(y,J)}if(S>0&&u){const J=ge(y),I=J.data;for(let V=0;V<I.length;V+=4)I[V]=Math.round(I[V]*(1-S)+u[V]*S),I[V+1]=Math.round(I[V+1]*(1-S)+u[V+1]*S),I[V+2]=Math.round(I[V+2]*(1-S)+u[V+2]*S);ve(y,J)}{const J=ge(y),I=J.data;for(let V=0;V<I.length;V+=4)I[V+3]=h.data[V+3];ve(y,J)}}function Zh(y,c,C,f){const S=ge(y),p=S.data,g=1+C/100;for(let r=0;r<p.length;r+=4){let h=p[r],u=p[r+1],d=p[r+2];f!==0&&(h=Math.max(0,Math.min(255,h+f*.8)),d=Math.max(0,Math.min(255,d-f*.8)));const[v,M,A]=vc(h,u,d),X=v+c,Q=Math.max(0,Math.min(1,M*g)),[L,J,I]=yc(X,Q,A);p[r]=L,p[r+1]=J,p[r+2]=I}ve(y,S)}function Vh(y,c,C){const f=ge(y),S=f.data;for(let p=0;p<S.length;p+=4){let g=S[p],r=S[p+1],h=S[p+2];if(C!==0){const[u,d,v]=vc(g,r,h),[M,A,X]=yc(u+C,d,v);g=M,r=A,h=X}switch(c){case 1:{g=Math.round(g/64)*85,r=Math.round(r/64)*85,h=Math.round(h/64)*85;const[u,d,v]=vc(g,r,h),[M,A,X]=yc(u,Math.min(1,d*2.5),v);S[p]=M,S[p+1]=A,S[p+2]=X;break}case 2:{const u=g*.299+r*.587+h*.114,d=Math.floor(u/64),M=[[40,30,20],[120,80,40],[200,160,80],[240,220,180]][Math.min(d,3)];S[p]=M[0],S[p+1]=M[1],S[p+2]=M[2];break}case 3:{g=Math.round(g/85)*85,r=Math.round(r/85)*85,h=Math.round(h/85)*85,S[p]=Math.round(g*.5+128),S[p+1]=Math.round(r*.5+128),S[p+2]=Math.round(h*.5+128);break}case 4:{const d=(g*.299+r*.587+h*.114)/255;S[p]=Math.round(20*(1-d)+255*d),S[p+1]=Math.round(10*(1-d)+200*d),S[p+2]=Math.round(80*(1-d)+50*d);break}}}ve(y,f)}function Kh(y,c){const C=ge(y),f=C.data,S=y.width,p=y.height,g=new Uint8ClampedArray(f);for(let h=0;h<p;h++)for(let u=0;u<S;u++){const d=Math.round(u+(Math.random()-.5)*c),v=Math.round(h+(Math.random()-.5)*c),M=Math.max(0,Math.min(S-1,d)),A=Math.max(0,Math.min(p-1,v)),X=(h*S+u)*4,Q=(A*S+M)*4;f[X]=g[Q],f[X+1]=g[Q+1],f[X+2]=g[Q+2]}ve(y,C);const r=y.getContext("2d");r.filter=`blur(${Math.max(1,c*.3)}px)`,r.drawImage(y,0,0),r.filter="none"}function Jh(y,c,C,f,S){const p=y.width,g=y.height,r=y.getContext("2d"),h=ge(y),u=h.data,d=p*g,v=parseInt(c.slice(1,3),16),M=parseInt(c.slice(3,5),16),A=parseInt(c.slice(5,7),16),X=new Uint8Array(d);let Q=!1;for(let V=0;V<d;V++)X[V]=u[V*4+3]>128?1:0,!X[V]&&V%p>0&&V%p<p-1&&Math.floor(V/p)>0&&Math.floor(V/p)<g-1&&(Q=!0);if(!Q){S&&(r.strokeStyle=c,r.lineWidth=C*2,r.strokeRect(-C,-C,p+C*2,g+C*2)),f&&(r.strokeStyle=c,r.lineWidth=C*2,r.strokeRect(C,C,p-C*2,g-C*2));return}const L=new Uint8Array(d),J=new Uint8Array(d);for(let V=1;V<g-1;V++){const ft=V*p;for(let dt=1;dt<p-1;dt++){const rt=ft+dt;X[rt]?(!X[rt-1]||!X[rt+1]||!X[rt-p]||!X[rt+p])&&(L[rt]=1):(X[rt-1]||X[rt+1]||X[rt-p]||X[rt+p])&&(J[rt]=1)}}const I=(V,ft,dt)=>{const rt=new Uint8Array(V);let st=new Uint16Array(d*2),bt=0;for(let nt=0;nt<g;nt++)for(let Et=0;Et<p;Et++)rt[nt*p+Et]&&(st[bt++]=Et,st[bt++]=nt);for(let nt=1;nt<C;nt++){const Et=new Uint16Array(d*2);let Bt=0;for(let Gt=0;Gt<bt;Gt+=2){const Dt=st[Gt],Vt=st[Gt+1],Kt=[[Dt-1,Vt],[Dt+1,Vt],[Dt,Vt-1],[Dt,Vt+1]];for(const[K,Mt]of Kt)if(K>=0&&K<p&&Mt>=0&&Mt<g){const wt=Mt*p+K;!rt[wt]&&ft[wt]===dt&&(rt[wt]=1,Et[Bt++]=K,Et[Bt++]=Mt)}}if(st=Et,bt=Bt,bt===0)break}return rt};if(S){const V=C>1?I(J,X,0):J;for(let ft=0;ft<d;ft++)if(V[ft]&&!X[ft]){const dt=ft*4;u[dt]=v,u[dt+1]=M,u[dt+2]=A,u[dt+3]=255}}if(f){const V=C>1?I(L,X,1):L;for(let ft=0;ft<d;ft++)if(V[ft]&&X[ft]){const dt=ft*4;u[dt]=v,u[dt+1]=M,u[dt+2]=A}}ve(y,h)}function Lh(y,c,C){const f=y.width,S=y.height,p=y.getContext("2d");switch(c){case 1:{const g=Math.max(2,Math.round(6*C)),r=ge(y),h=r.data;for(let u=0;u<S;u+=g)for(let d=0;d<f;d+=g){let v=0,M=0,A=0,X=0;for(let I=0;I<g&&u+I<S;I++)for(let V=0;V<g&&d+V<f;V++){const ft=((u+I)*f+d+V)*4;v+=h[ft],M+=h[ft+1],A+=h[ft+2],X++}const Q=Math.round(v/X),L=Math.round(M/X),J=Math.round(A/X);for(let I=0;I<g&&u+I<S;I++)for(let V=0;V<g&&d+V<f;V++){const ft=((u+I)*f+d+V)*4;h[ft]=Q,h[ft+1]=L,h[ft+2]=J}}ve(y,r);break}case 2:{const g=ge(y),r=g.data,h=Math.max(2,Math.round(3*C));for(let v=0;v<S;v++){const M=v%h===0?.5:1;for(let A=0;A<f;A++){const X=(v*f+A)*4;r[X]=Math.round(r[X]*M),r[X+1]=Math.round(r[X+1]*M),r[X+2]=Math.round(r[X+2]*M)}}const u=Math.round(2*C);for(let v=0;v<S;v++)for(let M=0;M<f-u;M++){const A=(v*f+M)*4,X=(v*f+M+u)*4;r[A]=Math.min(255,r[A]+r[X]*.1)}ve(y,g);const d=p.createRadialGradient(f/2,S/2,f*.3,f/2,S/2,f*.7);d.addColorStop(0,"rgba(0,0,0,0)"),d.addColorStop(1,`rgba(0,0,0,${.3*C})`),p.fillStyle=d,p.fillRect(0,0,f,S);break}case 3:{const g=ge(y),r=g.data;for(let d=0;d<r.length;d+=4){const[v,M,A]=vc(r[d],r[d+1],r[d+2]),X=Math.min(1,M*(1+C)),Q=A>.4?Math.min(1,A*(1+.3*C)):A*(1-.2*C),[L,J,I]=yc(v,X,Q);r[d]=L,r[d+1]=J,r[d+2]=I}ve(y,g);const h=pc(y),u=h.getContext("2d");u.filter=`blur(${8*C}px) brightness(1.5)`,u.drawImage(h,0,0),u.filter="none",p.globalCompositeOperation="screen",p.globalAlpha=.4*C,p.drawImage(h,0,0),p.globalCompositeOperation="source-over",p.globalAlpha=1;break}case 4:{const g=ge(y),r=g.data;for(let v=0;v<r.length;v+=4)r[v]=Math.round(r[v]/36)*36,r[v+1]=Math.round(r[v+1]/36)*36,r[v+2]=Math.round(r[v+2]/85)*85;ve(y,g);const h=Math.max(2,Math.round(3*C)),u=document.createElement("canvas");u.width=Math.ceil(f/h),u.height=Math.ceil(S/h),u.getContext("2d").drawImage(y,0,0,u.width,u.height),p.imageSmoothingEnabled=!1,p.clearRect(0,0,f,S),p.drawImage(u,0,0,f,S),p.imageSmoothingEnabled=!0;break}}}function Wh(y,c,C){const f=y.width,S=y.height,p=ge(y),g=new Uint8ClampedArray(p.data),r=p.data,h=Math.max(3,Math.round(C)),u=(d,v,M,A,X)=>{let Q=0,L=0,J=0,I=0;for(const[rt,st]of d)if(rt>=0&&rt<f&&st>=0&&st<S){const bt=(st*f+rt)*4;Q+=g[bt],L+=g[bt+1],J+=g[bt+2],I++}if(I===0)return;const V=Math.round(Q/I),ft=Math.round(L/I),dt=Math.round(J/I);for(const[rt,st]of d)if(rt>=0&&rt<f&&st>=0&&st<S){const bt=(st*f+rt)*4;r[bt]=V,r[bt+1]=ft,r[bt+2]=dt}for(let rt=v;rt<=A&&rt<f;rt++)if(M>=0&&M<S){const st=(M*f+rt)*4;r[st]=Math.round(r[st]*.85),r[st+1]=Math.round(r[st+1]*.85),r[st+2]=Math.round(r[st+2]*.85)}for(let rt=M;rt<=X&&rt<S;rt++)if(v>=0&&v<f){const st=(rt*f+v)*4;r[st]=Math.round(r[st]*.85),r[st+1]=Math.round(r[st+1]*.85),r[st+2]=Math.round(r[st+2]*.85)}};switch(c){case 1:{for(let d=0;d<S;d+=h)for(let v=0;v<f;v+=h){const M=Math.max(2,h+Math.round((Math.random()-.5)*h*.6)),A=Math.max(2,h+Math.round((Math.random()-.5)*h*.6)),X=Math.min(f-1,v+M),Q=Math.min(S-1,d+A),L=[];for(let J=d;J<=Q;J++)for(let I=v;I<=X;I++)L.push([I,J]);u(L,v,d,X,Q)}break}case 2:{for(let d=0;d<S;d+=h)for(let v=0;v<f;v+=h){const M=Math.min(f-1,v+h),A=Math.min(S-1,d+h),X=[],Q=[];for(let L=d;L<=A;L++)for(let J=v;J<=M;J++){const I=(J-v)/Math.max(1,M-v),V=(L-d)/Math.max(1,A-d);I+V<=1?X.push([J,L]):Q.push([J,L])}u(X,v,d,M,A),u(Q,v,d,M,A)}break}case 3:{const d=Math.max(20,Math.round(f*S/(h*h*2))),v=[];for(let L=0;L<d;L++){const J=Math.floor(Math.random()*f),I=Math.floor(Math.random()*S),V=(I*f+J)*4;v.push({x:J,y:I,r:g[V],g:g[V+1],b:g[V+2]})}const M=Math.max(1,Math.floor(Math.sqrt(f*S/d))),A=Math.ceil(f/M),X=Math.ceil(S/M),Q=new Array(A*X);for(let L=0;L<Q.length;L++)Q[L]=[];for(let L=0;L<v.length;L++){const J=Math.min(A-1,Math.floor(v[L].x/M)),I=Math.min(X-1,Math.floor(v[L].y/M));Q[I*A+J].push(L)}for(let L=0;L<S;L++){const J=Math.min(X-1,Math.floor(L/M));for(let I=0;I<f;I++){const V=Math.min(A-1,Math.floor(I/M));let ft=1/0,dt=0;for(let bt=-2;bt<=2;bt++){const nt=J+bt;if(!(nt<0||nt>=X))for(let Et=-2;Et<=2;Et++){const Bt=V+Et;if(Bt<0||Bt>=A)continue;const Gt=Q[nt*A+Bt];for(let Dt=0;Dt<Gt.length;Dt++){const Vt=v[Gt[Dt]],Kt=I-Vt.x,K=L-Vt.y,Mt=Kt*Kt+K*K;Mt<ft&&(ft=Mt,dt=Gt[Dt])}}}const rt=v[dt],st=(L*f+I)*4;r[st]=rt.r,r[st+1]=rt.g,r[st+2]=rt.b}}break}case 4:{const d=Math.max(2,Math.round(h/2));for(let v=0;v<S;v+=h)for(let M=0;M<f;M+=h){const A=M+d,X=v+d,Q=[];for(let L=v;L<Math.min(S,v+h);L++)for(let J=M;J<Math.min(f,M+h);J++){const I=Math.abs(J-A),V=Math.abs(L-X);I+V<=d&&Q.push([J,L])}Q.length>0&&u(Q,M,v,Math.min(f-1,M+h),Math.min(S-1,v+h));for(let L=v;L<Math.min(S,v+h);L++)for(let J=M;J<Math.min(f,M+h);J++){const I=Math.abs(J-A),V=Math.abs(L-X);if(I+V>d){const ft=(L*f+J)*4;r[ft]=Math.round(g[ft]*.8),r[ft+1]=Math.round(g[ft+1]*.8),r[ft+2]=Math.round(g[ft+2]*.8)}}}break}}ve(y,p)}function $h(y,c,C){const f=ge(y),S=y.width,p=y.height,g=f.data,r=new Uint8ClampedArray(g.length),h=Math.min(5,Math.max(1,Math.round(c))),u=h>3?2:1,d=S*p,v=new Uint8Array(d),M=(C-1)/255;for(let J=0;J<d;J++){const I=J*4;v[J]=(g[I]*77+g[I+1]*150+g[I+2]*29>>8)*M|0}const A=new Uint16Array(C),X=new Uint32Array(C),Q=new Uint32Array(C),L=new Uint32Array(C);for(let J=0;J<p;J++){const I=Math.max(0,J-h),V=Math.min(p-1,J+h);for(let ft=0;ft<S;ft++){const dt=Math.max(0,ft-h),rt=Math.min(S-1,ft+h);A.fill(0),X.fill(0),Q.fill(0),L.fill(0);for(let Et=I;Et<=V;Et+=u){const Bt=Et*S;for(let Gt=dt;Gt<=rt;Gt+=u){const Dt=Bt+Gt,Vt=v[Dt],Kt=Dt*4;A[Vt]++,X[Vt]+=g[Kt],Q[Vt]+=g[Kt+1],L[Vt]+=g[Kt+2]}}let st=0,bt=A[0];for(let Et=1;Et<C;Et++)A[Et]>bt&&(bt=A[Et],st=Et);const nt=(J*S+ft)*4;bt>0?(r[nt]=X[st]/bt,r[nt+1]=Q[st]/bt,r[nt+2]=L[st]/bt):(r[nt]=g[nt],r[nt+1]=g[nt+1],r[nt+2]=g[nt+2]),r[nt+3]=g[nt+3]}}ve(y,new ImageData(r,S,p))}function Fh(y,c){const C=y.width,f=y.height,S=ge(y),p=new Uint8ClampedArray(S.data),g=S.data;for(let r=1;r<f-1;r++)for(let h=1;h<C-1;h++){const u=(r*C+h)*4,d=(r-1)*C+(h-1),v=(r+1)*C+(h+1);for(let M=0;M<3;M++){const A=p[u+M]*2-p[d*4+M]*.5-p[v*4+M]*.5,X=Math.max(0,Math.min(255,A));g[u+M]=X}}for(let r=0;r<g.length;r+=4){const h=g[r],u=g[r+1],d=g[r+2],v=h*.299+u*.587+d*.114,M=.3+.7*(1-c*.5);let A=v*(1-M)+h*M,X=v*(1-M)+u*M,Q=v*(1-M)+d*M;A=A*(1-c*.15),X=X*(1-c*.05),Q=Q*(1+c*.12);const L=1+c*.4;if(A=(A-128)*L+128,X=(X-128)*L+128,Q=(Q-128)*L+128,v>200){const J=(v-200)/55*c*80;A+=J,X+=J,Q+=J*1.1}g[r]=Math.max(0,Math.min(255,A)),g[r+1]=Math.max(0,Math.min(255,X)),g[r+2]=Math.max(0,Math.min(255,Q))}ve(y,S)}function Ih(y,c,C){const f=y.width,S=y.height,g=ge(y).data,r=new Uint8ClampedArray(g.length),h=C*Math.PI/180,u=Math.cos(h),d=Math.sin(h),v=Math.min(20,Math.max(2,Math.round(c))),M=v>10?2:1,A=6,X=[];for(let dt=-v;dt<=v;dt+=M)X.push([Math.round(dt*u),Math.round(dt*d)]);const Q=X.length,L=new Uint16Array(A),J=new Uint32Array(A),I=new Uint32Array(A),V=new Uint32Array(A),ft=A/766;for(let dt=0;dt<S;dt++)for(let rt=0;rt<f;rt++){L.fill(0),J.fill(0),I.fill(0),V.fill(0);for(let Et=0;Et<Q;Et++){const Bt=Math.max(0,Math.min(f-1,rt+X[Et][0])),Dt=(Math.max(0,Math.min(S-1,dt+X[Et][1]))*f+Bt)*4,Vt=Math.min(A-1,(g[Dt]+g[Dt+1]+g[Dt+2])*ft|0);L[Vt]++,J[Vt]+=g[Dt],I[Vt]+=g[Dt+1],V[Vt]+=g[Dt+2]}let st=0,bt=L[0];for(let Et=1;Et<A;Et++)L[Et]>bt&&(bt=L[Et],st=Et);const nt=(dt*f+rt)*4;bt>0?(r[nt]=J[st]/bt,r[nt+1]=I[st]/bt,r[nt+2]=V[st]/bt):(r[nt]=g[nt],r[nt+1]=g[nt+1],r[nt+2]=g[nt+2]),r[nt+3]=g[nt+3]}ve(y,new ImageData(r,f,S))}function Ph(y,c,C){if(c===0)return;const f=y.width,S=y.height,p=ge(y),g=new Uint8ClampedArray(p.data),r=p.data;switch(c){case 1:{for(let h=0;h<S;h++)for(let u=0;u<f;u++){const d=(h*f+u)*4,v=Math.sin(u*.8)*.5+.5,M=Math.sin(h*.8)*.5+.5,A=v*M*.3+.7,X=(g[d]+g[d+1]+g[d+2])/765,Q=1-(1-A)*C*(.3+X*.7);r[d]=Math.max(0,Math.min(255,g[d]*Q)),r[d+1]=Math.max(0,Math.min(255,g[d+1]*Q)),r[d+2]=Math.max(0,Math.min(255,g[d+2]*Q)),r[d+3]=g[d+3]}break}case 2:{const h=Math.round(3*C);for(let d=0;d<S;d++)for(let v=0;v<f;v++){const M=(d*f+v)*4,A=Math.max(0,Math.min(f-1,v+Math.round((Math.random()-.5)*h))),Q=(Math.max(0,Math.min(S-1,d+Math.round((Math.random()-.5)*h)))*f+A)*4;r[M]=g[Q],r[M+1]=g[Q+1],r[M+2]=g[Q+2],r[M+3]=g[M+3]}const u=new Uint8ClampedArray(r);for(let d=1;d<S-1;d++)for(let v=1;v<f-1;v++){const M=(d*f+v)*4;u[M]*.299+u[M+1]*.587+u[M+2]*.114;const A=u[(d*f+v-1)*4]*.299+u[(d*f+v-1)*4+1]*.587+u[(d*f+v-1)*4+2]*.114,X=u[(d*f+v+1)*4]*.299+u[(d*f+v+1)*4+1]*.587+u[(d*f+v+1)*4+2]*.114,Q=u[((d-1)*f+v)*4]*.299+u[((d-1)*f+v)*4+1]*.587+u[((d-1)*f+v)*4+2]*.114,L=u[((d+1)*f+v)*4]*.299+u[((d+1)*f+v)*4+1]*.587+u[((d+1)*f+v)*4+2]*.114,J=Math.abs(X-A),I=Math.abs(L-Q),ft=1-Math.min(1,(J+I)/200*C)*.5;r[M]=Math.max(0,r[M]*ft),r[M+1]=Math.max(0,r[M+1]*ft),r[M+2]=Math.max(0,r[M+2]*ft);const dt=(Math.random()-.5)*10*C;r[M]=Math.max(0,Math.min(255,r[M]+dt)),r[M+1]=Math.max(0,Math.min(255,r[M+1]+dt)),r[M+2]=Math.max(0,Math.min(255,r[M+2]+dt))}break}case 3:{for(let h=0;h<S;h++)for(let u=0;u<f;u++){const d=(h*f+u)*4,v=Math.sin((u+h)*.4)*.5+.5,M=Math.random()<.15*C?.6:1,A=(.7+v*.3)*M,X=(Math.random()-.5)*15*C;r[d]=Math.max(0,Math.min(255,g[d]*A+X)),r[d+1]=Math.max(0,Math.min(255,g[d+1]*A+X)),r[d+2]=Math.max(0,Math.min(255,g[d+2]*A+X)),r[d+3]=g[d+3]}break}case 4:{for(let h=1;h<S-1;h++)for(let u=1;u<f-1;u++){const d=(h*f+u)*4;for(let v=0;v<3;v++){const M=g[((h-1)*f+(u-1))*4+v],A=g[((h+1)*f+(u+1))*4+v],X=g[d+v]+(g[d+v]-M)*.5*C-(A-g[d+v])*.3*C;r[d+v]=Math.max(0,Math.min(255,X))}r[d+3]=g[d+3]}for(let h=0;h<f;h++){const u=h*4,d=((S-1)*f+h)*4;r[u]=g[u],r[u+1]=g[u+1],r[u+2]=g[u+2],r[u+3]=g[u+3],r[d]=g[d],r[d+1]=g[d+1],r[d+2]=g[d+2],r[d+3]=g[d+3]}for(let h=0;h<S;h++){const u=h*f*4,d=(h*f+f-1)*4;r[u]=g[u],r[u+1]=g[u+1],r[u+2]=g[u+2],r[u+3]=g[u+3],r[d]=g[d],r[d+1]=g[d+1],r[d+2]=g[d+2],r[d+3]=g[d+3]}break}case 5:{for(let h=0;h<S;h++)for(let u=0;u<f;u++){const d=(h*f+u)*4,M=1-(g[d]*.299+g[d+1]*.587+g[d+2]*.114)/255;let A=0;if(M>.2*(2-C)){const Q=h%4<1?1:0;A+=Q}if(M>.4*(2-C)){const Q=u%4<1?1:0;A+=Q}if(M>.6*(2-C)){const Q=(u+h)%5<1?1:0;A+=Q}if(M>.8*(2-C)){const Q=(u-h+500)%5<1?1:0;A+=Q}const X=A>0?0:255;r[d]=X,r[d+1]=X,r[d+2]=X,r[d+3]=g[d+3]}break}case 6:{for(let h=0;h<S;h++)for(let u=0;u<f;u++){const d=(h*f+u)*4,A=(1-(g[d]*.299+g[d+1]*.587+g[d+2]*.114)/255)*C*.8;Math.random()<A?(r[d]=0,r[d+1]=0,r[d+2]=0):(r[d]=255,r[d+1]=255,r[d+2]=255),r[d+3]=g[d+3]}break}}ve(y,p)}function t0(y,c){if(c===100)return;const C=ge(y),f=C.data,S=c/100;for(let p=0;p<f.length;p+=4){const g=f[p],r=f[p+1],h=f[p+2],u=.299*g+.587*r+.114*h;f[p]=Math.max(0,Math.min(255,u+(g-u)*S)),f[p+1]=Math.max(0,Math.min(255,u+(r-u)*S)),f[p+2]=Math.max(0,Math.min(255,u+(h-u)*S))}ve(y,C)}function e0(y,c,C){const f=y.width,S=y.height,p=ge(y),g=p.data,r=C/100;for(let h=0;h<S;h++)for(let u=0;u<f;u++){const d=(h*f+u)*4;let v=0;switch(c){case 0:v=u/f;break;case 1:v=1-u/f;break;case 2:v=h/S;break;case 3:v=1-h/S;break;case 4:{const A=(u/f-.5)*2,X=(h/S-.5)*2;v=Math.sqrt(A*A+X*X)/1.414;break}}const M=1-v*r;g[d+3]=Math.round(g[d+3]*Math.max(0,M))}ve(y,p)}function a0(y,c,C,f){if(c===0&&C===0&&f===0)return;const S=ge(y),p=S.data;for(let g=0;g<p.length;g+=4){let r=p[g],h=p[g+1],u=p[g+2];if(c!==0){const d=c*1.27;r=Math.max(0,Math.min(255,r+d)),h=Math.max(0,Math.min(255,h-d))}if(C!==0){const d=C*1.27;r=Math.max(0,Math.min(255,r+d*.5)),h=Math.max(0,Math.min(255,h+d*.5)),u=Math.max(0,Math.min(255,u-d))}if(f!==0){const d=f*1.27;r=Math.max(0,Math.min(255,r+d*.5)),h=Math.max(0,Math.min(255,h-d)),u=Math.max(0,Math.min(255,u+d*.5))}p[g]=r,p[g+1]=h,p[g+2]=u}ve(y,S)}function n0(y,c){if(c===0)return;const C=ge(y),f=C.data;for(let S=0;S<f.length;S+=4){const[p,g,r]=vc(f[S],f[S+1],f[S+2]),[h,u,d]=yc(p+c,g,r);f[S]=h,f[S+1]=u,f[S+2]=d}ve(y,C)}function l0(y,c,C,f,S){if(S<=0)return;const p=ge(y),g=p.data,r=255/(c-1),h=255/(C-1),u=255/(f-1),d=S,v=1-d;for(let M=0;M<g.length;M+=4){const A=Math.round(Math.round(g[M]/r)*r),X=Math.round(Math.round(g[M+1]/h)*h),Q=Math.round(Math.round(g[M+2]/u)*u);g[M]=Math.round(g[M]*v+A*d),g[M+1]=Math.round(g[M+1]*v+X*d),g[M+2]=Math.round(g[M+2]*v+Q*d)}ve(y,p)}function Fm(y,c,C){const f=$m(y,C);return(c.brightness!==0||c.contrast!==0)&&Oh(f,c.brightness,c.contrast),(c.hueShift!==0||c.saturation!==0||c.colorTempShift!==0)&&Zh(f,c.hueShift,c.saturation,c.colorTempShift),c.blurType>0&&c.blurRadius>0&&Hh(f,c.blurType,c.blurRadius,c.blurAngle),c.frostedGlass&&c.frostedGlassAmount>0&&Kh(f,c.frostedGlassAmount),c.noiseType>0&&c.noiseAmount>0&&_h(f,c.noiseType,c.noiseAmount,c.noiseDensity),c.posterize>0&&Bh(f,c.posterize),c.posterizeStyle>0&&Vh(f,c.posterizeStyle,c.posterizeColorShift),c.lineArt&&Gh(f,c.lineArtThreshold,c.lineArtBlend,c.lineArtColorBlend),c.findEdges&&qh(f,c.findEdgesStrength,c.findEdgesBlend),c.invert&&Uh(f),c.levels&&kh(f,c.levelsBlack,c.levelsWhite,c.levelsGamma,c.levelsMono),c.halftone&&Qh(f,c.halftoneSize,c.halftoneAngle,c.halftoneColorMode,c.halftoneColorBlend,c.halftoneBlendMode),c.strokeEnabled&&Jh(f,c.strokeColor,c.strokeWidth,c.strokeInner,c.strokeOuter),c.facetFilter>0&&Wh(f,c.facetFilter,c.facetSize),c.oilPaint&&$h(f,c.oilPaintRadius,c.oilPaintLevels),c.metalFilter&&Fh(f,c.metalIntensity),c.paletteKnife&&Ih(f,c.paletteKnifeLength,c.paletteKnifeDirection),c.textureFilter>0&&Ph(f,c.textureFilter,c.textureIntensity),c.colorSepEnabled&&c.colorSepMix>0&&l0(f,c.colorSepR,c.colorSepG,c.colorSepB,c.colorSepMix),c.gameFilter>0&&Lh(f,c.gameFilter,c.gameFilterIntensity),(c.channelShiftRG!==0||c.channelShiftYB!==0||c.channelShiftPC!==0)&&a0(f,c.channelShiftRG,c.channelShiftYB,c.channelShiftPC),c.gradientFade&&c.gradientFadeAmount>0&&e0(f,c.gradientFadeDirection,c.gradientFadeAmount),f}function Za(y,c,C,f,S,p){let g;return S?(g=Aa(S,c,C,f,p),g):(g=Fm(y,c,C),f&&f!==0&&n0(g,f),p!==void 0&&p!==100&&t0(g,p),g)}function Aa(y,c,C,f,S){let p=y.width,g=y.height;if(C&&(p>C||g>C)){const h=Math.min(C/p,C/g);p=Math.round(p*h),g=Math.round(g*h)}const r=document.createElement("canvas");return r.width=p,r.height=g,r.getContext("2d").drawImage(y,0,0,p,g),(c.brightness!==0||c.contrast!==0)&&Oh(r,c.brightness,c.contrast),(c.hueShift!==0||c.saturation!==0||c.colorTempShift!==0)&&Zh(r,c.hueShift,c.saturation,c.colorTempShift),c.blurType>0&&c.blurRadius>0&&Hh(r,c.blurType,c.blurRadius,c.blurAngle),c.frostedGlass&&c.frostedGlassAmount>0&&Kh(r,c.frostedGlassAmount),c.noiseType>0&&c.noiseAmount>0&&_h(r,c.noiseType,c.noiseAmount,c.noiseDensity),c.posterize>0&&Bh(r,c.posterize),c.posterizeStyle>0&&Vh(r,c.posterizeStyle,c.posterizeColorShift),c.lineArt&&Gh(r,c.lineArtThreshold,c.lineArtBlend,c.lineArtColorBlend),c.findEdges&&qh(r,c.findEdgesStrength,c.findEdgesBlend),c.invert&&Uh(r),c.levels&&kh(r,c.levelsBlack,c.levelsWhite,c.levelsGamma,c.levelsMono),c.halftone&&Qh(r,c.halftoneSize,c.halftoneAngle,c.halftoneColorMode,c.halftoneColorBlend,c.halftoneBlendMode),c.strokeEnabled&&Jh(r,c.strokeColor,c.strokeWidth,c.strokeInner,c.strokeOuter),c.facetFilter>0&&Wh(r,c.facetFilter,c.facetSize),c.oilPaint&&$h(r,c.oilPaintRadius,c.oilPaintLevels),c.metalFilter&&Fh(r,c.metalIntensity),c.paletteKnife&&Ih(r,c.paletteKnifeLength,c.paletteKnifeDirection),c.textureFilter>0&&Ph(r,c.textureFilter,c.textureIntensity),c.colorSepEnabled&&c.colorSepMix>0&&l0(r,c.colorSepR,c.colorSepG,c.colorSepB,c.colorSepMix),c.gameFilter>0&&Lh(r,c.gameFilter,c.gameFilterIntensity),(c.channelShiftRG!==0||c.channelShiftYB!==0||c.channelShiftPC!==0)&&a0(r,c.channelShiftRG,c.channelShiftYB,c.channelShiftPC),c.gradientFade&&c.gradientFadeAmount>0&&e0(r,c.gradientFadeDirection,c.gradientFadeAmount),f&&f!==0&&n0(r,f),S!==void 0&&S!==100&&t0(r,S),r}const Im=({layers:y,selectedLayerId:c,selectedLayerIds:C,showBorders:f,tool:S,brushSettings:p,viewport:g,onViewportChange:r,onLayerSelect:h,onLayerUpdate:u,onDrop:d,onBeforeStroke:v,onAfterStroke:M,onBoxSelect:A,onBackgroundTap:X,onLayerRetap:Q,onMagicWand:L,selection:J,onSelectionChange:I,penPoints:V,onPenPointAdd:ft})=>{const dt=_.useRef(null),rt=_.useRef(null),[st,bt]=_.useState({w:800,h:600}),nt=_.useRef(y);nt.current=y;const Et=_.useRef(c);Et.current=c;const Bt=_.useRef(C);Bt.current=C;const Gt=_.useRef(f);Gt.current=f;const Dt=_.useRef(g);Dt.current=g;const Vt=_.useRef(S);Vt.current=S;const Kt=_.useRef(p);Kt.current=p;const K=_.useRef(v);K.current=v;const Mt=_.useRef(M);Mt.current=M;const wt=_.useRef(A);wt.current=A;const Pt=_.useRef(X);Pt.current=X;const Wt=_.useRef(Q);Wt.current=Q;const N=_.useRef(L);N.current=L;const B=_.useRef(J);B.current=J;const ot=_.useRef(I);ot.current=I;const ct=_.useRef(V);ct.current=V;const Ct=_.useRef(ft);Ct.current=ft;const zt=_.useRef({active:!1,mode:"none",startSX:0,startSY:0,startPanX:0,startPanY:0,startLayerX:0,startLayerY:0,startLayerSX:1,startLayerSY:1,resizeCorner:-1,pinchStartDist:0,pinchStartZoom:1,pinchCenterX:0,pinchCenterY:0,pinchScaleLayerId:"",pinchScaleStartScale:1,pinchScaleLayerCX:0,pinchScaleLayerCY:0,pinchAnchorFracX:.5,pinchAnchorFracY:.5,drawLayerId:"",boxStartWX:0,boxStartWY:0,boxEndWX:0,boxEndWY:0,hasMoved:!1,tappedLayerId:"",isRetap:!1,selLayerId:"",selStartLocalX:0,selStartLocalY:0,selEndLocalX:0,selEndLocalY:0,lassoPath:[],penDragIdx:-1,penLongPressWX:0,penLongPressWY:0,rotateDrag:!1,rotateStartAngle:0,rotateLayerStartRot:0}),U=_.useRef(new Map),m=_.useRef(null),Xt=_.useRef(0),qt=_.useCallback((W,vt,j)=>({x:(W-j.panX)/j.zoom,y:(vt-j.panY)/j.zoom}),[]),Ye=_.useCallback((W,vt,j)=>{const gt=j.width*j.scaleX,H=j.height*j.scaleY,z=j.x+gt/2,$=j.y+H/2,et=Math.cos(-j.rotation),tt=Math.sin(-j.rotation),ht=W-z,St=vt-$;return{lx:ht*et-St*tt+gt/2,ly:ht*tt+St*et+H/2}},[]),Oe=_.useCallback((W,vt,j)=>{const gt=j.width*j.scaleX,H=j.height*j.scaleY,z=j.x+gt/2,$=j.y+H/2,et=Math.cos(-j.rotation),tt=Math.sin(-j.rotation),ht=W-z,St=vt-$,At=ht*et-St*tt,Zt=ht*tt+St*et;let Nt=At+gt/2,kt=Zt+H/2;j.flipH&&(Nt=gt-Nt),j.flipV&&(kt=H-kt);const Jt=Nt/j.scaleX,k=kt/j.scaleY;return{px:Jt,py:k}},[]),ua=_.useCallback((W,vt,j)=>{for(let gt=j.length-1;gt>=0;gt--){const H=j[gt];if(!H.visible||H.locked)continue;if(H.type==="drawing"){if(H.paintedBounds){const tt=H.paintedBounds,ht=(W-H.x)/Math.abs(H.scaleX),St=(vt-H.y)/Math.abs(H.scaleY);if(ht>=tt.minX&&ht<=tt.maxX&&St>=tt.minY&&St<=tt.maxY)return H.id}continue}const z=H.cropBounds;if(z){const tt=H.x+z.x*Math.abs(H.scaleX),ht=H.y+z.y*Math.abs(H.scaleY),St=z.w*Math.abs(H.scaleX),At=z.h*Math.abs(H.scaleY);if(H.rotation!==0){const{lx:Zt,ly:Nt}=Ye(W,vt,H),kt=z.x*Math.abs(H.scaleX),Jt=z.y*Math.abs(H.scaleY);if(Zt>=kt&&Zt<=kt+St&&Nt>=Jt&&Nt<=Jt+At)return H.id}else if(W>=tt&&W<=tt+St&&vt>=ht&&vt<=ht+At)return H.id;continue}const $=H.width*H.scaleX,et=H.height*H.scaleY;if(H.rotation!==0){const{lx:tt,ly:ht}=Ye(W,vt,H);if(tt>=0&&tt<=$&&ht>=0&&ht<=et)return H.id}else if(W>=H.x&&W<=H.x+$&&vt>=H.y&&vt<=H.y+et)return H.id}return null},[Ye]),Ae=_.useCallback((W,vt,j,gt)=>{if(j.type==="drawing")return-1;const H=18/gt,z=j.cropBounds;let $,et,tt,ht;z?($=z.x*Math.abs(j.scaleX),et=z.y*Math.abs(j.scaleY),tt=z.w*Math.abs(j.scaleX),ht=z.h*Math.abs(j.scaleY)):($=0,et=0,tt=j.width*Math.abs(j.scaleX),ht=j.height*Math.abs(j.scaleY));const{lx:St,ly:At}=Ye(W,vt,j),Zt=[{x:$,y:et},{x:$+tt,y:et},{x:$+tt,y:et+ht},{x:$,y:et+ht}];for(let Nt=0;Nt<Zt.length;Nt++)if(Math.abs(St-Zt[Nt].x)<H&&Math.abs(At-Zt[Nt].y)<H)return Nt;return-1},[Ye]),Ge=_.useCallback((W,vt,j,gt,H)=>{if(!H.visible||H.locked)return!1;const z=H.x,$=H.y;let et,tt;return H.type==="drawing"&&H.paintedBounds?(et=H.x+H.paintedBounds.maxX,tt=H.y+H.paintedBounds.maxY):(et=H.x+H.width*H.scaleX,tt=H.y+H.height*H.scaleY),!(W>et||j<z||vt>tt||gt<$)},[]),Ze=_.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=null)},[]);_.useEffect(()=>{let W=0,vt=0;const j=gt=>{const H=dt.current;if(!H){W=requestAnimationFrame(j);return}const z=H.getContext("2d");if(!z){W=requestAnimationFrame(j);return}gt-vt>100&&(Xt.current=(Xt.current+1)%20,vt=gt);const $=Dt.current,et=nt.current,tt=Bt.current,ht=Et.current,St=Gt.current;if(z.fillStyle="#151725",z.fillRect(0,0,H.width,H.height),z.save(),z.translate($.panX,$.panY),z.scale($.zoom,$.zoom),$.zoom>.08){const k=$.zoom>.4?50:200,_t=Math.floor(-$.panX/$.zoom/k)*k,le=Math.floor(-$.panY/$.zoom/k)*k,Rt=_t+H.width/$.zoom+k*2,$t=le+H.height/$.zoom+k*2;z.strokeStyle="rgba(255,255,255,0.025)",z.lineWidth=1/$.zoom,z.beginPath();for(let Se=_t;Se<=Rt;Se+=k)z.moveTo(Se,le),z.lineTo(Se,$t);for(let Se=le;Se<=$t;Se+=k)z.moveTo(_t,Se),z.lineTo(Rt,Se);z.stroke()}z.strokeStyle="rgba(79,124,255,0.15)",z.lineWidth=1/$.zoom,z.beginPath(),z.moveTo(-30,0),z.lineTo(30,0),z.moveTo(0,-30),z.lineTo(0,30),z.stroke();for(const k of et){if(!k.visible)continue;const _t=k.type==="drawing"?k.filteredCanvas||k.drawingCanvas:k.filteredCanvas;if(!_t)continue;z.save(),z.globalAlpha=k.opacity,k.blendMode&&k.blendMode!=="source-over"&&(z.globalCompositeOperation=k.blendMode);const le=k.x+k.width*k.scaleX/2,Rt=k.y+k.height*k.scaleY/2;z.translate(le,Rt),z.rotate(k.rotation),z.scale(k.scaleX*(k.flipH?-1:1),k.scaleY*(k.flipV?-1:1)),z.translate(-k.width/2,-k.height/2),z.drawImage(_t,0,0,k.width,k.height),z.restore()}const At=Vt.current;if(St&&!(At==="brush"||At==="eraser"))for(const k of et){if(!(tt.includes(k.id)||k.id===ht))continue;const le=k.id===ht;if(k.type==="drawing"){if(At!=="select")continue;if(k.paintedBounds){const Rt=k.paintedBounds,$t=(Rt.maxX-Rt.minX)*Math.abs(k.scaleX),Se=(Rt.maxY-Rt.minY)*Math.abs(k.scaleY),pe=k.x+k.width*k.scaleX/2,Te=k.y+k.height*k.scaleY/2;z.save(),z.translate(pe,Te),z.rotate(k.rotation),z.translate(-pe,-Te);const He=k.x+Rt.minX*Math.abs(k.scaleX),ba=k.y+Rt.minY*Math.abs(k.scaleY);k.outlineCanvas&&$t>0&&Se>0&&(z.globalAlpha=le?.85:.5,z.imageSmoothingEnabled=!1,z.drawImage(k.outlineCanvas,He,ba,$t,Se),z.globalAlpha=1),z.strokeStyle=le?"rgba(79, 124, 255, 0.5)":"rgba(79, 124, 255, 0.3)",z.lineWidth=1.5/$.zoom,z.setLineDash([6/$.zoom,4/$.zoom]),z.lineDashOffset=Xt.current/$.zoom,z.strokeRect(He,ba,$t,Se),z.setLineDash([]),z.lineDashOffset=0,z.restore()}}else{const Rt=k.cropBounds;let $t,Se,pe,Te;Rt?($t=k.x+Rt.x*k.scaleX,Se=k.y+Rt.y*k.scaleY,pe=Rt.w*k.scaleX,Te=Rt.h*k.scaleY):($t=k.x,Se=k.y,pe=k.width*k.scaleX,Te=k.height*k.scaleY);const He=$t+pe/2,ba=Se+Te/2;if(z.save(),z.translate(He,ba),z.rotate(k.rotation),z.strokeStyle=le?"#4f7cff":"#7c99ff",z.lineWidth=(le?2:1.5)/$.zoom,z.setLineDash([6/$.zoom,4/$.zoom]),z.lineDashOffset=Xt.current/$.zoom,z.strokeRect(-pe/2,-Te/2,pe,Te),z.setLineDash([]),z.lineDashOffset=0,le){const Da=10/$.zoom,qe=[{x:-pe/2,y:-Te/2},{x:pe/2,y:-Te/2},{x:pe/2,y:Te/2},{x:-pe/2,y:Te/2}];for(const Rl of qe)z.fillStyle="#ffffff",z.strokeStyle="#4f7cff",z.lineWidth=2/$.zoom,z.beginPath(),z.arc(Rl.x,Rl.y,Da/2,0,Math.PI*2),z.fill(),z.stroke();const Ie=pe/2+20/$.zoom,Ra=-Te/2-20/$.zoom,fl=12/$.zoom;z.fillStyle="#4f7cff",z.strokeStyle="#ffffff",z.lineWidth=2/$.zoom,z.beginPath(),z.arc(Ie,Ra,fl,0,Math.PI*2),z.fill(),z.stroke(),z.fillStyle="#ffffff",z.font=`bold ${Math.round(14/$.zoom)}px Arial`,z.textAlign="center",z.textBaseline="middle",z.fillText("↻",Ie,Ra)}z.restore()}}const Nt=B.current;if(Nt){const k=et.find(_t=>_t.id===Nt.layerId);if(k){z.save();const _t=k.x+k.width*k.scaleX/2,le=k.y+k.height*k.scaleY/2;if(z.translate(_t,le),z.rotate(k.rotation),z.scale(k.scaleX*(k.flipH?-1:1),k.scaleY*(k.flipV?-1:1)),z.translate(-k.width/2,-k.height/2),Nt.type==="rect"&&Nt.rect){const Rt=Nt.rect;z.fillStyle="rgba(79, 124, 255, 0.15)",z.fillRect(Rt.x,Rt.y,Rt.w,Rt.h),z.strokeStyle="rgba(79, 124, 255, 0.8)",z.lineWidth=2/($.zoom*k.scaleX),z.setLineDash([6/($.zoom*k.scaleX),4/($.zoom*k.scaleX)]),z.lineDashOffset=Xt.current/($.zoom*k.scaleX),z.strokeRect(Rt.x,Rt.y,Rt.w,Rt.h),z.setLineDash([]),z.lineDashOffset=0}else if(Nt.type==="lasso"&&Nt.path&&Nt.path.length>2){z.beginPath(),z.moveTo(Nt.path[0][0],Nt.path[0][1]);for(let Rt=1;Rt<Nt.path.length;Rt++)z.lineTo(Nt.path[Rt][0],Nt.path[Rt][1]);z.closePath(),z.fillStyle="rgba(79, 124, 255, 0.15)",z.fill(),z.strokeStyle="rgba(79, 124, 255, 0.8)",z.lineWidth=2/($.zoom*k.scaleX),z.setLineDash([6/($.zoom*k.scaleX),4/($.zoom*k.scaleX)]),z.lineDashOffset=Xt.current/($.zoom*k.scaleX),z.stroke(),z.setLineDash([]),z.lineDashOffset=0}else if(Nt.type==="wand"&&Nt.mask&&Nt.maskW&&Nt.maskH){const Rt=Nt.maskW,$t=Nt.maskH,Se=Nt.mask;z.fillStyle="rgba(79, 124, 255, 0.2)";const pe=Math.max(1,Math.floor(Math.min(Rt,$t)/200));for(let Te=0;Te<$t;Te+=pe)for(let He=0;He<Rt;He+=pe)Se[Te*Rt+He]&&z.fillRect(He,Te,pe,pe)}z.restore()}}const kt=zt.current;if(kt.mode==="rectSelect"){const k=et.find(_t=>_t.id===kt.selLayerId);if(k){z.save();const _t=k.x+k.width*k.scaleX/2,le=k.y+k.height*k.scaleY/2;z.translate(_t,le),z.rotate(k.rotation),z.scale(k.scaleX*(k.flipH?-1:1),k.scaleY*(k.flipV?-1:1)),z.translate(-k.width/2,-k.height/2);const Rt=Math.min(kt.selStartLocalX,kt.selEndLocalX),$t=Math.min(kt.selStartLocalY,kt.selEndLocalY),Se=Math.abs(kt.selEndLocalX-kt.selStartLocalX),pe=Math.abs(kt.selEndLocalY-kt.selStartLocalY);z.fillStyle="rgba(79, 124, 255, 0.15)",z.fillRect(Rt,$t,Se,pe),z.strokeStyle="rgba(79, 124, 255, 0.8)",z.lineWidth=2/($.zoom*k.scaleX),z.setLineDash([6/($.zoom*k.scaleX),4/($.zoom*k.scaleX)]),z.lineDashOffset=Xt.current/($.zoom*k.scaleX),z.strokeRect(Rt,$t,Se,pe),z.setLineDash([]),z.lineDashOffset=0,z.restore()}}else if(kt.mode==="lassoSelect"&&kt.lassoPath.length>1){const k=et.find(_t=>_t.id===kt.selLayerId);if(k){z.save();const _t=k.x+k.width*k.scaleX/2,le=k.y+k.height*k.scaleY/2;z.translate(_t,le),z.rotate(k.rotation),z.scale(k.scaleX*(k.flipH?-1:1),k.scaleY*(k.flipV?-1:1)),z.translate(-k.width/2,-k.height/2),z.beginPath(),z.moveTo(kt.lassoPath[0][0],kt.lassoPath[0][1]);for(let Rt=1;Rt<kt.lassoPath.length;Rt++)z.lineTo(kt.lassoPath[Rt][0],kt.lassoPath[Rt][1]);z.closePath(),z.fillStyle="rgba(79, 124, 255, 0.15)",z.fill(),z.strokeStyle="rgba(79, 124, 255, 0.8)",z.lineWidth=2/($.zoom*k.scaleX),z.stroke(),z.restore()}}if(kt.mode==="boxSelect"){const k=Math.min(kt.boxStartWX,kt.boxEndWX),_t=Math.min(kt.boxStartWY,kt.boxEndWY),le=Math.abs(kt.boxEndWX-kt.boxStartWX),Rt=Math.abs(kt.boxEndWY-kt.boxStartWY);le>0&&Rt>0&&(z.fillStyle="rgba(79, 124, 255, 0.08)",z.fillRect(k,_t,le,Rt),z.strokeStyle="rgba(79, 124, 255, 0.6)",z.lineWidth=1.5/$.zoom,z.setLineDash([8/$.zoom,4/$.zoom]),z.lineDashOffset=Xt.current/$.zoom,z.strokeRect(k,_t,le,Rt),z.setLineDash([]),z.lineDashOffset=0)}const Jt=ct.current;if(Jt&&Jt.length>0){z.strokeStyle="#4f7cff",z.lineWidth=2/$.zoom,z.setLineDash([6/$.zoom,4/$.zoom]),z.beginPath(),z.moveTo(Jt[0][0],Jt[0][1]);for(let _t=1;_t<Jt.length;_t++)z.lineTo(Jt[_t][0],Jt[_t][1]);z.stroke(),z.setLineDash([]);const k=6/$.zoom;for(let _t=0;_t<Jt.length;_t++){const le=zt.current.mode==="penDrag"&&zt.current.penDragIdx===_t;z.fillStyle=le?"#ff6b6b":"#ffffff",z.strokeStyle="#4f7cff",z.lineWidth=2/$.zoom,z.beginPath(),z.arc(Jt[_t][0],Jt[_t][1],k,0,Math.PI*2),z.fill(),z.stroke()}}z.restore(),W=requestAnimationFrame(j)};return W=requestAnimationFrame(j),()=>cancelAnimationFrame(W)},[]),_.useEffect(()=>{const W=rt.current;if(!W)return;const vt=new ResizeObserver(j=>{const{width:gt,height:H}=j[0].contentRect,z=window.devicePixelRatio||1;bt({w:Math.floor(gt*z),h:Math.floor(H*z)})});return vt.observe(W),()=>vt.disconnect()},[]),_.useEffect(()=>{const W=dt.current;if(!W)return;const vt=j=>{j.preventDefault();const gt=W.getBoundingClientRect(),H=window.devicePixelRatio||1,z=(j.clientX-gt.left)*H,$=(j.clientY-gt.top)*H,et=Dt.current,tt=j.deltaY>0?.92:1.08,ht=Math.max(.02,Math.min(30,et.zoom*tt)),St=qt(z,$,et);r({zoom:ht,panX:z-St.x*ht,panY:$-St.y*ht})};return W.addEventListener("wheel",vt,{passive:!1}),()=>W.removeEventListener("wheel",vt)},[r,qt]);const Ne=_.useCallback((W,vt)=>{const j=dt.current.getBoundingClientRect(),gt=window.devicePixelRatio||1;return{x:(W-j.left)*gt,y:(vt-j.top)*gt}},[]),$e=(W,vt)=>{const j=W.clientX-vt.clientX,gt=W.clientY-vt.clientY;return Math.sqrt(j*j+gt*gt)},oa=(W,vt)=>Ne((W.clientX+vt.clientX)/2,(W.clientY+vt.clientY)/2),Va=_.useCallback((W,vt)=>{const j=Dt.current,gt=qt(W,vt,j),H=zt.current;H.active=!0,H.startSX=W,H.startSY=vt,H.hasMoved=!1,H.tappedLayerId="";const z=Vt.current;if(z==="pan"){H.mode="pan",H.startPanX=j.panX,H.startPanY=j.panY;return}if(z==="rectSelect"||z==="lassoSelect"){const $=ua(gt.x,gt.y,nt.current),et=$||Et.current,tt=et?nt.current.find(ht=>ht.id===et):null;if(tt&&tt.type!=="drawing"&&!tt.locked){$&&h($),ot.current?.(null);const{px:ht,py:St}=Oe(gt.x,gt.y,tt);H.selLayerId=tt.id,H.selStartLocalX=ht,H.selStartLocalY=St,H.selEndLocalX=ht,H.selEndLocalY=St,z==="rectSelect"?H.mode="rectSelect":(H.mode="lassoSelect",H.lassoPath=[[ht,St]]);return}H.mode="pan",H.startPanX=j.panX,H.startPanY=j.panY;return}if(z==="select"){const $=nt.current.find(tt=>tt.id===Et.current);if($&&Gt.current&&$.type!=="drawing"){const tt=$.cropBounds;let ht,St,At,Zt;tt?(ht=$.x+tt.x*$.scaleX,St=$.y+tt.y*$.scaleY,At=tt.w*$.scaleX,Zt=tt.h*$.scaleY):(ht=$.x,St=$.y,At=$.width*$.scaleX,Zt=$.height*$.scaleY);const Nt=ht+At/2,kt=St+Zt/2,Jt=At/2+20/j.zoom,k=-Zt/2-20/j.zoom,_t=Math.cos($.rotation),le=Math.sin($.rotation),Rt=Nt+Jt*_t-k*le,$t=kt+Jt*le+k*_t;if(Math.sqrt((gt.x-Rt)**2+(gt.y-$t)**2)<20/j.zoom){H.mode="none",H.rotateDrag=!0,H.rotateStartAngle=Math.atan2(gt.y-kt,gt.x-Nt),H.rotateLayerStartRot=$.rotation,U.current.clear();for(const Te of Bt.current){const He=nt.current.find(ba=>ba.id===Te);He&&U.current.set(Te,{x:He.x,y:He.y,rotation:He.rotation,scaleX:He.scaleX,scaleY:He.scaleY})}return}const pe=Ae(gt.x,gt.y,$,j.zoom);if(pe>=0){H.mode="resize",H.resizeCorner=pe,H.startLayerX=$.x,H.startLayerY=$.y,H.startLayerSX=$.scaleX,H.startLayerSY=$.scaleY;return}}const et=ua(gt.x,gt.y,nt.current);if(et){H.tappedLayerId=et;const tt=Bt.current.includes(et),ht=et===Et.current;if(tt){H.isRetap=!0,H.mode="move";const St=nt.current.find(At=>At.id===et);H.startLayerX=St.x,H.startLayerY=St.y,U.current.clear();for(const At of Bt.current){const Zt=nt.current.find(Nt=>Nt.id===At);Zt&&U.current.set(At,{x:Zt.x,y:Zt.y,rotation:Zt.rotation,scaleX:Zt.scaleX,scaleY:Zt.scaleY})}}else if(ht){h(et),H.isRetap=!0,H.mode="move";const St=nt.current.find(At=>At.id===et);H.startLayerX=St.x,H.startLayerY=St.y,U.current.clear(),U.current.set(et,{x:St.x,y:St.y,rotation:St.rotation,scaleX:St.scaleX,scaleY:St.scaleY})}else{H.isRetap=!1,h(et),H.mode="move";const St=nt.current.find(At=>At.id===et);H.startLayerX=St.x,H.startLayerY=St.y,U.current.clear(),U.current.set(et,{x:St.x,y:St.y,rotation:St.rotation,scaleX:St.scaleX,scaleY:St.scaleY})}}else H.mode="longPressWait",H.startPanX=j.panX,H.startPanY=j.panY,H.boxStartWX=gt.x,H.boxStartWY=gt.y,H.boxEndWX=gt.x,H.boxEndWY=gt.y,Ze(),m.current=setTimeout(()=>{m.current=null;const tt=zt.current;tt.mode==="longPressWait"&&!tt.hasMoved&&(tt.mode="boxSelect")},400)}else if(z==="pen"){const $=ct.current||[],et=12/j.zoom;let tt=-1;for(let ht=0;ht<$.length;ht++){const St=gt.x-$[ht][0],At=gt.y-$[ht][1];if(Math.sqrt(St*St+At*At)<et){tt=ht;break}}tt>=0?(H.mode="penDrag",H.penDragIdx=tt):(H.mode="penLongPress",H.penLongPressWX=gt.x,H.penLongPressWY=gt.y,Ze(),m.current=setTimeout(()=>{m.current=null;const ht=zt.current;ht.mode==="penLongPress"&&(Ct.current?.([ht.penLongPressWX,ht.penLongPressWY]),ht.mode="penDrag",ht.penDragIdx=(ct.current?.length||1)-1)},300));return}else if(z==="magicWand"){const $=ua(gt.x,gt.y,nt.current);if($){const et=nt.current.find(tt=>tt.id===$);et&&et.type!=="drawing"&&!et.locked&&(h($),N.current?.($,gt.x,gt.y))}H.mode="none",H.active=!1;return}else if(z==="brush"||z==="eraser"){const $=nt.current.find(et=>et.id===Et.current&&et.type==="drawing");if($?.drawingCanvas){H.drawLayerId=$.id,K.current?.($.id),H.mode="draw";const et=$.drawingCanvas.getContext("2d"),tt=gt.x-$.x,ht=gt.y-$.y;et.save(),z==="eraser"?et.globalCompositeOperation="destination-out":(et.globalCompositeOperation="source-over",et.strokeStyle=Kt.current.color),et.globalAlpha=Kt.current.opacity,et.lineWidth=Kt.current.size,et.lineCap="round",et.lineJoin="round",et.beginPath(),et.moveTo(tt,ht),et.lineTo(tt+.1,ht+.1),et.stroke()}else H.mode="pan",H.startPanX=j.panX,H.startPanY=j.panY}},[qt,ua,Ae,h,Ze,Oe]),Dn=_.useCallback((W,vt)=>{const j=zt.current;if(!j.active&&!j.rotateDrag)return;const gt=Dt.current,H=W-j.startSX,z=vt-j.startSY,$=Math.sqrt(H*H+z*z);if(!j.hasMoved&&$>8&&(j.hasMoved=!0),j.rotateDrag){const et=qt(W,vt,gt),tt=nt.current.find(ht=>ht.id===Et.current);if(tt){const ht=tt.cropBounds;let St,At;if(ht){const k=tt.x+ht.x*tt.scaleX,_t=tt.y+ht.y*tt.scaleY,le=ht.w*tt.scaleX,Rt=ht.h*tt.scaleY;St=k+le/2,At=_t+Rt/2}else{const k=tt.width*tt.scaleX,_t=tt.height*tt.scaleY;St=tt.x+k/2,At=tt.y+_t/2}const Nt=Math.atan2(et.y-At,et.x-St)-j.rotateStartAngle,kt=j.rotateLayerStartRot+Nt;u(tt.id,{rotation:kt});const Jt=Bt.current;if(Jt.length>1){for(const k of Jt)if(k!==tt.id){const _t=U.current.get(k);_t&&"rotation"in _t&&u(k,{rotation:_t.rotation+Nt})}}}return}if(j.mode==="penLongPress"){if(j.hasMoved)Ze(),j.mode="pan",j.startPanX=gt.panX,j.startPanY=gt.panY,j.startSX=W,j.startSY=vt;else{const et=qt(W,vt,gt);j.penLongPressWX=et.x,j.penLongPressWY=et.y}return}if(j.mode==="penDrag"){const et=qt(W,vt,gt),tt=ct.current;tt&&j.penDragIdx>=0&&j.penDragIdx<tt.length&&(tt[j.penDragIdx]=[et.x,et.y]);return}if(j.mode==="longPressWait"){j.hasMoved&&(Ze(),j.mode="pan",j.startPanX=gt.panX,j.startPanY=gt.panY,j.startSX=W,j.startSY=vt);return}if(j.mode==="boxSelect"){const et=qt(W,vt,gt);j.boxEndWX=et.x,j.boxEndWY=et.y;return}if(j.mode==="rectSelect"){const et=qt(W,vt,gt),tt=nt.current.find(ht=>ht.id===j.selLayerId);if(tt){const{px:ht,py:St}=Oe(et.x,et.y,tt);j.selEndLocalX=ht,j.selEndLocalY=St}return}if(j.mode==="lassoSelect"){const et=qt(W,vt,gt),tt=nt.current.find(ht=>ht.id===j.selLayerId);if(tt){const{px:ht,py:St}=Oe(et.x,et.y,tt),At=j.lassoPath[j.lassoPath.length-1];Math.sqrt((ht-At[0])**2+(St-At[1])**2)>2&&j.lassoPath.push([ht,St])}return}if(j.mode==="pan")r({...gt,panX:j.startPanX+H,panY:j.startPanY+z});else if(j.mode==="move"){const et=H/gt.zoom,tt=z/gt.zoom;for(const[ht,St]of U.current){const At=nt.current.find(Zt=>Zt.id===ht);if(At&&(Math.abs(At.scaleX)!==1||Math.abs(At.scaleY)!==1)){const Zt=et,Nt=tt;u(ht,{x:St.x+Zt,y:St.y+Nt})}else u(ht,{x:St.x+et,y:St.y+tt})}}else if(j.mode==="resize"&&Et.current){const et=nt.current.find(le=>le.id===Et.current);if(!et)return;const tt=H/gt.zoom,ht=z/gt.zoom,St=j.resizeCorner,At=et.cropBounds,Zt=At?At.w:et.width,Nt=At?At.h:et.height;let kt=j.startLayerSX,Jt=j.startLayerSY,k=j.startLayerX,_t=j.startLayerY;St===2?(kt=Math.max(.02,j.startLayerSX+tt/Zt),Jt=Math.max(.02,j.startLayerSY+ht/Nt)):St===0?(kt=Math.max(.02,j.startLayerSX-tt/Zt),Jt=Math.max(.02,j.startLayerSY-ht/Nt),k=j.startLayerX+tt,_t=j.startLayerY+ht):St===1?(kt=Math.max(.02,j.startLayerSX+tt/Zt),Jt=Math.max(.02,j.startLayerSY-ht/Nt),_t=j.startLayerY+ht):St===3&&(kt=Math.max(.02,j.startLayerSX-tt/Zt),Jt=Math.max(.02,j.startLayerSY+ht/Nt),k=j.startLayerX+tt),u(Et.current,{scaleX:kt,scaleY:Jt,x:k,y:_t})}else if(j.mode==="draw"){const et=nt.current.find(tt=>tt.id===Et.current&&tt.type==="drawing");if(et?.drawingCanvas){const tt=qt(W,vt,gt),ht=tt.x-et.x,St=tt.y-et.y,At=et.drawingCanvas.getContext("2d");At.lineTo(ht,St),At.stroke(),At.beginPath(),At.moveTo(ht,St)}}},[r,u,qt,Ze,Oe]),Na=_.useCallback(()=>{const W=zt.current;if(Ze(),W.rotateDrag){W.rotateDrag=!1;return}if(W.mode==="boxSelect"){const vt=Math.min(W.boxStartWX,W.boxEndWX),j=Math.min(W.boxStartWY,W.boxEndWY),gt=Math.max(W.boxStartWX,W.boxEndWX),H=Math.max(W.boxStartWY,W.boxEndWY);if(gt-vt>5&&H-j>5){const z=nt.current.filter($=>Ge(vt,j,gt,H,$)).map($=>$.id);wt.current(z)}}else if(W.mode==="rectSelect"){const vt=Math.min(W.selStartLocalX,W.selEndLocalX),j=Math.min(W.selStartLocalY,W.selEndLocalY),gt=Math.abs(W.selEndLocalX-W.selStartLocalX),H=Math.abs(W.selEndLocalY-W.selStartLocalY);gt>2&&H>2&&ot.current?.({layerId:W.selLayerId,type:"rect",rect:{x:Math.round(vt),y:Math.round(j),w:Math.round(gt),h:Math.round(H)}})}else if(W.mode==="lassoSelect")W.lassoPath.length>3&&ot.current?.({layerId:W.selLayerId,type:"lasso",path:[...W.lassoPath]});else if(W.mode==="longPressWait"&&!W.hasMoved)Pt.current();else if(W.mode==="move"&&!W.hasMoved&&W.tappedLayerId)W.isRetap&&Wt.current();else if(W.mode==="draw"){const vt=nt.current.find(j=>j.id===Et.current&&j.type==="drawing");vt?.drawingCanvas&&vt.drawingCanvas.getContext("2d").restore(),W.drawLayerId&&(Mt.current?.(W.drawLayerId),W.drawLayerId="")}W.mode==="penLongPress"&&(Ze(),Ct.current?.([W.penLongPressWX,W.penLongPressWY])),W.active=!1,W.mode="none",W.tappedLayerId="",W.lassoPath=[],W.penDragIdx=-1},[Ze,Ge]),xi=W=>{if(W.button===1){const j=Ne(W.clientX,W.clientY),gt=zt.current;gt.active=!0,gt.mode="pan",gt.startSX=j.x,gt.startSY=j.y,gt.startPanX=Dt.current.panX,gt.startPanY=Dt.current.panY,gt.hasMoved=!1,gt.tappedLayerId="";return}const vt=Ne(W.clientX,W.clientY);Va(vt.x,vt.y)},Fe=W=>{const vt=Ne(W.clientX,W.clientY);Dn(vt.x,vt.y)},Dl=()=>Na(),Ka=W=>{W.preventDefault();const vt=W.touches;if(vt.length===2){Na(),Ze();const j=zt.current;j.active=!0,j.hasMoved=!1,j.tappedLayerId="",j.pinchStartDist=$e(vt[0],vt[1]);const gt=Vt.current,H=Et.current,z=H?nt.current.find($=>$.id===H):null;if(gt==="select"&&z&&!z.locked&&z.visible){const $=oa(vt[0],vt[1]),et=Dt.current,tt=qt($.x,$.y,et),ht=(tt.x-z.x)/(z.width*z.scaleX),St=(tt.y-z.y)/(z.height*z.scaleY);if(ht>=0&&ht<=1&&St>=0&&St<=1){j.mode="pinchScale",j.pinchScaleLayerId=z.id,j.pinchScaleStartScale=(z.scaleX+z.scaleY)/2,j.startLayerSX=z.scaleX,j.startLayerSY=z.scaleY,j.pinchAnchorFracX=ht,j.pinchAnchorFracY=St,j.pinchScaleLayerCX=tt.x,j.pinchScaleLayerCY=tt.y,U.current.clear();for(const At of Bt.current){const Zt=nt.current.find(Nt=>Nt.id===At);Zt&&U.current.set(At,{x:Zt.x,y:Zt.y,rotation:Zt.rotation,scaleX:Zt.scaleX,scaleY:Zt.scaleY})}}else{j.mode="pinch",j.pinchStartZoom=et.zoom;const At=oa(vt[0],vt[1]);j.pinchCenterX=At.x,j.pinchCenterY=At.y,j.startPanX=et.panX,j.startPanY=et.panY}}else{j.mode="pinch",j.pinchStartZoom=Dt.current.zoom;const $=oa(vt[0],vt[1]);j.pinchCenterX=$.x,j.pinchCenterY=$.y,j.startPanX=Dt.current.panX,j.startPanY=Dt.current.panY}return}if(vt.length===1){const j=Ne(vt[0].clientX,vt[0].clientY);Va(j.x,j.y)}},tn=W=>{W.preventDefault();const vt=W.touches;if(vt.length===2){const j=zt.current;if(j.mode==="pinchScale"){const H=$e(vt[0],vt[1])/j.pinchStartDist,$=Math.max(.02,j.pinchScaleStartScale*H)/j.pinchScaleStartScale,et=j.startLayerSX*$,tt=j.startLayerSY*$,ht=nt.current.find(St=>St.id===j.pinchScaleLayerId);if(ht){const St=j.pinchScaleLayerCX-j.pinchAnchorFracX*ht.width*et,At=j.pinchScaleLayerCY-j.pinchAnchorFracY*ht.height*tt;u(j.pinchScaleLayerId,{scaleX:et,scaleY:tt,x:St,y:At});const Zt=Bt.current;if(Zt.length>1){for(const Nt of Zt)if(Nt!==j.pinchScaleLayerId){const kt=U.current.get(Nt);if(kt&&"scaleX"in kt){const Jt=kt;u(Nt,{scaleX:Jt.scaleX*$,scaleY:Jt.scaleY*$})}}}}return}if(j.mode==="pinch"){const H=$e(vt[0],vt[1])/j.pinchStartDist,z=Math.max(.02,Math.min(30,j.pinchStartZoom*H)),$=oa(vt[0],vt[1]),et=$.x-j.pinchCenterX,tt=$.y-j.pinchCenterY,ht=qt(j.pinchCenterX,j.pinchCenterY,{panX:j.startPanX,panY:j.startPanY,zoom:j.pinchStartZoom});r({zoom:z,panX:j.pinchCenterX-ht.x*z+et,panY:j.pinchCenterY-ht.y*z+tt});return}}if(vt.length===1&&zt.current.mode!=="pinch"&&zt.current.mode!=="pinchScale"){const j=Ne(vt[0].clientX,vt[0].clientY);Dn(j.x,j.y)}},ra=W=>{if(W.preventDefault(),W.touches.length===0)Na();else if(W.touches.length===1&&(zt.current.mode==="pinch"||zt.current.mode==="pinchScale")){Na();const vt=Ne(W.touches[0].clientX,W.touches[0].clientY),j=zt.current;j.active=!0,j.mode="pan",j.hasMoved=!1,j.tappedLayerId="",j.startSX=vt.x,j.startSY=vt.y,j.startPanX=Dt.current.panX,j.startPanY=Dt.current.panY}},rn=W=>{W.preventDefault(),W.dataTransfer.dropEffect="copy"},de=W=>{W.preventDefault();const vt=W.dataTransfer.files;if(vt.length>0){const j=Ne(W.clientX,W.clientY),gt=Dt.current,H=qt(j.x,j.y,gt);d(vt,H.x,H.y)}},Ja=typeof window<"u"&&window.devicePixelRatio||1;return s.jsxs("div",{ref:rt,className:"flex-1 relative overflow-hidden",style:{touchAction:"none"},onDragOver:rn,onDrop:de,children:[s.jsx("canvas",{ref:dt,width:st.w,height:st.h,style:{width:st.w/Ja,height:st.h/Ja,touchAction:"none"},className:"absolute inset-0",onMouseDown:xi,onMouseMove:Fe,onMouseUp:Dl,onMouseLeave:Dl,onTouchStart:Ka,onTouchMove:tn,onTouchEnd:ra,onTouchCancel:ra,onContextMenu:W=>W.preventDefault()}),y.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"text-center space-y-3 opacity-40 px-6",children:[s.jsx("div",{className:"text-5xl",children:"🎨"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Drop images here or tap Import"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Long-press background to box-select · Tap 🖌 to draw"})]})})]})},Yu=[.05,.1,.15,.2,.25,.33,.4,.5,.6,.67,.75,.8,.9,1,1.25,1.5,1.75,2,2.5,3,4,5];function Pm(y){let c=Yu[0],C=Math.abs(y-c);for(let f=1;f<Yu.length;f++){const S=Math.abs(y-Yu[f]);S<C&&(c=Yu[f],C=S)}return c}const Xu=Xh.memo(({label:y,value:c,min:C,max:f,step:S=1,onChange:p,displayFn:g})=>{const[r,h]=_.useState(c),u=_.useRef(!1),d=_.useRef(0),v=_.useRef(p);v.current=p,_.useEffect(()=>{u.current||h(c)},[c]);const M=_.useCallback(X=>{const Q=Number(X.target.value);h(Q),u.current=!0,cancelAnimationFrame(d.current),d.current=requestAnimationFrame(()=>{v.current(Q)})},[]),A=_.useCallback(()=>{u.current=!1},[]);return s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("div",{className:"flex justify-between text-[11px]",children:[s.jsx("span",{className:"text-gray-400",children:y}),s.jsx("span",{className:"text-gray-500 tabular-nums",children:g?g(r):`${r}`})]}),s.jsx("input",{type:"range",min:C,max:f,step:S,value:r,onChange:M,onMouseUp:A,onTouchEnd:A,onPointerUp:A,style:{touchAction:"none"}})]})}),ae=Xh.memo(({label:y,value:c,min:C,max:f,step:S=1,onChange:p,onChangeEnd:g,displayFn:r})=>{const[h,u]=_.useState(c),d=_.useRef(!1),v=_.useRef(0),M=_.useRef(h);M.current=h;const A=_.useRef(p);A.current=p;const X=_.useRef(g);X.current=g,_.useEffect(()=>{d.current||u(c)},[c]);const Q=_.useCallback(J=>{const I=Number(J.target.value);u(I),d.current=!0,cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{A.current(I)})},[]),L=_.useCallback(()=>{d.current=!1,cancelAnimationFrame(v.current),X.current?.(M.current)},[]);return s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("div",{className:"flex justify-between text-[11px]",children:[s.jsx("span",{className:"text-gray-400",children:y}),s.jsx("span",{className:"text-gray-500 tabular-nums",children:r?r(h):`${h}`})]}),s.jsx("input",{type:"range",min:C,max:f,step:S,value:h,onChange:Q,onMouseUp:L,onTouchEnd:L,onPointerUp:L,style:{touchAction:"none"}})]})}),wa=({label:y,icon:c,checked:C,onToggle:f})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[12px] text-gray-300 font-medium",children:[c," ",y]}),s.jsx("button",{onClick:f,className:`w-11 h-6 rounded-full transition-colors relative ${C?"bg-[#4f7cff]":"bg-[#2a2d45]"}`,children:s.jsx("div",{className:`w-4.5 h-4.5 bg-white rounded-full absolute top-[3px] transition-transform ${C?"translate-x-[22px]":"translate-x-[3px]"}`})})]}),tg=({layers:y,selectedLayer:c,selectedLayerId:C,selectedLayerIds:f,onLayerSelect:S,onLayerUpdate:p,onLayerDuplicate:g,onLayerReorder:r,onFlipLayer:h,onUpdateFilters:u,onExport:d,onExportSingle:v,onUndo:M,onRedo:A,undoCount:X,redoCount:Q,panelWidth:L,collapsed:J,onReRenderText:I,onReRenderShape:V,onBoolean:ft,onGroupSelected:dt,onUngroupSelected:rt,onExportGroup:st,onClearAll:bt,onMultiUpdateFilters:nt,onToggleWarpMesh:Et,onResetWarpMesh:Bt})=>{const[Gt,Dt]=_.useState("layers"),[Vt,Kt]=_.useState(!0),[K,Mt]=_.useState(220),wt=_.useRef(null),Pt=_.useRef(!1),Wt=_.useRef({active:!1,startY:0,startH:0});if(_.useEffect(()=>{wt.current&&!Pt.current&&(wt.current.style.maxHeight=K+"px")},[K,Vt]),J)return null;const N=c?Pm((c.scaleX+c.scaleY)/2):1,B=Math.round(N*100),ot=c?Math.round((c.scaleX+c.scaleY)/2*100):100,ct=B===ot,Ct=f.length,zt=U=>{U.preventDefault(),U.stopPropagation();const m="touches"in U?U.touches[0].clientY:U.clientY,Xt=wt.current?.offsetHeight??K;Wt.current={active:!0,startY:m,startH:Xt},Pt.current=!0;let qt=m,Ye=!1;const Oe=()=>{if(Ye=!1,!Pt.current)return;const Ge=qt-Wt.current.startY,Ze=Math.max(60,Math.min(500,Wt.current.startH+Ge));wt.current&&(wt.current.style.maxHeight=Ze+"px")},ua=Ge=>{Ge.preventDefault(),Ge.stopPropagation(),"touches"in Ge?qt=Ge.touches[0].clientY:qt=Ge.clientY,Ye||(Ye=!0,requestAnimationFrame(Oe))},Ae=Ge=>{Ge.preventDefault(),Ge.stopPropagation(),Wt.current.active=!1,Pt.current=!1,wt.current&&Mt(wt.current.offsetHeight),document.removeEventListener("touchmove",ua),document.removeEventListener("mousemove",ua),document.removeEventListener("touchend",Ae),document.removeEventListener("touchcancel",Ae),document.removeEventListener("mouseup",Ae)};document.addEventListener("touchmove",ua,{passive:!1}),document.addEventListener("mousemove",ua),document.addEventListener("touchend",Ae,{passive:!1}),document.addEventListener("touchcancel",Ae,{passive:!1}),document.addEventListener("mouseup",Ae)};return s.jsxs("div",{className:"bg-[#1a1c2e] border-l border-[#2a2d45] flex flex-col shrink-0 overflow-hidden",style:{width:L,maxWidth:"85vw"},onTouchStart:U=>U.stopPropagation(),onTouchMove:U=>U.stopPropagation(),onTouchEnd:U=>U.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center border-b border-[#2a2d45] shrink-0",children:[s.jsxs("button",{onClick:()=>Dt("layers"),className:`flex-1 py-3 text-xs font-medium transition-colors ${Gt==="layers"?"text-[#4f7cff] border-b-2 border-[#4f7cff]":"text-gray-400 active:text-gray-200"}`,children:["Layers ",Ct>1?`(${Ct})`:""]}),s.jsx("button",{onClick:()=>Dt("filters"),className:`flex-1 py-3 text-xs font-medium transition-colors ${Gt==="filters"?"text-[#4f7cff] border-b-2 border-[#4f7cff]":"text-gray-400 active:text-gray-200"}`,children:"Filters"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:[Gt==="layers"&&s.jsxs("div",{className:"p-2 space-y-1",children:[Ct>1&&s.jsxs("div",{className:"bg-[#4f7cff]/15 border border-[#4f7cff]/30 rounded-lg px-3 py-2 mb-2",children:[s.jsxs("div",{className:"text-[12px] text-[#4f7cff] font-medium",children:["✦ ",Ct," layers selected"]}),s.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:"Drag to move all · Use 🗑 in toolbar to delete"})]}),s.jsx("button",{onClick:()=>Kt(U=>!U),className:"w-full flex items-center justify-between px-2 py-2 text-[12px] font-medium text-gray-300 active:bg-[#252840] rounded-lg transition-colors",children:s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-sm",children:Vt?"▼":"▶"}),"Layers (",y.length,")"]})}),Vt&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:wt,className:"overflow-y-auto overscroll-contain space-y-1 pr-0.5",style:{minHeight:60},children:[[...y].reverse().map(U=>{const m=f.includes(U.id),Xt=C===U.id;return s.jsxs("div",{onClick:()=>S(U.id),className:`flex items-center gap-2 p-2.5 rounded-lg cursor-pointer transition-all active:scale-[0.98] ${Xt?"bg-[#4f7cff]/20 ring-1 ring-[#4f7cff]/40":m?"bg-[#4f7cff]/10 ring-1 ring-[#4f7cff]/20":"active:bg-[#252840]"}`,children:[s.jsx("button",{onClick:qt=>{qt.stopPropagation(),p(U.id,{visible:!U.visible})},className:`text-sm w-7 h-7 flex items-center justify-center rounded transition-colors ${U.visible?"text-[#4f7cff]":"text-gray-600"}`,children:U.visible?"👁":"−"}),s.jsx("div",{className:"w-9 h-9 rounded bg-[#252840] flex-shrink-0 overflow-hidden border border-[#2a2d45]",children:(U.type==="image"||U.type==="text"||U.type==="shape")&&U.thumbUrl?s.jsx("img",{src:U.thumbUrl,alt:"",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-[10px] text-gray-500",children:"✏️"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"text-[12px] text-gray-300 truncate flex items-center gap-1",children:[U.groupId&&s.jsx("span",{className:"text-[9px] bg-purple-900/40 text-purple-300 px-1 rounded",children:"📦"}),U.name]}),s.jsxs("div",{className:"text-[10px] text-gray-500",children:[U.type==="image"?"Image":U.type==="text"?"Text":U.type==="shape"?"Shape":"Drawing"," · ",Math.round(U.opacity*100),"%"]})]}),s.jsx("button",{onClick:qt=>{qt.stopPropagation(),p(U.id,{locked:!U.locked})},className:`text-[11px] w-7 h-7 flex items-center justify-center transition-colors ${U.locked?"text-yellow-500":"text-gray-600"}`,children:U.locked?"🔒":"🔓"})]},U.id)}),y.length===0&&s.jsx("div",{className:"text-center text-gray-500 text-xs py-6",children:"No layers yet"})]}),s.jsx("div",{className:"flex justify-center py-1 cursor-row-resize select-none active:bg-[#252840] rounded transition-colors",onTouchStart:zt,onMouseDown:zt,style:{touchAction:"none"},children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-6 h-1 rounded-full bg-[#3a3d55]"}),s.jsx("div",{className:"w-6 h-1 rounded-full bg-[#3a3d55]"})]})})]}),c&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-[#2a2d45] space-y-3 px-1",children:[c.type==="drawing"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:M,disabled:X===0,className:`flex-1 py-2.5 text-[12px] rounded-lg transition-colors active:scale-95 flex items-center justify-center gap-1.5 ${X>0?"bg-[#252840] text-gray-300 active:bg-[#4f7cff]":"bg-[#1e2035] text-gray-600 cursor-not-allowed"}`,children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 7v6h6"}),s.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),X>0?`(${X})`:""]}),s.jsxs("button",{onClick:A,disabled:Q===0,className:`flex-1 py-2.5 text-[12px] rounded-lg transition-colors active:scale-95 flex items-center justify-center gap-1.5 ${Q>0?"bg-[#252840] text-gray-300 active:bg-[#4f7cff]":"bg-[#1e2035] text-gray-600 cursor-not-allowed"}`,children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 7v6h-6"}),s.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3L21 13"})]}),Q>0?`(${Q})`:""]})]}),s.jsx(Xu,{label:Ct>1?`Opacity (${Ct} layers)`:"Opacity",value:Math.round(c.opacity*100),min:0,max:100,onChange:U=>{if(f.length>1)for(const m of f)p(m,{opacity:U/100});else p(c.id,{opacity:U/100})},displayFn:U=>`${U}%`}),s.jsx(Xu,{label:Ct>1?`🎨 Saturation (${Ct})`:"🎨 Saturation",value:c.layerSaturation??100,min:0,max:200,onChange:U=>{if(f.length>1)for(const m of f)p(m,{layerSaturation:U});else p(c.id,{layerSaturation:U})},displayFn:U=>U===100?"100% (Normal)":`${U}%`}),c.type==="text"&&s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"✏️ Text Properties"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Content"}),s.jsx("textarea",{value:c.text||"",onChange:U=>I?.(c.id,{text:U.target.value}),className:"w-full bg-[#1a1c2e] border border-[#2a2d45] rounded-lg px-2 py-2 text-[12px] text-gray-200 focus:outline-none focus:border-[#4f7cff] resize-none h-14"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[11px] mb-0.5",children:[s.jsx("span",{className:"text-gray-400",children:"Font Size"}),s.jsxs("span",{className:"text-gray-500",children:[c.fontSize||64,"px"]})]}),s.jsx("input",{type:"range",min:"12",max:"200",value:c.fontSize||64,onChange:U=>I?.(c.id,{fontSize:+U.target.value}),style:{touchAction:"none"}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Font"}),s.jsx("select",{value:c.fontFamily||"Arial",onChange:U=>I?.(c.id,{fontFamily:U.target.value}),className:"w-full bg-[#1a1c2e] border border-[#2a2d45] rounded-lg px-2 py-2 text-[12px] text-gray-300 focus:outline-none focus:border-[#4f7cff]",children:["Arial","Georgia","Courier New","Verdana","Impact","Comic Sans MS","Times New Roman","Trebuchet MS"].map(U=>s.jsx("option",{value:U,children:U},U))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Color"}),s.jsx("input",{type:"color",value:c.textColor||"#ffffff",onChange:U=>I?.(c.id,{textColor:U.target.value}),className:"w-full h-8 rounded-lg cursor-pointer border border-[#2a2d45] bg-transparent"})]})]}),c.type==="shape"&&s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"⬟ Shape Properties"}),s.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:[{id:"circle",icon:"●"},{id:"square",icon:"■"},{id:"triangle",icon:"▲"},{id:"star",icon:"★"},{id:"heart",icon:"♥"},{id:"diamond",icon:"◆"},{id:"arrow",icon:"⬆"},{id:"hexagon",icon:"⬡"}].map(U=>s.jsx("button",{onClick:()=>V?.(c.id,{shapeType:U.id}),className:`py-2 text-lg rounded-lg transition-all active:scale-95 ${c.shapeType===U.id?"bg-[#4f7cff] text-white":"bg-[#1a1c2e] text-gray-400"}`,children:U.icon},U.id))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>V?.(c.id,{shapeFill:!0}),className:`flex-1 py-2 text-[11px] rounded-lg ${c.shapeFill!==!1?"bg-[#4f7cff] text-white":"bg-[#1a1c2e] text-gray-400"}`,children:"Fill"}),s.jsx("button",{onClick:()=>V?.(c.id,{shapeFill:!1}),className:`flex-1 py-2 text-[11px] rounded-lg ${c.shapeFill===!1?"bg-[#4f7cff] text-white":"bg-[#1a1c2e] text-gray-400"}`,children:"Stroke"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Color"}),s.jsx("input",{type:"color",value:c.shapeColor||"#4f7cff",onChange:U=>V?.(c.id,{shapeColor:U.target.value}),className:"w-full h-8 rounded-lg cursor-pointer border border-[#2a2d45] bg-transparent"})]})]}),ft&&f.length>=2&&s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🔲 Boolean Operations"}),s.jsxs("div",{className:"grid grid-cols-4 gap-1.5",children:[s.jsx("button",{onClick:()=>ft("union"),className:"py-2.5 text-[10px] rounded-lg bg-[#1a1c2e] text-gray-300 active:bg-[#4f7cff] active:text-white transition-all active:scale-95",children:"∪ Union"}),s.jsx("button",{onClick:()=>ft("subtract"),className:"py-2.5 text-[10px] rounded-lg bg-[#1a1c2e] text-gray-300 active:bg-[#4f7cff] active:text-white transition-all active:scale-95",children:"− Sub"}),s.jsx("button",{onClick:()=>ft("intersect"),className:"py-2.5 text-[10px] rounded-lg bg-[#1a1c2e] text-gray-300 active:bg-[#4f7cff] active:text-white transition-all active:scale-95",children:"∩ Inter"}),s.jsx("button",{onClick:()=>ft("exclude"),className:"py-2.5 text-[10px] rounded-lg bg-[#1a1c2e] text-gray-300 active:bg-[#4f7cff] active:text-white transition-all active:scale-95",children:"⊕ Excl"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-[11px] text-gray-400",children:"Blend Mode"}),s.jsxs("select",{value:c.blendMode||"source-over",onChange:U=>p(c.id,{blendMode:U.target.value}),className:"w-full bg-[#252840] border border-[#2a2d45] rounded-lg px-2 py-2 text-[12px] text-gray-300 focus:outline-none focus:border-[#4f7cff] appearance-none cursor-pointer",children:[s.jsx("option",{value:"source-over",children:"Normal"}),s.jsx("option",{value:"multiply",children:"Multiply"}),s.jsx("option",{value:"screen",children:"Screen"}),s.jsx("option",{value:"overlay",children:"Overlay"}),s.jsx("option",{value:"darken",children:"Darken"}),s.jsx("option",{value:"lighten",children:"Lighten"}),s.jsx("option",{value:"color-dodge",children:"Color Dodge"}),s.jsx("option",{value:"color-burn",children:"Color Burn"}),s.jsx("option",{value:"hard-light",children:"Hard Light"}),s.jsx("option",{value:"soft-light",children:"Soft Light"}),s.jsx("option",{value:"difference",children:"Difference"}),s.jsx("option",{value:"exclusion",children:"Exclusion"}),s.jsx("option",{value:"hue",children:"Hue"}),s.jsx("option",{value:"saturation",children:"Saturation"}),s.jsx("option",{value:"color",children:"Color"}),s.jsx("option",{value:"luminosity",children:"Luminosity"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[11px] text-gray-400",children:["🎨 Hue Rotation ",Ct>1?`(${Ct})`:""]}),c.globalHueRotate!==0&&s.jsx("button",{onClick:()=>{if(f.length>1)for(const U of f)p(U,{globalHueRotate:0});else p(c.id,{globalHueRotate:0})},className:"text-[10px] px-1.5 py-0.5 rounded text-gray-400 active:text-white active:bg-[#4f7cff] transition-colors",children:"↺ 0°"})]}),s.jsx(Xu,{label:"",value:c.globalHueRotate,min:-180,max:180,onChange:U=>{if(f.length>1)for(const m of f)p(m,{globalHueRotate:U});else p(c.id,{globalHueRotate:U})},displayFn:U=>U===0?"0°":`${U>0?"+":""}${U}°`})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[11px] text-gray-400",children:["Rotation ",Ct>1?`(${Ct})`:""]}),s.jsx("button",{onClick:()=>{if(f.length>1)for(const U of f)p(U,{rotation:0});else p(c.id,{rotation:0})},className:`text-[10px] px-1.5 py-0.5 rounded transition-colors ${c.rotation===0?"text-gray-600":"text-gray-400 active:text-white active:bg-[#4f7cff]"}`,children:"↺ 0°"})]}),s.jsx(Xu,{label:"",value:Math.round(c.rotation*180/Math.PI),min:-180,max:180,onChange:U=>{if(f.length>1)for(const m of f)p(m,{rotation:U*Math.PI/180});else p(c.id,{rotation:U*Math.PI/180})},displayFn:U=>`${U}°`}),s.jsx("div",{className:"flex gap-1.5",children:[0,90,180,-90].map(U=>s.jsxs("button",{onClick:()=>{if(f.length>1)for(const m of f)p(m,{rotation:U*Math.PI/180});else p(c.id,{rotation:U*Math.PI/180})},className:`flex-1 py-1.5 text-[10px] rounded-lg transition-all active:scale-95 ${Math.round(c.rotation*180/Math.PI)===U?"bg-[#4f7cff]/20 text-[#4f7cff] ring-1 ring-[#4f7cff]/40":"bg-[#1a1c2e] text-gray-500 active:bg-[#252840]"}`,children:[U,"°"]},U))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 block mb-0.5",children:"X"}),s.jsx("input",{type:"number",value:Math.round(c.x),onChange:U=>p(c.id,{x:Number(U.target.value)}),className:"w-full bg-[#252840] border border-[#2a2d45] rounded-lg px-2 py-2 text-[12px] text-gray-300 focus:outline-none focus:border-[#4f7cff]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 block mb-0.5",children:"Y"}),s.jsx("input",{type:"number",value:Math.round(c.y),onChange:U=>p(c.id,{y:Number(U.target.value)}),className:"w-full bg-[#252840] border border-[#2a2d45] rounded-lg px-2 py-2 text-[12px] text-gray-300 focus:outline-none focus:border-[#4f7cff]"})]})]}),c.type==="image"&&s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"📐 Size"}),s.jsxs("button",{onClick:()=>{const U=c.x+c.width*c.scaleX/2,m=c.y+c.height*c.scaleY/2;p(c.id,{scaleX:N,scaleY:N,x:U-c.width*N/2,y:m-c.height*N/2})},className:`flex items-center gap-1 px-2 py-1.5 text-[11px] rounded-lg transition-colors active:scale-95 ${ct?"bg-[#1a1c2e]/50 text-gray-600 cursor-default":"bg-[#1a1c2e] active:bg-[#4f7cff] text-gray-400 active:text-white"}`,children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 9 9"}),s.jsx("polyline",{points:"3 7 3 12 8 12"})]}),"→",B,"%"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-[11px]",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Original"}),s.jsxs("span",{className:"text-gray-400 tabular-nums",children:[c.width,"×",c.height]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Current"}),s.jsxs("span",{className:"text-gray-300 tabular-nums",children:[Math.round(c.width*c.scaleX),"×",Math.round(c.height*c.scaleY)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Scale X"}),s.jsxs("span",{className:`tabular-nums ${Math.abs(c.scaleX-1)<.005?"text-green-400":"text-[#4f7cff]"}`,children:[Math.round(c.scaleX*100),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Scale Y"}),s.jsxs("span",{className:`tabular-nums ${Math.abs(c.scaleY-1)<.005?"text-green-400":"text-[#4f7cff]"}`,children:[Math.round(c.scaleY*100),"%"]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>h(c.id,"h"),className:`flex-1 py-2.5 text-[12px] rounded-lg transition-colors active:scale-95 ${c.flipH?"bg-[#4f7cff] text-white":"bg-[#252840] text-gray-400 active:bg-[#2a2d45]"}`,children:"↔ Flip H"}),s.jsx("button",{onClick:()=>h(c.id,"v"),className:`flex-1 py-2.5 text-[12px] rounded-lg transition-colors active:scale-95 ${c.flipV?"bg-[#4f7cff] text-white":"bg-[#252840] text-gray-400 active:bg-[#2a2d45]"}`,children:"↕ Flip V"})]}),Et&&Bt&&(c.type==="image"||c.type==="shape")&&s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🔲 Warp Mesh"}),c.warpMesh&&s.jsx("button",{onClick:()=>Bt(c.id),className:"text-[10px] px-2 py-1 rounded-lg bg-[#1a1c2e] text-gray-400 active:bg-red-700/50 active:text-white transition-colors active:scale-95",children:"↺ Reset"})]}),s.jsx("button",{onClick:()=>Et(c.id),className:`w-full py-2.5 text-[11px] rounded-lg transition-all active:scale-95 ${c.warpMesh?"bg-[#4f7cff] text-white":"bg-[#1a1c2e] text-gray-400 active:bg-[#4f7cff] active:text-white"}`,children:c.warpMesh?"✓ Warp Grid Active — Tap points to bend":"Enable Warp Grid"}),c.warpMesh&&s.jsx("div",{className:"text-[10px] text-gray-500",children:"Drag the blue grid points on the image to distort. Blue box and move/scale/rotate follow the warped content."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r(c.id,"up"),className:"flex-1 py-2.5 bg-[#252840] active:bg-[#2a2d45] text-gray-400 text-[12px] rounded-lg transition-colors active:scale-95",children:"▲ Up"}),s.jsx("button",{onClick:()=>r(c.id,"down"),className:"flex-1 py-2.5 bg-[#252840] active:bg-[#2a2d45] text-gray-400 text-[12px] rounded-lg transition-colors active:scale-95",children:"▼ Down"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r(c.id,"top"),className:"flex-1 py-2 bg-[#252840] active:bg-[#4f7cff] text-gray-400 active:text-white text-[11px] rounded-lg transition-colors active:scale-95",children:"⬆⬆ Top"}),s.jsx("button",{onClick:()=>r(c.id,"bottom"),className:"flex-1 py-2 bg-[#252840] active:bg-[#4f7cff] text-gray-400 active:text-white text-[11px] rounded-lg transition-colors active:scale-95",children:"⬇⬇ Bottom"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>g(c.id),className:"flex-1 py-2.5 bg-[#252840] active:bg-[#2a2d45] text-gray-400 text-[12px] rounded-lg transition-colors active:scale-95",children:"❏ Duplicate"})})]}),y.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-[#2a2d45] px-1 space-y-2",children:[c&&s.jsxs("button",{onClick:()=>v(c.id),className:"w-full py-3 bg-[#252840] active:bg-[#4f7cff] text-gray-300 active:text-white text-[12px] font-medium rounded-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 border border-[#2a2d45]",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),s.jsx("path",{d:"M12 8v8"}),s.jsx("path",{d:"M8 12l4 4 4-4"})]}),"Export Selected"]}),s.jsx("button",{onClick:d,className:"w-full py-3 bg-gradient-to-r from-[#4f7cff] to-[#a78bfa] active:opacity-80 text-white text-[12px] font-medium rounded-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:"📤 Export All (PNG)"}),bt&&s.jsx("button",{onClick:bt,className:"w-full py-2.5 bg-red-900/40 active:bg-red-700/50 text-red-400 text-[12px] font-medium rounded-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 border border-red-900/50 mt-2",children:"🗑 Clear All (Undoable)"})]})]}),Gt==="filters"&&(()=>{const U=(m,Xt)=>{f.length>1&&nt?nt(m,Xt):c&&u(c.id,m,Xt)};return s.jsx("div",{className:"p-3 space-y-3",children:c&&(c.type==="image"||c.type==="text"||c.type==="shape"||c.type==="drawing")?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] text-gray-400 font-medium mb-2",children:["Filters: ",s.jsx("span",{className:"text-gray-300",children:Ct>1?`${Ct} layers`:c.name})]}),Ct>1&&s.jsx("div",{className:"bg-[#4f7cff]/15 border border-[#4f7cff]/30 rounded-lg px-3 py-2 mb-2",children:s.jsxs("div",{className:"text-[11px] text-[#4f7cff]",children:["✦ Filter changes apply to all ",Ct," selected layers"]})}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Line Art",icon:"✏️",checked:c.filters.lineArt,onToggle:()=>u(c.id,{lineArt:!c.filters.lineArt})}),c.filters.lineArt&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{label:"Threshold",value:c.filters.lineArtThreshold,min:5,max:200,onChange:m=>u(c.id,{lineArtThreshold:m},!0),onChangeEnd:m=>u(c.id,{lineArtThreshold:m})}),s.jsxs("div",{className:"pt-1 border-t border-[#1a1c2e]",children:[s.jsx("div",{className:"text-[10px] text-gray-500 mb-1",children:"🎨 Original Color Overlay"}),s.jsx(ae,{label:"Color Intensity",value:Math.round(c.filters.lineArtColorBlend*100),min:0,max:100,onChange:m=>u(c.id,{lineArtColorBlend:m/100},!0),onChangeEnd:m=>u(c.id,{lineArtColorBlend:m/100}),displayFn:m=>m===0?"B&W":`${m}%`})]}),s.jsxs("div",{className:"pt-1 border-t border-[#1a1c2e]",children:[s.jsx("div",{className:"text-[10px] text-gray-500 mb-1",children:"📷 Original Photo Blend"}),s.jsx(ae,{label:"Blend Amount",value:Math.round(c.filters.lineArtBlend*100),min:0,max:100,onChange:m=>u(c.id,{lineArtBlend:m/100},!0),onChangeEnd:m=>u(c.id,{lineArtBlend:m/100}),displayFn:m=>m===0?"Off":`${m}%`})]})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Find Edges",icon:"🔍",checked:c.filters.findEdges,onToggle:()=>u(c.id,{findEdges:!c.filters.findEdges})}),c.filters.findEdges&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{label:"Strength",value:Math.round(c.filters.findEdgesStrength*100),min:10,max:500,onChange:m=>u(c.id,{findEdgesStrength:m/100},!0),onChangeEnd:m=>u(c.id,{findEdgesStrength:m/100}),displayFn:m=>`${(m/100).toFixed(1)}x`}),s.jsx(ae,{label:"Original Overlay",value:Math.round(c.filters.findEdgesBlend*100),min:0,max:100,onChange:m=>u(c.id,{findEdgesBlend:m/100},!0),onChangeEnd:m=>u(c.id,{findEdgesBlend:m/100}),displayFn:m=>`${m}%`})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Manga (Levels)",icon:"📖",checked:c.filters.levels,onToggle:()=>u(c.id,{levels:!c.filters.levels})}),c.filters.levels&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{label:"Black Point",value:c.filters.levelsBlack,min:0,max:200,onChange:m=>u(c.id,{levelsBlack:m},!0),onChangeEnd:m=>u(c.id,{levelsBlack:m})}),s.jsx(ae,{label:"White Point",value:c.filters.levelsWhite,min:50,max:255,onChange:m=>u(c.id,{levelsWhite:m},!0),onChangeEnd:m=>u(c.id,{levelsWhite:m})}),s.jsx(ae,{label:"Gamma",value:Math.round(c.filters.levelsGamma*100),min:10,max:500,onChange:m=>u(c.id,{levelsGamma:m/100},!0),onChangeEnd:m=>u(c.id,{levelsGamma:m/100}),displayFn:m=>`${(m/100).toFixed(2)}`}),s.jsx(wa,{label:"Monochrome",icon:"🔲",checked:c.filters.levelsMono,onToggle:()=>u(c.id,{levelsMono:!c.filters.levelsMono})})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Halftone Dots",icon:"⬤",checked:c.filters.halftone,onToggle:()=>u(c.id,{halftone:!c.filters.halftone})}),c.filters.halftone&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>u(c.id,{halftoneColorMode:0}),className:`flex-1 py-2 text-[11px] rounded-lg transition-all active:scale-95 ${c.filters.halftoneColorMode===0?"bg-[#4f7cff] text-white":"bg-[#1a1c2e] text-gray-400"}`,children:"⚫ B&W"}),s.jsx("button",{onClick:()=>u(c.id,{halftoneColorMode:1}),className:`flex-1 py-2 text-[11px] rounded-lg transition-all active:scale-95 ${c.filters.halftoneColorMode===1?"bg-[#4f7cff] text-white":"bg-[#1a1c2e] text-gray-400"}`,children:"🌈 Color"})]}),s.jsx(ae,{label:"Dot Size",value:c.filters.halftoneSize,min:2,max:20,onChange:m=>u(c.id,{halftoneSize:m},!0),onChangeEnd:m=>u(c.id,{halftoneSize:m}),displayFn:m=>`${m}px`}),s.jsx(ae,{label:"Angle",value:c.filters.halftoneAngle,min:0,max:90,onChange:m=>u(c.id,{halftoneAngle:m},!0),onChangeEnd:m=>u(c.id,{halftoneAngle:m}),displayFn:m=>`${m}°`}),s.jsxs("div",{className:"pt-1 border-t border-[#1a1c2e]",children:[s.jsx("div",{className:"text-[10px] text-gray-500 mb-1",children:"Blend Mode"}),s.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{v:0,label:"Normal"},{v:1,label:"Overlay"},{v:2,label:"Multiply"},{v:3,label:"Darken"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{halftoneBlendMode:m.v}),className:`py-1.5 text-[9px] rounded-lg transition-all active:scale-95 ${c.filters.halftoneBlendMode===m.v?"ring-1 ring-[#4f7cff] bg-[#4f7cff]/20 text-white":"bg-[#1a1c2e] text-gray-400"}`,children:m.label},m.v))})]}),s.jsx("div",{className:"pt-1 border-t border-[#1a1c2e]",children:s.jsx(ae,{label:"Original Color Overlay",value:Math.round(c.filters.halftoneColorBlend*100),min:0,max:100,onChange:m=>u(c.id,{halftoneColorBlend:m/100},!0),onChangeEnd:m=>u(c.id,{halftoneColorBlend:m/100}),displayFn:m=>m===0?"Off":`${m}%`})})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🔆 Brightness / Contrast"}),s.jsx(ae,{label:"Brightness",value:c.filters.brightness,min:-100,max:100,onChange:m=>u(c.id,{brightness:m},!0),onChangeEnd:m=>u(c.id,{brightness:m})}),s.jsx(ae,{label:"Contrast",value:c.filters.contrast,min:-100,max:100,onChange:m=>u(c.id,{contrast:m},!0),onChangeEnd:m=>u(c.id,{contrast:m})})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"💫 Blur"}),s.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:[{v:0,label:"Off"},{v:1,label:"Gauss"},{v:2,label:"Box"},{v:3,label:"Motion"},{v:4,label:"Radial"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{blurType:m.v}),className:`py-2 text-[10px] rounded-lg transition-all active:scale-95 ${c.filters.blurType===m.v?"ring-2 ring-[#4f7cff] bg-[#4f7cff]/20 text-white":"bg-[#1a1c2e] text-gray-400 active:ring-1 active:ring-gray-500"}`,children:m.label},m.v))}),c.filters.blurType>0&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{label:"Radius",value:c.filters.blurRadius,min:0,max:200,step:.5,onChange:m=>u(c.id,{blurRadius:m},!0),onChangeEnd:m=>u(c.id,{blurRadius:m}),displayFn:m=>`${m}px`}),c.filters.blurType===3&&s.jsx(ae,{label:"Angle",value:c.filters.blurAngle,min:0,max:360,onChange:m=>u(c.id,{blurAngle:m},!0),onChangeEnd:m=>u(c.id,{blurAngle:m}),displayFn:m=>`${m}°`})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"📺 Noise"}),s.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:[{v:0,label:"Off"},{v:1,label:"Gauss"},{v:2,label:"Film"},{v:3,label:"Color"},{v:4,label:"Mono"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{noiseType:m.v}),className:`py-2 text-[10px] rounded-lg transition-all active:scale-95 ${c.filters.noiseType===m.v?"ring-2 ring-[#4f7cff] bg-[#4f7cff]/20 text-white":"bg-[#1a1c2e] text-gray-400 active:ring-1 active:ring-gray-500"}`,children:m.label},m.v))}),c.filters.noiseType>0&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{label:"Amount",value:c.filters.noiseAmount,min:0,max:100,onChange:m=>u(c.id,{noiseAmount:m},!0),onChangeEnd:m=>u(c.id,{noiseAmount:m}),displayFn:m=>`${m}%`}),s.jsx(ae,{label:"Density",value:c.filters.noiseDensity,min:1,max:100,onChange:m=>u(c.id,{noiseDensity:m},!0),onChangeEnd:m=>u(c.id,{noiseDensity:m}),displayFn:m=>`${m}%`})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🎨 Posterize"}),s.jsx(ae,{label:"Levels",value:c.filters.posterize,min:0,max:32,onChange:m=>u(c.id,{posterize:m},!0),onChangeEnd:m=>u(c.id,{posterize:m}),displayFn:m=>m<2?"Off":`${m}`})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Color Separation",icon:"🌈",checked:c.filters.colorSepEnabled,onToggle:()=>u(c.id,{colorSepEnabled:!c.filters.colorSepEnabled})}),c.filters.colorSepEnabled&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{label:"R Levels",value:c.filters.colorSepR,min:2,max:32,onChange:m=>u(c.id,{colorSepR:m},!0),onChangeEnd:m=>u(c.id,{colorSepR:m}),displayFn:m=>`${m}`}),s.jsx(ae,{label:"G Levels",value:c.filters.colorSepG,min:2,max:32,onChange:m=>u(c.id,{colorSepG:m},!0),onChangeEnd:m=>u(c.id,{colorSepG:m}),displayFn:m=>`${m}`}),s.jsx(ae,{label:"B Levels",value:c.filters.colorSepB,min:2,max:32,onChange:m=>u(c.id,{colorSepB:m},!0),onChangeEnd:m=>u(c.id,{colorSepB:m}),displayFn:m=>`${m}`}),s.jsx(ae,{label:"Mix",value:Math.round(c.filters.colorSepMix*100),min:0,max:100,onChange:m=>u(c.id,{colorSepMix:m/100},!0),onChangeEnd:m=>u(c.id,{colorSepMix:m/100}),displayFn:m=>`${m}%`})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🌈 Color Tone"}),(c.filters.hueShift!==0||c.filters.saturation!==0||c.filters.colorTempShift!==0)&&s.jsx("button",{onClick:()=>u(c.id,{hueShift:0,saturation:0,colorTempShift:0}),className:"text-[10px] px-2 py-1 rounded-lg bg-[#1a1c2e] text-gray-400 active:bg-[#4f7cff] active:text-white transition-colors active:scale-95",children:"↺ Reset"})]}),s.jsx(ae,{label:"Hue Shift",value:c.filters.hueShift,min:-180,max:180,onChange:m=>u(c.id,{hueShift:m},!0),onChangeEnd:m=>u(c.id,{hueShift:m}),displayFn:m=>`${m}°`}),s.jsx(ae,{label:"Saturation",value:c.filters.saturation,min:-100,max:100,onChange:m=>u(c.id,{saturation:m},!0),onChangeEnd:m=>u(c.id,{saturation:m}),displayFn:m=>`${m>0?"+":""}${m}`}),s.jsx(ae,{label:"Warm / Cool",value:c.filters.colorTempShift,min:-100,max:100,onChange:m=>u(c.id,{colorTempShift:m},!0),onChangeEnd:m=>u(c.id,{colorTempShift:m}),displayFn:m=>m>0?`🔥+${m}`:m<0?`❄️${m}`:"0"})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🎭 Art Posterize"}),s.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:[{v:0,label:"Off",color:"bg-[#1a1c2e]"},{v:1,label:"Neon",color:"bg-fuchsia-900/50"},{v:2,label:"Retro",color:"bg-amber-900/50"},{v:3,label:"Pastel",color:"bg-pink-900/50"},{v:4,label:"Duo",color:"bg-blue-900/50"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{posterizeStyle:m.v}),className:`py-2 text-[10px] rounded-lg transition-all active:scale-95 ${c.filters.posterizeStyle===m.v?"ring-2 ring-[#4f7cff] text-white "+m.color:"text-gray-400 "+m.color+" active:ring-1 active:ring-gray-500"}`,children:m.label},m.v))}),c.filters.posterizeStyle>0&&s.jsx(ae,{label:"Color Shift",value:c.filters.posterizeColorShift,min:-180,max:180,onChange:m=>u(c.id,{posterizeColorShift:m},!0),onChangeEnd:m=>u(c.id,{posterizeColorShift:m}),displayFn:m=>m===0?"None":`${m>0?"+":""}${m}°`})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🔷 Facet / Block"}),s.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:[{v:0,label:"Off"},{v:1,label:"Rect"},{v:2,label:"Tri"},{v:3,label:"Voronoi"},{v:4,label:"◆"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{facetFilter:m.v}),className:`py-2 text-[10px] rounded-lg transition-all active:scale-95 ${c.filters.facetFilter===m.v?"ring-2 ring-[#4f7cff] bg-[#4f7cff]/20 text-white":"bg-[#1a1c2e] text-gray-400 active:ring-1 active:ring-gray-500"}`,children:m.label},m.v))}),c.filters.facetFilter>0&&s.jsx(ae,{label:"Block Size",value:c.filters.facetSize,min:3,max:200,onChange:m=>u(c.id,{facetSize:m},!0),onChangeEnd:m=>u(c.id,{facetSize:m}),displayFn:m=>`${m}px`})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Frosted Glass",icon:"🧊",checked:c.filters.frostedGlass,onToggle:()=>u(c.id,{frostedGlass:!c.filters.frostedGlass})}),c.filters.frostedGlass&&s.jsx(ae,{label:"Amount",value:c.filters.frostedGlassAmount,min:1,max:100,onChange:m=>u(c.id,{frostedGlassAmount:m},!0),onChangeEnd:m=>u(c.id,{frostedGlassAmount:m}),displayFn:m=>`${m}px`})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Stroke",icon:"🔲",checked:c.filters.strokeEnabled,onToggle:()=>u(c.id,{strokeEnabled:!c.filters.strokeEnabled})}),c.filters.strokeEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>u(c.id,{strokeOuter:!c.filters.strokeOuter}),className:`flex-1 py-2 text-[11px] rounded-lg transition-all active:scale-95 ${c.filters.strokeOuter?"bg-[#4f7cff] text-white":"bg-[#1a1c2e] text-gray-400"}`,children:"Outer"}),s.jsx("button",{onClick:()=>u(c.id,{strokeInner:!c.filters.strokeInner}),className:`flex-1 py-2 text-[11px] rounded-lg transition-all active:scale-95 ${c.filters.strokeInner?"bg-[#4f7cff] text-white":"bg-[#1a1c2e] text-gray-400"}`,children:"Inner"})]}),s.jsx(ae,{label:"Width",value:c.filters.strokeWidth,min:1,max:20,onChange:m=>u(c.id,{strokeWidth:m},!0),onChangeEnd:m=>u(c.id,{strokeWidth:m}),displayFn:m=>`${m}px`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Color"}),s.jsx("input",{type:"color",value:c.filters.strokeColor,onChange:m=>u(c.id,{strokeColor:m.target.value}),className:"w-full h-8 rounded-lg cursor-pointer border border-[#2a2d45] bg-transparent"})]})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🎮 Game Feel"}),s.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:[{v:0,label:"Off"},{v:1,label:"Pixel"},{v:2,label:"CRT"},{v:3,label:"Neon"},{v:4,label:"8-Bit"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{gameFilter:m.v}),className:`py-2 text-[10px] rounded-lg transition-all active:scale-95 ${c.filters.gameFilter===m.v?"ring-2 ring-[#4f7cff] bg-[#4f7cff]/20 text-white":"bg-[#1a1c2e] text-gray-400 active:ring-1 active:ring-gray-500"}`,children:m.label},m.v))}),c.filters.gameFilter>0&&s.jsx(ae,{label:"Intensity",value:Math.round(c.filters.gameFilterIntensity*100),min:10,max:200,onChange:m=>u(c.id,{gameFilterIntensity:m/100},!0),onChangeEnd:m=>u(c.id,{gameFilterIntensity:m/100}),displayFn:m=>`${(m/100).toFixed(1)}x`})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Oil Paint",icon:"🖌️",checked:c.filters.oilPaint,onToggle:()=>u(c.id,{oilPaint:!c.filters.oilPaint})}),c.filters.oilPaint&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{label:"Radius",value:c.filters.oilPaintRadius,min:1,max:8,onChange:m=>u(c.id,{oilPaintRadius:m},!0),onChangeEnd:m=>u(c.id,{oilPaintRadius:m}),displayFn:m=>`${m}px`}),s.jsx(ae,{label:"Detail Levels",value:c.filters.oilPaintLevels,min:4,max:40,onChange:m=>u(c.id,{oilPaintLevels:m},!0),onChangeEnd:m=>u(c.id,{oilPaintLevels:m}),displayFn:m=>`${m}`})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Metal",icon:"⚙️",checked:c.filters.metalFilter,onToggle:()=>u(c.id,{metalFilter:!c.filters.metalFilter})}),c.filters.metalFilter&&s.jsx(ae,{label:"Intensity",value:Math.round(c.filters.metalIntensity*100),min:10,max:200,onChange:m=>u(c.id,{metalIntensity:m/100},!0),onChangeEnd:m=>u(c.id,{metalIntensity:m/100}),displayFn:m=>`${(m/100).toFixed(1)}x`})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Palette Knife",icon:"🔪",checked:c.filters.paletteKnife,onToggle:()=>u(c.id,{paletteKnife:!c.filters.paletteKnife})}),c.filters.paletteKnife&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{label:"Stroke Length",value:c.filters.paletteKnifeLength,min:5,max:80,onChange:m=>u(c.id,{paletteKnifeLength:m},!0),onChangeEnd:m=>u(c.id,{paletteKnifeLength:m}),displayFn:m=>`${m}px`}),s.jsx(ae,{label:"Direction",value:c.filters.paletteKnifeDirection,min:0,max:360,onChange:m=>u(c.id,{paletteKnifeDirection:m},!0),onChangeEnd:m=>u(c.id,{paletteKnifeDirection:m}),displayFn:m=>`${m}°`})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🖌️ Texture / Brush"}),s.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:[{v:0,label:"Off"},{v:1,label:"Canvas"},{v:2,label:"Water"},{v:3,label:"Crayon"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{textureFilter:m.v}),className:`py-2 text-[10px] rounded-lg transition-all active:scale-95 ${c.filters.textureFilter===m.v?"ring-2 ring-[#4f7cff] bg-[#4f7cff]/20 text-white":"bg-[#1a1c2e] text-gray-400 active:ring-1 active:ring-gray-500"}`,children:m.label},m.v))}),s.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:[{v:4,label:"Impasto"},{v:5,label:"Hatch"},{v:6,label:"Stipple"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{textureFilter:m.v}),className:`py-2 text-[10px] rounded-lg transition-all active:scale-95 ${c.filters.textureFilter===m.v?"ring-2 ring-[#4f7cff] bg-[#4f7cff]/20 text-white":"bg-[#1a1c2e] text-gray-400 active:ring-1 active:ring-gray-500"}`,children:m.label},m.v))}),c.filters.textureFilter>0&&s.jsx(ae,{label:"Intensity",value:Math.round(c.filters.textureIntensity*100),min:10,max:200,onChange:m=>u(c.id,{textureIntensity:m/100},!0),onChangeEnd:m=>u(c.id,{textureIntensity:m/100}),displayFn:m=>`${(m/100).toFixed(1)}x`})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsx(wa,{label:"Gradient Fade",icon:"🌫️",checked:c.filters.gradientFade,onToggle:()=>u(c.id,{gradientFade:!c.filters.gradientFade})}),c.filters.gradientFade&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-5 gap-1",children:[{v:0,label:"→"},{v:1,label:"←"},{v:2,label:"↓"},{v:3,label:"↑"},{v:4,label:"◎"}].map(m=>s.jsx("button",{onClick:()=>u(c.id,{gradientFadeDirection:m.v}),className:`py-2 text-[14px] rounded-lg transition-all active:scale-95 ${c.filters.gradientFadeDirection===m.v?"ring-2 ring-[#4f7cff] bg-[#4f7cff]/20 text-white":"bg-[#1a1c2e] text-gray-400"}`,children:m.label},m.v))}),s.jsx(ae,{label:"Fade Amount",value:c.filters.gradientFadeAmount,min:0,max:100,onChange:m=>u(c.id,{gradientFadeAmount:m},!0),onChangeEnd:m=>u(c.id,{gradientFadeAmount:m}),displayFn:m=>`${m}%`})]})]}),s.jsxs("div",{className:"bg-[#252840] rounded-xl p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🎨 Color Channel Shift"}),(c.filters.channelShiftRG!==0||c.filters.channelShiftYB!==0||c.filters.channelShiftPC!==0)&&s.jsx("button",{onClick:()=>u(c.id,{channelShiftRG:0,channelShiftYB:0,channelShiftPC:0}),className:"text-[10px] px-2 py-1 rounded-lg bg-[#1a1c2e] text-gray-400 active:bg-[#4f7cff] active:text-white transition-colors active:scale-95",children:"↺ Reset"})]}),s.jsx(ae,{label:"🔴↔🟢 Red-Green",value:c.filters.channelShiftRG,min:-100,max:100,onChange:m=>u(c.id,{channelShiftRG:m},!0),onChangeEnd:m=>u(c.id,{channelShiftRG:m}),displayFn:m=>m===0?"0":`${m>0?"+":""}${m}`}),s.jsx(ae,{label:"🟡↔🔵 Yellow-Blue",value:c.filters.channelShiftYB,min:-100,max:100,onChange:m=>u(c.id,{channelShiftYB:m},!0),onChangeEnd:m=>u(c.id,{channelShiftYB:m}),displayFn:m=>m===0?"0":`${m>0?"+":""}${m}`}),s.jsx(ae,{label:"🩷↔🩵 Pink-Cyan",value:c.filters.channelShiftPC,min:-100,max:100,onChange:m=>u(c.id,{channelShiftPC:m},!0),onChangeEnd:m=>u(c.id,{channelShiftPC:m}),displayFn:m=>m===0?"0":`${m>0?"+":""}${m}`})]}),s.jsx("div",{className:"bg-[#252840] rounded-xl p-3",children:s.jsx(wa,{label:"Invert",icon:"🔄",checked:c.filters.invert,onToggle:()=>u(c.id,{invert:!c.filters.invert})})}),s.jsxs("button",{onClick:()=>{U({lineArt:!1,lineArtBlend:.5,lineArtThreshold:50,lineArtColorBlend:0,findEdges:!1,findEdgesBlend:.5,findEdgesStrength:1,blurType:0,blurRadius:0,blurAngle:0,noiseType:0,noiseAmount:0,noiseDensity:100,posterize:0,brightness:0,contrast:0,invert:!1,levels:!1,levelsBlack:0,levelsWhite:255,levelsGamma:1,levelsMono:!1,halftone:!1,halftoneSize:6,halftoneAngle:45,halftoneColorMode:0,halftoneColorBlend:0,halftoneBlendMode:0,hueShift:0,saturation:0,colorTempShift:0,posterizeStyle:0,posterizeColorShift:0,frostedGlass:!1,frostedGlassAmount:8,strokeEnabled:!1,strokeColor:"#000000",strokeWidth:3,strokeInner:!1,strokeOuter:!0,gameFilter:0,gameFilterIntensity:1,facetFilter:0,facetSize:15,oilPaint:!1,oilPaintRadius:4,oilPaintLevels:20,metalFilter:!1,metalIntensity:1,paletteKnife:!1,paletteKnifeLength:20,paletteKnifeDirection:45,colorSepEnabled:!1,colorSepR:8,colorSepG:8,colorSepB:8,colorSepMix:1,textureFilter:0,textureIntensity:1,gradientFade:!1,gradientFadeDirection:0,gradientFadeAmount:50,channelShiftRG:0,channelShiftYB:0,channelShiftPC:0})},className:"w-full py-2.5 bg-[#252840] active:bg-[#2a2d45] text-gray-400 text-[12px] rounded-xl transition-colors active:scale-[0.98]",children:["Reset All Filters",Ct>1?` (${Ct})`:""]})]}):s.jsx("div",{className:"text-center text-gray-500 text-xs py-12",children:"Select an image layer"})})})()]})]})};function eg(y,c){const C=[],f=[];for(let p=0;p<4;p++){const g=y[p].x,r=y[p].y,h=c[p].x,u=c[p].y;C.push([g,r,1,0,0,0,-g*h,-r*h]),f.push(h),C.push([0,0,0,g,r,1,-g*u,-r*u]),f.push(u)}const S=ag(C,f);return S?[...S,1]:[1,0,0,0,1,0,0,0,1]}function ag(y,c){const C=c.length,f=y.map((p,g)=>[...p,c[g]]);for(let p=0;p<C;p++){let g=Math.abs(f[p][p]),r=p;for(let h=p+1;h<C;h++)Math.abs(f[h][p])>g&&(g=Math.abs(f[h][p]),r=h);if(g<1e-10)return null;[f[p],f[r]]=[f[r],f[p]];for(let h=p+1;h<C;h++){const u=f[h][p]/f[p][p];for(let d=p;d<=C;d++)f[h][d]-=u*f[p][d]}}const S=new Array(C).fill(0);for(let p=C-1;p>=0;p--){S[p]=f[p][C];for(let g=p+1;g<C;g++)S[p]-=f[p][g]*S[g];S[p]/=f[p][p]}return S}function ng(y,c,C){const f=y[6]*c+y[7]*C+y[8];return{x:(y[0]*c+y[1]*C+y[2])/f,y:(y[3]*c+y[4]*C+y[5])/f}}function Yh(y,c,C,f){const S=y.getContext("2d"),p=c.getContext("2d"),g=y.width,r=y.height,h=c.width,u=c.height,d=S.getImageData(0,0,g,r),v=p.createImageData(h,u),M=eg(f,C),A=d.data,X=v.data;for(let Q=0;Q<u;Q++)for(let L=0;L<h;L++){const J=ng(M,L,Q),I=J.x,V=J.y;if(I>=0&&I<g-1&&V>=0&&V<r-1){const ft=Math.floor(I),dt=Math.floor(V),rt=ft+1,st=dt+1,bt=I-ft,nt=V-dt,Et=(dt*g+ft)*4,Bt=(dt*g+rt)*4,Gt=(st*g+ft)*4,Dt=(st*g+rt)*4,Vt=(Q*h+L)*4;for(let Kt=0;Kt<4;Kt++)X[Vt+Kt]=A[Et+Kt]*(1-bt)*(1-nt)+A[Bt+Kt]*bt*(1-nt)+A[Gt+Kt]*(1-bt)*nt+A[Dt+Kt]*bt*nt}}p.putImageData(v,0,0)}const Lo=8,lg=["#ef4444","#3b82f6","#22c55e","#f59e0b"],ig=["左上","右上","右下","左下"],cg=({onClose:y,selectedLayer:c,onApply:C})=>{const f=_.useRef(null),S=_.useRef(null),[p,g]=_.useState(!1),[r,h]=_.useState({w:400,h:300}),[u,d]=_.useState([{x:0,y:0},{x:400,y:0},{x:400,y:300},{x:0,y:300}]),[v,M]=_.useState(null),[A,X]=_.useState([{x:0,y:0},{x:400,y:0},{x:400,y:300},{x:0,y:300}]),[Q,L]=_.useState(1),[J,I]=_.useState([]),[V,ft]=_.useState([]),dt=200,rt=80,st=80,bt=r.w+rt*2,nt=r.h+dt+st;_.useEffect(()=>{if(!c){g(!1);return}let B=null;if(c.type==="drawing"&&c.drawingCanvas)B=c.drawingCanvas;else if(c.filteredCanvas)B=c.filteredCanvas;else if(c.image){const ot=c.image,ct=document.createElement("canvas");ct.width=c.width||ot.width,ct.height=c.height||ot.height,ct.getContext("2d").drawImage(ot,0,0,ct.width,ct.height),B=ct}if(B){S.current=B;const ot=B.width,ct=B.height;h({w:ot,h:ct});const Ct=[{x:0,y:0},{x:ot,y:0},{x:ot,y:ct},{x:0,y:ct}];X(Ct),d(Ct),g(!0)}},[c]);const Et=_.useCallback(()=>{const B=f.current,ot=S.current;if(!B||!ot)return;const ct=B.getContext("2d");B.width=bt,B.height=nt,ct.fillStyle="#1e1e2e",ct.fillRect(0,0,bt,nt);const Ct=16;for(let Xt=0;Xt<nt;Xt+=Ct)for(let qt=0;qt<bt;qt+=Ct)(Math.floor(qt/Ct)+Math.floor(Xt/Ct))%2===0&&(ct.fillStyle="#2a2a3e",ct.fillRect(qt,Xt,Ct,Ct));const zt=document.createElement("canvas");zt.width=bt,zt.height=nt;const U=[{x:0,y:0},{x:r.w,y:0},{x:r.w,y:r.h},{x:0,y:r.h}],m=u.map(Xt=>({x:Xt.x+rt,y:Xt.y+dt}));Yh(ot,zt,U,m),ct.drawImage(zt,0,0);for(let Xt=0;Xt<u.length;Xt++){const qt=u[Xt],Ye=qt.x+rt,Oe=qt.y+dt;ct.fillStyle=lg[Xt],ct.beginPath(),ct.arc(Ye,Oe,Lo,0,Math.PI*2),ct.fill(),ct.fillStyle="#fff",ct.font="bold 12px sans-serif",ct.textAlign="center",ct.textBaseline="middle",ct.fillText(ig[Xt],Ye,Oe)}},[u,r.w,r.h,dt,rt]),Bt=B=>{const ot=f.current;if(!ot)return;const ct=ot.getBoundingClientRect(),Ct=(B.clientX-ct.left)*(ot.width/ct.width),zt=(B.clientY-ct.top)*(ot.height/ct.height);for(let U=0;U<u.length;U++){const m=u[U],Xt=Ct-(m.x+rt),qt=zt-(m.y+dt);if(Xt*Xt+qt*qt<=Lo*Lo*4){I(Ye=>[...Ye,u]),ft([]),M(U);return}}},Gt=B=>{if(v===null)return;const ot=f.current;if(!ot)return;const ct=ot.getBoundingClientRect(),Ct=(B.clientX-ct.left)*(ot.width/ct.width),zt=(B.clientY-ct.top)*(ot.height/ct.height),U=[...u];U[v]={x:Math.max(-rt,Math.min(r.w+rt,Ct-rt)),y:Math.max(-dt,Math.min(r.h+st,zt-dt))},d(U)},Dt=()=>{M(null)},Vt=B=>{B.preventDefault();const ot=B.deltaY>0?-.2:.2,ct=Math.max(.2,Math.min(3,Q+ot));L(ct)},Kt=()=>{L(B=>Math.min(3,B+.2))},K=()=>{L(B=>Math.max(.2,B-.2))},Mt=()=>{L(1)},wt=()=>{if(J.length===0)return;const B=[...J],ot=B.pop();I(B),ft(ct=>[...ct,u]),d(ot)},Pt=()=>{if(V.length===0)return;const B=[...V],ot=B.pop();ft(B),I(ct=>[...ct,u]),d(ot)};_.useEffect(()=>{Et()},[Et]);const Wt=()=>{I(B=>[...B,u]),ft([]),d([...A])},N=()=>{if(!S.current)return;const B=document.createElement("canvas");B.width=bt,B.height=nt;const ot=[{x:0,y:0},{x:r.w,y:0},{x:r.w,y:r.h},{x:0,y:r.h}],ct=u.map(Ne=>({x:Ne.x+rt,y:Ne.y+dt}));Yh(S.current,B,ot,ct);const Ct=document.createElement("canvas");Ct.width=r.w,Ct.height=r.h;const zt=Ct.getContext("2d");let U=1/0,m=1/0,Xt=-1/0,qt=-1/0;const Ye=ct;for(const Ne of Ye)U=Math.min(U,Ne.x),m=Math.min(m,Ne.y),Xt=Math.max(Xt,Ne.x),qt=Math.max(qt,Ne.y);const Oe={x:r.w/2,y:r.h/2},ua=(U+Xt)/2,Ae=(m+qt)/2,Ge=ua-Oe.x,Ze=Ae-Oe.y;if(U<Xt&&m<qt){const Ne=Xt-U,$e=qt-m;zt.drawImage(B,U,m,Ne,$e,0,0,r.w,r.h)}C?.(Ct,{offsetX:Ge,offsetY:Ze}),y?.()};return p?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:1e3},onClick:B=>{B.target===B.currentTarget&&y?.()},children:s.jsxs("div",{style:{background:"#1e1e2e",borderRadius:8,overflow:"hidden",display:"flex",flexDirection:"column",maxWidth:"90vw",maxHeight:"90vh"},children:[s.jsxs("div",{style:{padding:16,borderBottom:"1px solid #333"},children:[s.jsx("h3",{style:{margin:0,color:"#fff"},children:"网格透视拉伸工具"}),s.jsx("p",{style:{margin:"4px 0 0 0",fontSize:12,color:"#999"},children:"拖动四个角点进行透视变换"})]}),s.jsxs("div",{style:{padding:"8px 16px",borderBottom:"1px solid #333",display:"flex",gap:8,alignItems:"center",background:"#1a1c2e"},children:[s.jsx("button",{onClick:K,style:{padding:"4px 8px",background:"#444",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"−"}),s.jsxs("button",{onClick:Mt,style:{padding:"4px 8px",background:"#444",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12,minWidth:50},children:[Math.round(Q*100),"%"]}),s.jsx("button",{onClick:Kt,style:{padding:"4px 8px",background:"#444",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"+"}),s.jsx("div",{style:{width:1,height:20,background:"#444",margin:"0 4px"}}),s.jsx("button",{onClick:wt,disabled:J.length===0,style:{padding:"4px 8px",background:J.length===0?"#333":"#444",color:"#fff",border:"none",borderRadius:4,cursor:J.length===0?"not-allowed":"pointer",fontSize:12,opacity:J.length===0?.5:1},children:"↶"}),s.jsx("button",{onClick:Pt,disabled:V.length===0,style:{padding:"4px 8px",background:V.length===0?"#333":"#444",color:"#fff",border:"none",borderRadius:4,cursor:V.length===0?"not-allowed":"pointer",fontSize:12,opacity:V.length===0?.5:1},children:"↷"}),s.jsx("span",{style:{fontSize:12,color:"#999",marginLeft:"auto"},children:"滚轮缩放"})]}),s.jsx("div",{style:{flex:1,overflow:"auto",background:"#0a0a0f",display:"flex",alignItems:"center",justifyContent:"center",padding:16,minHeight:700},children:s.jsx("canvas",{ref:f,onMouseDown:Bt,onMouseMove:Gt,onMouseUp:Dt,onMouseLeave:Dt,onWheel:Vt,style:{cursor:v!==null?"grabbing":"grab",maxWidth:"100%",display:"block",transform:`scale(${Q})`,transformOrigin:"center center",transition:"transform 0.05s ease-out"}})}),s.jsxs("div",{style:{padding:8,borderTop:"1px solid #333",display:"flex",gap:6,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:Wt,style:{padding:"6px 12px",background:"#444",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"重置"}),s.jsx("button",{onClick:N,style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"应用"}),s.jsx("button",{onClick:y,style:{padding:"6px 12px",background:"#666",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"关闭"})]})]})}):s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:1e3},children:s.jsxs("div",{style:{background:"#fff",padding:24,borderRadius:8,textAlign:"center"},children:[s.jsx("p",{children:"请先选择一个图层"}),s.jsx("button",{onClick:y,children:"关闭"})]})})};let Pa=0;function ze(y){const c=document.createElement("canvas");c.width=y.width,c.height=y.height;const C=y.getContext("2d"),f=c.getContext("2d"),S=C.getImageData(0,0,y.width,y.height);return f.putImageData(S,0,0),c}function Wo(y){const c=y.getContext("2d"),C=y.width,f=y.height,p=c.getImageData(0,0,C,f).data;let g=C,r=f,h=0,u=0,d=!1;for(let nt=0;nt<f;nt++){const Et=nt*C;for(let Bt=0;Bt<C;Bt++)p[(Et+Bt)*4+3]>0&&(Bt<g&&(g=Bt),Bt>h&&(h=Bt),nt<r&&(r=nt),nt>u&&(u=nt),d=!0)}if(!d)return{paintedBounds:void 0,outlineCanvas:void 0};h++,u++;const v={minX:g,minY:r,maxX:h,maxY:u},M=h-g,A=u-r,Q=Math.min(1,300/Math.max(M,A)),L=Math.max(1,Math.ceil(M*Q)),J=Math.max(1,Math.ceil(A*Q)),I=document.createElement("canvas");I.width=L,I.height=J;const V=I.getContext("2d");V.drawImage(y,g,r,M,A,0,0,L,J);const ft=V.getImageData(0,0,L,J),dt=document.createElement("canvas");dt.width=L,dt.height=J;const rt=dt.getContext("2d"),st=rt.createImageData(L,J),bt=[[-1,0],[1,0],[0,-1],[0,1]];for(let nt=0;nt<J;nt++)for(let Et=0;Et<L;Et++)if(ft.data[(nt*L+Et)*4+3]>10){let Gt=!1;for(let Dt=0;Dt<4;Dt++){const Vt=Et+bt[Dt][0],Kt=nt+bt[Dt][1];if(Vt<0||Vt>=L||Kt<0||Kt>=J){Gt=!0;break}if(ft.data[(Kt*L+Vt)*4+3]<=10){Gt=!0;break}}if(Gt){const Dt=(nt*L+Et)*4;st.data[Dt]=79,st.data[Dt+1]=124,st.data[Dt+2]=255,st.data[Dt+3]=200}}return rt.putImageData(st,0,0),{paintedBounds:v,outlineCanvas:dt}}function fn(y){const c=y.getContext("2d"),C=y.width,f=y.height,S=c.getImageData(0,0,C,f).data;let p=C,g=f,r=0,h=0,u=!1;for(let d=0;d<f;d++)for(let v=0;v<C;v++)S[(d*C+v)*4+3]>10&&(v<p&&(p=v),v>r&&(r=v),d<g&&(g=d),d>h&&(h=d),u=!0);if(u)return{x:p,y:g,w:r-p+1,h:h-g+1}}function gc(y,c,C,f){const p=document.createElement("canvas").getContext("2d");p.font=`bold ${c}px ${C}`;const g=y.split(`
`);let r=0;for(const X of g){const Q=p.measureText(X);Q.width>r&&(r=Q.width)}const h=c*1.3,u=Math.max(10,c*.3),d=Math.ceil(r)+u*2,v=Math.ceil(h*g.length)+u*2,M=document.createElement("canvas");M.width=Math.max(1,d),M.height=Math.max(1,v);const A=M.getContext("2d");A.font=`bold ${c}px ${C}`,A.fillStyle=f,A.textBaseline="top";for(let X=0;X<g.length;X++)A.fillText(g[X],u,u+X*h);return M}function xc(y,c,C,f,S){const p=document.createElement("canvas");p.width=c,p.height=c;const g=p.getContext("2d"),r=c/2,h=c/2,u=c*.42;g.lineWidth=S,g.strokeStyle=C,g.fillStyle=C;const d=v=>{g.beginPath(),g.moveTo(v[0][0],v[0][1]);for(let M=1;M<v.length;M++)g.lineTo(v[M][0],v[M][1]);g.closePath(),f?g.fill():g.stroke()};switch(y){case"circle":g.beginPath(),g.arc(r,h,u,0,Math.PI*2),f?g.fill():g.stroke();break;case"square":f?g.fillRect(r-u,h-u,u*2,u*2):g.strokeRect(r-u,h-u,u*2,u*2);break;case"triangle":d([[r,h-u],[r+u*Math.cos(Math.PI/6),h+u*Math.sin(Math.PI/6)],[r-u*Math.cos(Math.PI/6),h+u*Math.sin(Math.PI/6)]]);break;case"star":{const v=[];for(let M=0;M<10;M++){const A=Math.PI/2*-1+M*Math.PI/5,X=M%2===0?u:u*.45;v.push([r+Math.cos(A)*X,h+Math.sin(A)*X])}d(v);break}case"heart":{g.beginPath();const v=u*.9;g.moveTo(r,h+v*.7),g.bezierCurveTo(r-v*1.5,h-v*.3,r-v*.5,h-v*1.2,r,h-v*.5),g.bezierCurveTo(r+v*.5,h-v*1.2,r+v*1.5,h-v*.3,r,h+v*.7),g.closePath(),f?g.fill():g.stroke();break}case"diamond":d([[r,h-u],[r+u*.65,h],[r,h+u],[r-u*.65,h]]);break;case"arrow":{const v=u*.35;d([[r,h-u],[r+u*.7,h],[r+v,h],[r+v,h+u],[r-v,h+u],[r-v,h],[r-u*.7,h]]);break}case"hexagon":{const v=[];for(let M=0;M<6;M++){const A=Math.PI/3*M-Math.PI/2;v.push([r+Math.cos(A)*u,h+Math.sin(A)*u])}d(v);break}case"arch":g.beginPath(),g.arc(r,h+u*.2,u*.85,Math.PI,0),g.lineTo(r+u*.85,h+u),g.lineTo(r-u*.85,h+u),g.closePath(),f?g.fill():g.stroke();break;case"curve":g.beginPath(),g.moveTo(r-u,h),g.quadraticCurveTo(r-u*.3,h-u*.8,r,h),g.quadraticCurveTo(r+u*.3,h+u*.8,r+u,h),f&&(g.lineTo(r+u,h+u*.2),g.quadraticCurveTo(r+u*.3,h+u,r,h+u*.2),g.quadraticCurveTo(r-u*.3,h-u*.6,r-u,h+u*.2),g.closePath(),g.fill()),g.stroke();break}return p}function gi(y){const c=document.createElement("canvas");c.width=48,c.height=48;const C=c.getContext("2d"),f=y.width/y.height;let S=48,p=48;return f>1?p=48/f:S=48*f,C.drawImage(y,(48-S)/2,(48-p)/2,S,p),c.toDataURL()}function ug(){const[y,c]=_.useState([]),[C,f]=_.useState(null),[S,p]=_.useState([]),[g,r]=_.useState(!0),[h,u]=_.useState("select"),[d,v]=_.useState({size:8,color:"#ffffff",opacity:1}),[M,A]=_.useState({panX:0,panY:0,zoom:1}),[X,Q]=_.useState(!1),[L,J]=_.useState(280),[I,V]=_.useState(!1),[ft,dt]=_.useState(0),[rt,st]=_.useState(0),[bt,nt]=_.useState([]),[Et,Bt]=_.useState(30),[Gt,Dt]=_.useState(!1),[Vt,Kt]=_.useState(!1),[K,Mt]=_.useState("Hello"),[wt,Pt]=_.useState(64),[Wt,N]=_.useState("Arial"),[B,ot]=_.useState("#ffffff"),[ct,Ct]=_.useState(!1),[zt,U]=_.useState("circle"),[m,Xt]=_.useState("#4f7cff"),[qt,Ye]=_.useState(!0),[Oe,ua]=_.useState(200),[Ae,Ge]=_.useState(4),[Ze,Ne]=_.useState(!1),[$e,oa]=_.useState([]),[Va,Dn]=_.useState("#ffffff"),[Na,xi]=_.useState(3),[Fe,Dl]=_.useState(!1),[Ka,tn]=_.useState([]),[ra,rn]=_.useState([]),[de,Ja]=_.useState(null),[W,vt]=_.useState(null),[j,gt]=_.useState(null),[H,z]=_.useState(!1),$=_.useRef(null),et=_.useRef(y);et.current=y;const tt=_.useRef(C);tt.current=C;const ht=_.useRef(S);ht.current=S;const St=_.useRef(new Map),At=_.useRef(new Map),Zt=15,Nt=_.useRef({past:[],future:[]}),kt=15,Jt=_.useCallback(()=>{const b=et.current.map(T=>{const R={...T};return T.filteredCanvas&&(R.filteredCanvas=ze(T.filteredCanvas)),T.drawingCanvas&&(R.drawingCanvas=ze(T.drawingCanvas)),R});Nt.current.past.push(b),Nt.current.past.length>kt&&Nt.current.past.shift(),Nt.current.future=[]},[]),k=_.useCallback(()=>{const b=Nt.current;if(b.past.length===0)return;const T=et.current.map(O=>{const E={...O};return O.filteredCanvas&&(E.filteredCanvas=ze(O.filteredCanvas)),O.drawingCanvas&&(E.drawingCanvas=ze(O.drawingCanvas)),E});b.future.push(T);const R=b.past.pop();c(R),R.length>0&&f(R[R.length-1].id)},[]),_t=_.useCallback(()=>{const b=Nt.current;if(b.future.length===0)return;const T=et.current.map(O=>{const E={...O};return O.filteredCanvas&&(E.filteredCanvas=ze(O.filteredCanvas)),O.drawingCanvas&&(E.drawingCanvas=ze(O.drawingCanvas)),E});b.past.push(T);const R=b.future.pop();c(R)},[]),le=_.useRef({active:!1,startX:0,startWidth:0});_.useEffect(()=>{A({panX:window.innerWidth/2,panY:window.innerHeight/2,zoom:1})},[]);const Rt=_.useCallback(b=>{if(!b){dt(0),st(0);return}dt(St.current.get(b)?.length||0),st(At.current.get(b)?.length||0)},[]);_.useEffect(()=>{Rt(C)},[C,Rt]);const $t=_.useCallback(b=>{f(b),p(b?[b]:[]),r(!0),b&&Q(!1)},[]),Se=_.useCallback(b=>{p(b),r(!0),b.length>0&&(f(b[b.length-1]),Q(!1))},[]),pe=_.useCallback(()=>{r(!1),p([])},[]),Te=_.useCallback(()=>{r(!0)},[]),He=_.useCallback((b,T,R)=>{if(!b.type.startsWith("image/"))return;const O=new FileReader;O.onload=E=>{const P=new Image;P.onload=()=>{const mt=`layer-${++Pa}`,jt=600,yt=Math.min(jt/P.naturalWidth,jt/P.naturalHeight,1),lt=P.naturalWidth*yt,pt=P.naturalHeight*yt,xt=document.createElement("canvas");xt.width=P.naturalWidth,xt.height=P.naturalHeight,xt.getContext("2d").drawImage(P,0,0);const Ot=document.createElement("canvas");Ot.width=48,Ot.height=48;const fe=Ot.getContext("2d"),te=P.naturalWidth/P.naturalHeight;let ne=48,Me=48;te>1?Me=48/te:ne=48*te,fe.drawImage(P,(48-ne)/2,(48-Me)/2,ne,Me);const ue=T??0,ee=R??0,Tt={id:mt,name:b.name.replace(/\.[^.]+$/,"").substring(0,20),type:"image",visible:!0,locked:!1,opacity:1,blendMode:"source-over",x:ue-lt/2,y:ee-pt/2,width:P.naturalWidth,height:P.naturalHeight,scaleX:yt,scaleY:yt,rotation:0,flipH:!1,flipV:!1,image:P,thumbUrl:Ot.toDataURL(),filteredCanvas:xt,filters:{...Nn},layerSaturation:100,globalHueRotate:0};c(_e=>[..._e,Tt]),$t(mt),u("select")},P.src=E.target?.result},O.readAsDataURL(b)},[$t]),ba=_.useCallback((b,T=0,R=0)=>{const O=b.filter(P=>P.type.startsWith("image/"));if(O.length===0)return;if(O.length===1){He(O[0],T,R);return}const E=O.map(P=>new Promise(mt=>{const jt=new FileReader;jt.onload=yt=>{const lt=new Image;lt.onload=()=>mt({file:P,img:lt}),lt.src=yt.target?.result},jt.readAsDataURL(P)}));Promise.all(E).then(P=>{const mt=[],jt=P.length,yt=Math.ceil(Math.sqrt(jt)),lt=Math.ceil(jt/yt),pt=400,xt=30,Ot=yt*(pt+xt)-xt,fe=lt*(pt+xt)-xt;if(P.forEach(({file:te,img:ne},Me)=>{const ue=Math.floor(Me/yt),ee=Me%yt,Tt=`layer-${++Pa}`,_e=Math.min(pt/ne.naturalWidth,pt/ne.naturalHeight,1),an=ne.naturalWidth*_e,Xa=ne.naturalHeight*_e,hn=T-Ot/2+ee*(pt+xt),ma=R-fe/2+ue*(pt+xt),nn=hn+(pt-an)/2,ml=ma+(pt-Xa)/2,Un=document.createElement("canvas");Un.width=ne.naturalWidth,Un.height=ne.naturalHeight,Un.getContext("2d").drawImage(ne,0,0);const Gn=document.createElement("canvas");Gn.width=48,Gn.height=48;const wi=Gn.getContext("2d"),qn=ne.naturalWidth/ne.naturalHeight;let mn=48,ln=48;qn>1?ln=48/qn:mn=48*qn,wi.drawImage(ne,(48-mn)/2,(48-ln)/2,mn,ln),mt.push({id:Tt,name:te.name.replace(/\.[^.]+$/,"").substring(0,20),type:"image",visible:!0,locked:!1,opacity:1,blendMode:"source-over",x:nn,y:ml,width:ne.naturalWidth,height:ne.naturalHeight,scaleX:_e,scaleY:_e,rotation:0,flipH:!1,flipV:!1,image:ne,thumbUrl:Gn.toDataURL(),filteredCanvas:Un,filters:{...Nn},layerSaturation:100,globalHueRotate:0})}),c(te=>[...te,...mt]),mt.length>0){const te=mt.map(ne=>ne.id);f(te[te.length-1]),p(te),r(!0),u("select"),Q(!1)}})},[He]),Da=()=>$.current?.click(),qe=b=>{const T=b.target.files;T&&T.length>0&&ba(Array.from(T)),b.target.value=""},Ie=_.useCallback((b,T,R)=>{ba(Array.from(b),T,R)},[ba]),Ra=_.useCallback(()=>{const b=`layer-${++Pa}`,T=document.createElement("canvas");T.width=4e3,T.height=4e3;const R={id:b,name:`Drawing ${Pa}`,type:"drawing",visible:!0,locked:!1,opacity:1,blendMode:"source-over",x:-2e3,y:-2e3,width:4e3,height:4e3,scaleX:1,scaleY:1,rotation:0,flipH:!1,flipV:!1,drawingCanvas:T,filters:{...Nn},layerSaturation:100,globalHueRotate:0};return c(O=>[...O,R]),$t(b),b},[$t]),fl=_.useCallback(()=>{const b=`layer-${++Pa}`,T=gc(K,wt,Wt,B),R=ze(T),O=gi(T),E=M,P=(window.innerWidth/2-E.panX)/E.zoom,mt=(window.innerHeight/2-E.panY)/E.zoom,jt={id:b,name:`Text: ${K.substring(0,12)}`,type:"text",visible:!0,locked:!1,opacity:1,blendMode:"source-over",x:P-T.width/2,y:mt-T.height/2,width:T.width,height:T.height,scaleX:1,scaleY:1,rotation:0,flipH:!1,flipV:!1,filteredCanvas:R,thumbUrl:O,filters:{...Nn},layerSaturation:100,globalHueRotate:0,text:K,fontSize:wt,fontFamily:Wt,textColor:B};c(yt=>[...yt,jt]),$t(b),u("select")},[K,wt,Wt,B,M,$t]),Rl=_.useCallback(()=>{const b=`layer-${++Pa}`,T=xc(zt,Oe,m,qt,Ae),R=ze(T),O=gi(T),E=M,P=(window.innerWidth/2-E.panX)/E.zoom,mt=(window.innerHeight/2-E.panY)/E.zoom,jt=fn(T),yt={id:b,name:`Shape: ${zt}`,type:"shape",visible:!0,locked:!1,opacity:1,blendMode:"source-over",x:P-T.width/2,y:mt-T.height/2,width:T.width,height:T.height,scaleX:1,scaleY:1,rotation:0,flipH:!1,flipV:!1,filteredCanvas:R,thumbUrl:O,filters:{...Nn},layerSaturation:100,globalHueRotate:0,shapeType:zt,shapeColor:m,shapeFill:qt,shapeStrokeWidth:Ae,cropBounds:jt};c(lt=>[...lt,yt]),$t(b),u("select")},[zt,Oe,m,qt,Ae,M,$t]),Ou=_.useCallback((b,T)=>{c(R=>R.map(O=>{if(O.id!==b||O.type!=="text")return O;const E={...O,...T},P=E.text||"Text",mt=E.fontSize||64,jt=E.fontFamily||"Arial",yt=E.textColor||"#ffffff",lt=gc(P,mt,jt,yt),pt=Za(null,E.filters,void 0,E.globalHueRotate,lt);return{...E,width:lt.width,height:lt.height,filteredCanvas:pt,thumbUrl:gi(lt),name:`Text: ${P.substring(0,12)}`}}))},[]),bc=_.useCallback((b,T)=>{c(R=>R.map(O=>{if(O.id!==b||O.type!=="shape")return O;const E={...O,...T},P=E.shapeType||"circle",mt=E.shapeColor||"#4f7cff",jt=E.shapeFill!==void 0?E.shapeFill:!0,yt=E.shapeStrokeWidth||4,lt=Math.max(E.width,E.height),pt=xc(P,lt,mt,jt,yt),xt=Za(null,E.filters,void 0,E.globalHueRotate,pt),Ot=fn(pt);return{...E,filteredCanvas:xt,thumbUrl:gi(pt),name:`Shape: ${P}`,cropBounds:Ot}}))},[]),aa=_.useCallback((b,T)=>{c(R=>R.map(O=>{if(O.id!==b)return O;const E={...O,...T};if(("globalHueRotate"in T||"layerSaturation"in T)&&(E.type==="image"||E.type==="text"||E.type==="shape")){const mt=E.layerSaturation;if(E.sourceCanvas)E.filteredCanvas=Aa(E.sourceCanvas,E.filters,void 0,E.globalHueRotate,mt);else if(E.type==="text"){const jt=gc(E.text||"Text",E.fontSize||64,E.fontFamily||"Arial",E.textColor||"#ffffff");E.filteredCanvas=Za(null,E.filters,void 0,E.globalHueRotate,jt,mt)}else if(E.type==="shape"){const jt=xc(E.shapeType||"circle",Math.max(E.width,E.height),E.shapeColor||"#4f7cff",E.shapeFill!==!1,E.shapeStrokeWidth||4);E.filteredCanvas=Za(null,E.filters,void 0,E.globalHueRotate,jt,mt)}else E.image&&(E.filteredCanvas=Za(E.image,E.filters,void 0,E.globalHueRotate,void 0,mt))}return E}))},[]),pi=_.useCallback(()=>{if(de){zc();return}Jt();const b=ht.current;if(b.length===0&&tt.current){const T=tt.current;c(R=>R.filter(O=>O.id!==T)),f(null),p([]),r(!1),St.current.delete(T),At.current.delete(T)}else if(b.length>0){const T=new Set(b);c(R=>R.filter(O=>!T.has(O.id))),f(null),p([]),r(!1);for(const R of b)St.current.delete(R),At.current.delete(R)}},[Jt]),Rn=_.useCallback(b=>{c(T=>{const R=T.find(P=>P.id===b);if(!R)return T;const O=`layer-${++Pa}`,E={...R,id:O,name:`${R.name} copy`,x:R.x+30,y:R.y+30};return R.filteredCanvas&&(E.filteredCanvas=ze(R.filteredCanvas)),R.drawingCanvas&&(E.drawingCanvas=ze(R.drawingCanvas)),$t(O),[...T,E]})},[$t]),Yn=_.useCallback((b,T)=>{c(R=>{const O=R.findIndex(P=>P.id===b);if(O===-1)return R;const E=[...R];if(T==="top"){const[P]=E.splice(O,1);E.push(P)}else if(T==="bottom"){const[P]=E.splice(O,1);E.unshift(P)}else{const P=T==="up"?O+1:O-1;if(P<0||P>=R.length)return R;[E[O],E[P]]=[E[P],E[O]]}return E})},[]),rl=_.useCallback((b,T=!1)=>{const R=ht.current;R.length<2||c(O=>O.map(E=>{if(!R.includes(E.id))return E;const P={...E.filters,...b},mt={...E,filters:P},jt=E.layerSaturation;if(E.type==="image")E.sourceCanvas?mt.filteredCanvas=Aa(E.sourceCanvas,P,T?400:void 0,E.globalHueRotate,jt):E.image&&(mt.filteredCanvas=Za(E.image,P,T?400:void 0,E.globalHueRotate,void 0,jt));else if(E.type==="text"){const yt=gc(E.text||"Text",E.fontSize||64,E.fontFamily||"Arial",E.textColor||"#ffffff");mt.filteredCanvas=Za(null,P,T?400:void 0,E.globalHueRotate,yt,jt)}else if(E.type==="shape"){const yt=xc(E.shapeType||"circle",Math.max(E.width,E.height),E.shapeColor||"#4f7cff",E.shapeFill!==!1,E.shapeStrokeWidth||4);mt.filteredCanvas=Za(null,P,T?400:void 0,E.globalHueRotate,yt,jt)}else E.type==="drawing"&&E.drawingCanvas&&(mt.filteredCanvas=Aa(E.drawingCanvas,P,T?400:void 0,E.globalHueRotate,jt));return mt}))},[]),Xn=_.useCallback((b,T,R=!1)=>{c(O=>O.map(E=>{if(E.id!==b)return E;const P={...E.filters,...T},mt={...E,filters:P},jt=E.layerSaturation;if(E.type==="image")E.sourceCanvas?mt.filteredCanvas=Aa(E.sourceCanvas,P,R?400:void 0,E.globalHueRotate,jt):E.image&&(mt.filteredCanvas=Za(E.image,P,R?400:void 0,E.globalHueRotate,void 0,jt));else if(E.type==="text"){const yt=gc(E.text||"Text",E.fontSize||64,E.fontFamily||"Arial",E.textColor||"#ffffff");mt.filteredCanvas=Za(null,P,R?400:void 0,E.globalHueRotate,yt,jt)}else if(E.type==="shape"){const yt=xc(E.shapeType||"circle",Math.max(E.width,E.height),E.shapeColor||"#4f7cff",E.shapeFill!==!1,E.shapeStrokeWidth||4);mt.filteredCanvas=Za(null,P,R?400:void 0,E.globalHueRotate,yt,jt)}else E.type==="drawing"&&E.drawingCanvas&&(mt.filteredCanvas=Aa(E.drawingCanvas,P,R?400:void 0,E.globalHueRotate,jt));return mt}))},[]),Ve=_.useCallback((b,T)=>{c(R=>R.map(O=>O.id!==b?O:T==="h"?{...O,flipH:!O.flipH}:{...O,flipV:!O.flipV}))},[]),Sc=_.useCallback(()=>{A({panX:window.innerWidth/2,panY:window.innerHeight/2,zoom:1})},[]),Mc=_.useCallback(()=>{const b=ht.current,T=et.current;if(b.length>0)nt(T.filter(R=>b.includes(R.id)));else if(tt.current){const R=T.find(O=>O.id===tt.current);R&&nt([R])}},[]),dn=_.useCallback(()=>{if(bt.length===0)return;Jt();const b=bt.map(R=>{const O=`layer-${++Pa}`,E={...R,id:O,name:`${R.name} (Copy)`,x:R.x+30,y:R.y+30};return R.filteredCanvas&&(E.filteredCanvas=ze(R.filteredCanvas)),R.drawingCanvas&&(E.drawingCanvas=ze(R.drawingCanvas)),E});c(R=>[...R,...b]);const T=b.map(R=>R.id);f(T[T.length-1]),p(T),r(!0)},[bt,Jt]),On=_.useCallback(()=>{const b=ht.current,T=et.current,R=b.length>0?b:tt.current?[tt.current]:[];if(R.length===0)return;const E=!T.some(P=>R.includes(P.id)&&P.locked);c(P=>P.map(mt=>R.includes(mt.id)?{...mt,locked:E}:mt))},[]),Hu=_.useCallback(b=>{const T=et.current.find(E=>E.id===b);if(!T?.drawingCanvas)return;const R=ze(T.drawingCanvas),O=St.current.get(b)||[];O.push(R),O.length>Zt&&O.shift(),St.current.set(b,O),At.current.set(b,[]),Rt(b)},[Rt]),Cc=_.useCallback(b=>{const T=et.current.find(O=>O.id===b);if(!T?.drawingCanvas)return;const R=Wo(T.drawingCanvas);aa(b,{paintedBounds:R.paintedBounds,outlineCanvas:R.outlineCanvas}),Rt(b)},[aa,Rt]),vi=_.useCallback(()=>{const b=tt.current;if(b){const T=et.current.find(O=>O.id===b);if(T&&T.wandHistory&&T.wandHistory.length>0){const O=T.sourceCanvas?ze(T.sourceCanvas):(()=>{const pt=document.createElement("canvas");return pt.width=T.width,pt.height=T.height,T.image&&pt.getContext("2d").drawImage(T.image,0,0),pt})(),E=T.wandFuture?[...T.wandFuture]:[];E.push(O);const P=[...T.wandHistory],mt=P.pop(),jt=P.length>0,yt=jt?fn(mt):void 0,lt=jt?Aa(mt,T.filters,void 0,T.globalHueRotate,T.layerSaturation):T.image?Za(T.image,T.filters,void 0,T.globalHueRotate,void 0,T.layerSaturation):Aa(mt,T.filters,void 0,T.globalHueRotate,T.layerSaturation);c(pt=>pt.map(xt=>xt.id===b?{...xt,sourceCanvas:jt?mt:void 0,filteredCanvas:lt,cropBounds:yt,opacity:xt.opacity,wandHistory:P,wandFuture:E}:xt));return}const R=St.current.get(b);if(R&&R.length>0&&T?.drawingCanvas){const O=ze(T.drawingCanvas),E=At.current.get(b)||[];E.push(O),At.current.set(b,E);const P=R.pop(),mt=T.drawingCanvas.getContext("2d");mt.clearRect(0,0,T.drawingCanvas.width,T.drawingCanvas.height),mt.drawImage(P,0,0);const jt=Wo(T.drawingCanvas);aa(b,{paintedBounds:jt.paintedBounds,outlineCanvas:jt.outlineCanvas}),Rt(b),c(yt=>[...yt]);return}}k()},[aa,Rt,k]),jc=_.useCallback(()=>{const b=tt.current;if(b){const T=et.current.find(O=>O.id===b);if(T&&T.wandFuture&&T.wandFuture.length>0){const O=T.sourceCanvas?ze(T.sourceCanvas):(()=>{const lt=document.createElement("canvas");return lt.width=T.width,lt.height=T.height,T.image&&lt.getContext("2d").drawImage(T.image,0,0),lt})(),E=T.wandHistory?[...T.wandHistory]:[];E.push(O);const P=[...T.wandFuture],mt=P.pop(),jt=fn(mt),yt=Aa(mt,T.filters,void 0,T.globalHueRotate,T.layerSaturation);c(lt=>lt.map(pt=>pt.id===b?{...pt,sourceCanvas:mt,filteredCanvas:yt,cropBounds:jt,opacity:pt.opacity,wandHistory:E,wandFuture:P}:pt));return}const R=At.current.get(b);if(R&&R.length>0&&T?.drawingCanvas){const O=ze(T.drawingCanvas),E=St.current.get(b)||[];E.push(O),St.current.set(b,E);const P=R.pop(),mt=T.drawingCanvas.getContext("2d");mt.clearRect(0,0,T.drawingCanvas.width,T.drawingCanvas.height),mt.drawImage(P,0,0);const jt=Wo(T.drawingCanvas);aa(b,{paintedBounds:jt.paintedBounds,outlineCanvas:jt.outlineCanvas}),Rt(b),c(yt=>[...yt]);return}}_t()},[aa,Rt,_t]),Yl=_.useCallback(b=>{if(u(b),V(!1),Dt(!1),Kt(!1),Ct(!1),Ne(!1),b!=="rectSelect"&&b!=="lassoSelect"&&b!=="magicWand"&&Ja(null),b==="brush"||b==="eraser"){V(!0);const T=et.current,R=tt.current;if(T.find(P=>P.id===R)?.type==="drawing")return;const E=[...T].reverse().find(P=>P.type==="drawing");E?$t(E.id):Ra()}else b==="magicWand"?Dt(!0):b==="text"?Kt(!0):b==="shape"?Ct(!0):b==="pen"&&Ne(!0)},[Ra,$t]),dl=_.useCallback(()=>{const b=y.filter(lt=>lt.visible);if(b.length===0)return;let T=1/0,R=1/0,O=-1/0,E=-1/0;for(const lt of b){const pt=lt.width*lt.scaleX,xt=lt.height*lt.scaleY;T=Math.min(T,lt.x),R=Math.min(R,lt.y),O=Math.max(O,lt.x+pt),E=Math.max(E,lt.y+xt)}const P=Math.ceil(O-T),mt=Math.ceil(E-R);if(P<=0||mt<=0)return;const jt=document.createElement("canvas");jt.width=P,jt.height=mt;const yt=jt.getContext("2d");yt.fillStyle="#151725",yt.fillRect(0,0,P,mt);for(const lt of b){const pt=lt.type==="drawing"?lt.drawingCanvas:lt.filteredCanvas;if(!pt)continue;yt.save(),yt.globalAlpha=lt.opacity,lt.layerSaturation!==100&&(yt.filter=`saturate(${lt.layerSaturation}%)`);const xt=lt.x-T+lt.width*lt.scaleX/2,Ot=lt.y-R+lt.height*lt.scaleY/2;yt.translate(xt,Ot),yt.rotate(lt.rotation),yt.scale(lt.scaleX*(lt.flipH?-1:1),lt.scaleY*(lt.flipV?-1:1)),yt.translate(-lt.width/2,-lt.height/2),yt.drawImage(pt,0,0,lt.width,lt.height),yt.restore()}jt.toBlob(lt=>{if(!lt)return;const pt=URL.createObjectURL(lt),xt=document.createElement("a");xt.href=pt,xt.download=`freecanvas-export-${Date.now()}.png`,document.body.appendChild(xt),xt.click(),document.body.removeChild(xt),URL.revokeObjectURL(pt)},"image/png")},[y]),La=_.useCallback(b=>{const T=y.find(jt=>jt.id===b);if(!T)return;const R=T.type==="drawing"?T.drawingCanvas:T.filteredCanvas;if(!R)return;const O=Math.round(T.width*T.scaleX),E=Math.round(T.height*T.scaleY);if(O<=0||E<=0)return;const P=document.createElement("canvas");P.width=O,P.height=E;const mt=P.getContext("2d");mt.save(),mt.globalAlpha=T.opacity,mt.translate(O/2,E/2),mt.scale(T.flipH?-1:1,T.flipV?-1:1),mt.translate(-O/2,-E/2),mt.drawImage(R,0,0,T.width,T.height,0,0,O,E),mt.restore(),P.toBlob(jt=>{if(!jt)return;const yt=URL.createObjectURL(jt),lt=document.createElement("a");lt.href=yt,lt.download=`${T.name}-${Date.now()}.png`,document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),URL.revokeObjectURL(yt)},"image/png")},[y]),da=_.useCallback((b,T)=>{if(!C)return;const R=et.current.find(O=>O.id===C);if(R){if(R.type==="drawing"&&R.drawingCanvas){const O=ze(b);aa(C,{filteredCanvas:O})}else if(R.type==="image"||R.type==="text"||R.type==="shape"){const O=ze(b),E=Aa(O,R.filters,void 0,R.globalHueRotate,R.layerSaturation),P=fn(O);let mt={sourceCanvas:O,filteredCanvas:E,cropBounds:P};if(T&&(T.offsetX!==0||T.offsetY!==0)){const jt=Math.cos(R.rotation),yt=Math.sin(R.rotation),lt=T.offsetX*jt-T.offsetY*yt,pt=T.offsetX*yt+T.offsetY*jt,xt=lt*R.scaleX,Ot=pt*R.scaleY;mt.x=R.x+xt,mt.y=R.y+Ot}aa(C,mt)}z(!1)}},[C,aa]),Ec=_.useCallback((b,T,R)=>{const O=et.current.find(ta=>ta.id===b);if(!O||O.type!=="image"||!O.image)return;const P=O.sourceCanvas||(()=>{const ta=document.createElement("canvas");return ta.width=O.width,ta.height=O.height,ta.getContext("2d").drawImage(O.image,0,0),ta})(),mt=O.wandHistory?[...O.wandHistory]:[];mt.push(ze(P)),mt.length>15&&mt.shift();const jt=P.getContext("2d"),yt=P.width,lt=P.height,pt=jt.getImageData(0,0,yt,lt),xt=pt.data,Ot=O.width*O.scaleX,fe=O.height*O.scaleY,te=O.x+Ot/2,ne=O.y+fe/2,Me=Math.cos(-O.rotation),ue=Math.sin(-O.rotation),ee=T-te,Tt=R-ne,_e=ee*Me-Tt*ue,an=ee*ue+Tt*Me;let Xa=_e+Ot/2,hn=an+fe/2;O.flipH&&(Xa=Ot-Xa),O.flipV&&(hn=fe-hn);const ma=Math.round(Xa/O.scaleX),nn=Math.round(hn/O.scaleY);if(ma<0||ma>=yt||nn<0||nn>=lt||xt[(nn*yt+ma)*4+3]===0)return;const ml=(nn*yt+ma)*4,Un=xt[ml],Gn=xt[ml+1],wi=xt[ml+2],qn=Et,mn=new Uint8Array(yt*lt),ln=[ma,nn];for(mn[nn*yt+ma]=1;ln.length>0;){const ta=ln.pop(),Oa=ln.pop(),ku=(ta*yt+Oa)*4;xt[ku+3]=0;const Qu=[[Oa-1,ta],[Oa+1,ta],[Oa,ta-1],[Oa,ta+1]];for(const[gl,Bl]of Qu){if(gl<0||gl>=yt||Bl<0||Bl>=lt)continue;const Ai=Bl*yt+gl;if(mn[Ai])continue;mn[Ai]=1;const Ul=Ai*4;if(xt[Ul+3]===0)continue;const Zu=Math.abs(xt[Ul]-Un),Vu=Math.abs(xt[Ul+1]-Gn),Ku=Math.abs(xt[Ul+2]-wi);(Zu+Vu+Ku)/3<=qn&&ln.push(gl,Bl)}}jt.putImageData(pt,0,0);const Gu=fn(P),qu=Aa(P,O.filters,void 0,O.globalHueRotate,O.layerSaturation);c(ta=>ta.map(Oa=>Oa.id===b?{...Oa,sourceCanvas:P,filteredCanvas:qu,cropBounds:Gu,opacity:Oa.opacity,wandHistory:mt,wandFuture:[]}:Oa))},[Et]),zc=_.useCallback(()=>{if(!de)return;const b=et.current.find(xt=>xt.id===de.layerId);if(!b||b.type!=="image"&&b.type!=="text"&&b.type!=="shape")return;const T=b.sourceCanvas,R=T?ze(T):(()=>{const xt=document.createElement("canvas");return xt.width=b.width,xt.height=b.height,b.image?xt.getContext("2d").drawImage(b.image,0,0):b.filteredCanvas&&xt.getContext("2d").drawImage(b.filteredCanvas,0,0,b.width,b.height),xt})(),O=b.wandHistory?[...b.wandHistory]:[];O.push(ze(R)),O.length>15&&O.shift();const E=R.getContext("2d"),P=R.width,mt=R.height,yt=ze(R).getContext("2d");if(de.type==="rect"&&de.rect){const xt=de.rect,Ot=Math.max(0,xt.x),fe=Math.max(0,xt.y),te=Math.min(P,xt.x+xt.w),ne=Math.min(mt,xt.y+xt.h),Me=te-Ot,ue=ne-fe;if(Me>0&&ue>0){const ee=yt.getImageData(Ot,fe,Me,ue),Tt=document.createElement("canvas");Tt.width=Me,Tt.height=ue,Tt.getContext("2d").putImageData(ee,0,0),vt(Tt),gt({clipX:Ot,clipY:fe,clipW:Me,clipH:ue,sourceX:b.x,sourceY:b.y,sourceScaleX:b.scaleX,sourceScaleY:b.scaleY,sourceRotation:b.rotation})}E.clearRect(xt.x,xt.y,xt.w,xt.h)}else if(de.type==="lasso"&&de.path&&de.path.length>2){let xt=P,Ot=mt,fe=0,te=0;for(const[Tt,_e]of de.path)Tt<xt&&(xt=Tt),Tt>fe&&(fe=Tt),_e<Ot&&(Ot=_e),_e>te&&(te=_e);xt=Math.max(0,Math.floor(xt)),Ot=Math.max(0,Math.floor(Ot)),fe=Math.min(P,Math.ceil(fe)),te=Math.min(mt,Math.ceil(te));const ne=fe-xt,Me=te-Ot,ue=document.createElement("canvas");ue.width=ne>0?ne:1,ue.height=Me>0?Me:1;const ee=ue.getContext("2d");ee.translate(-xt,-Ot),ee.beginPath(),ee.moveTo(de.path[0][0],de.path[0][1]);for(let Tt=1;Tt<de.path.length;Tt++)ee.lineTo(de.path[Tt][0],de.path[Tt][1]);ee.closePath(),ee.clip(),ee.drawImage(R,0,0),vt(ue),gt({clipX:xt,clipY:Ot,clipW:ne,clipH:Me,sourceX:b.x,sourceY:b.y,sourceScaleX:b.scaleX,sourceScaleY:b.scaleY,sourceRotation:b.rotation}),E.save(),E.beginPath(),E.moveTo(de.path[0][0],de.path[0][1]);for(let Tt=1;Tt<de.path.length;Tt++)E.lineTo(de.path[Tt][0],de.path[Tt][1]);E.closePath(),E.clip(),E.clearRect(0,0,P,mt),E.restore()}else if(de.type==="wand"&&de.mask){const xt=E.getImageData(0,0,P,mt),Ot=xt.data,fe=de.mask;for(let te=0;te<fe.length;te++)if(fe[te]){const ne=te*4;ne+3<Ot.length&&(Ot[ne+3]=0)}E.putImageData(xt,0,0)}const lt=fn(R),pt=Aa(R,b.filters,void 0,b.globalHueRotate,b.layerSaturation);c(xt=>xt.map(Ot=>Ot.id===de.layerId?{...Ot,sourceCanvas:R,filteredCanvas:pt,cropBounds:lt,opacity:Ot.opacity,wandHistory:O,wandFuture:[]}:Ot)),Ja(null)},[de]),yi=_.useCallback(()=>{if(!W)return;Jt();const b=`layer-${++Pa}`,T=W.width,R=W.height,O=ze(W),E=document.createElement("canvas");E.width=48,E.height=48;const P=E.getContext("2d"),mt=T/R;let jt=48,yt=48;mt>1?yt=48/mt:jt=48*mt,P.drawImage(W,(48-jt)/2,(48-yt)/2,jt,yt);let lt,pt,xt,Ot,fe;if(j){const ee=j.sourceRotation||0,Tt=j.clipX*j.sourceScaleX,_e=j.clipY*j.sourceScaleY,an=Math.cos(ee),Xa=Math.sin(ee),hn=Tt*an-_e*Xa,ma=Tt*Xa+_e*an;lt=j.sourceX+hn,pt=j.sourceY+ma,xt=j.sourceScaleX,Ot=j.sourceScaleY,fe=ee}else{const ee=M;lt=(window.innerWidth/2-ee.panX)/ee.zoom-T/2,pt=(window.innerHeight/2-ee.panY)/ee.zoom-R/2,xt=1,Ot=1,fe=0}const te=new Image;te.src=W.toDataURL();const ne=fn(W),Me=ze(W),ue={id:b,name:"Pasted Selection",type:"image",visible:!0,locked:!1,opacity:1,blendMode:"source-over",x:lt,y:pt,width:T,height:R,scaleX:xt,scaleY:Ot,rotation:fe,flipH:!1,flipV:!1,image:te,thumbUrl:E.toDataURL(),filteredCanvas:O,sourceCanvas:Me,filters:{...Nn},layerSaturation:100,globalHueRotate:0,wandHistory:[],wandFuture:[],selectionHistory:[],selectionFuture:[],cropBounds:ne};c(ee=>[...ee,ue]),$t(b),u("select")},[W,j,M,$t,Jt]),Tc=_.useCallback(()=>{if($e.length<2)return;const b=$e;let T=1/0,R=1/0,O=-1/0,E=-1/0;for(const[ue,ee]of b)ue<T&&(T=ue),ee<R&&(R=ee),ue>O&&(O=ue),ee>E&&(E=ee);const P=Na+4;T-=P,R-=P,O+=P,E+=P;const mt=Math.max(1,Math.ceil(O-T)),jt=Math.max(1,Math.ceil(E-R)),yt=document.createElement("canvas");yt.width=mt,yt.height=jt;const lt=yt.getContext("2d");lt.clearRect(0,0,mt,jt),lt.strokeStyle=Va,lt.fillStyle=Va,lt.lineWidth=Na,lt.lineCap="round",lt.lineJoin="round",lt.beginPath(),lt.moveTo(b[0][0]-T,b[0][1]-R);for(let ue=1;ue<b.length;ue++)lt.lineTo(b[ue][0]-T,b[ue][1]-R);Fe&&(lt.closePath(),lt.fill()),lt.stroke();const pt=`layer-${++Pa}`,xt=ze(yt),Ot=Aa(xt,{...Nn},void 0,0,100),fe=gi(yt),te=new Image;te.src=yt.toDataURL();const ne=fn(yt),Me={id:pt,name:"Pen Path",type:"image",visible:!0,locked:!1,opacity:1,blendMode:"source-over",x:T,y:R,width:mt,height:jt,scaleX:1,scaleY:1,rotation:0,flipH:!1,flipV:!1,image:te,sourceCanvas:xt,filteredCanvas:Ot,thumbUrl:fe,filters:{...Nn},layerSaturation:100,globalHueRotate:0,cropBounds:ne,wandHistory:[],wandFuture:[],selectionHistory:[],selectionFuture:[]};c(ue=>[...ue,Me]),$t(pt),oa([]),tn([]),rn([]),u("select")},[$e,Va,Na,Fe,$t]),Xl=_.useCallback(b=>{const T=ht.current;if(T.length<2)return;const R=et.current.filter(Tt=>T.includes(Tt.id)&&Tt.visible);if(R.length<2)return;Jt();let O=1/0,E=1/0,P=-1/0,mt=-1/0;for(const Tt of R)O=Math.min(O,Tt.x),E=Math.min(E,Tt.y),P=Math.max(P,Tt.x+Tt.width*Tt.scaleX),mt=Math.max(mt,Tt.y+Tt.height*Tt.scaleY);const jt=Math.ceil(P-O),yt=Math.ceil(mt-E);if(jt<=0||yt<=0)return;const lt=document.createElement("canvas");lt.width=jt,lt.height=yt;const pt=lt.getContext("2d"),xt=Tt=>{const _e=Tt.type==="drawing"?Tt.drawingCanvas:Tt.filteredCanvas;if(!_e)return;pt.save(),pt.globalAlpha=Tt.opacity;const an=Tt.x-O+Tt.width*Tt.scaleX/2,Xa=Tt.y-E+Tt.height*Tt.scaleY/2;pt.translate(an,Xa),pt.rotate(Tt.rotation),pt.scale(Tt.scaleX*(Tt.flipH?-1:1),Tt.scaleY*(Tt.flipV?-1:1)),pt.translate(-Tt.width/2,-Tt.height/2),pt.drawImage(_e,0,0,Tt.width,Tt.height),pt.restore()};if(b==="union")for(const Tt of R)xt(Tt);else{xt(R[0]);for(let Tt=1;Tt<R.length;Tt++)b==="subtract"?pt.globalCompositeOperation="destination-out":b==="intersect"?pt.globalCompositeOperation="destination-in":b==="exclude"&&(pt.globalCompositeOperation="xor"),xt(R[Tt]),pt.globalCompositeOperation="source-over"}const Ot=`layer-${++Pa}`,fe=ze(lt),te=gi(lt),ne=new Image;ne.src=lt.toDataURL();const Me=fn(lt),ue=ze(lt),ee={id:Ot,name:`Bool(${b})`,type:"image",visible:!0,locked:!1,opacity:1,blendMode:"source-over",x:O,y:E,width:jt,height:yt,scaleX:1,scaleY:1,rotation:0,flipH:!1,flipV:!1,image:ne,filteredCanvas:fe,thumbUrl:te,sourceCanvas:ue,filters:{...Nn},layerSaturation:100,globalHueRotate:0,cropBounds:Me,wandHistory:[],wandFuture:[],selectionHistory:[],selectionFuture:[]};c(Tt=>[...Tt,ee]),$t(Ot)},[Jt,$t]),_u=_.useCallback(b=>{c(T=>T.map(R=>{if(R.id!==b)return R;if(R.warpMesh)return{...R,warpMesh:void 0};{const P=R.width,mt=R.height,jt=[];for(let yt=0;yt<4;yt++)for(let lt=0;lt<4;lt++)jt.push({x:lt/3*P,y:yt/3*mt});return{...R,warpMesh:{rows:4,cols:4,points:jt}}}}))},[]),ha=_.useCallback(b=>{c(T=>T.map(R=>{if(R.id!==b||!R.warpMesh)return R;const{rows:O,cols:E}=R.warpMesh,P=R.width,mt=R.height,jt=[];for(let yt=0;yt<O;yt++)for(let lt=0;lt<E;lt++)jt.push({x:lt/(E-1)*P,y:yt/(O-1)*mt});return{...R,warpMesh:{rows:O,cols:E,points:jt}}}))},[]),Ol=_.useCallback(()=>{const b=ht.current;if(b.length<2)return;const T=`g-${Date.now()}`;c(R=>R.map(O=>b.includes(O.id)?{...O,groupId:T}:O))},[]),bi=_.useCallback(()=>{const b=ht.current;c(T=>T.map(R=>b.includes(R.id)?{...R,groupId:void 0}:R))},[]),Si=_.useCallback(()=>{y.length!==0&&(Jt(),c([]),f(null),p([]),r(!1),Ja(null),vt(null),gt(null))},[y.length,Jt]),Hn=_.useCallback(()=>{u("select"),V(!1),Dt(!1),Kt(!1),Ct(!1),Ne(!1),Ja(null),oa([]),tn([]),rn([]),v({size:8,color:"#ffffff",opacity:1}),Bt(30)},[]),Mi=_.useCallback(()=>{const b=et.current.find(pt=>pt.id===tt.current);if(!b?.groupId)return;const T=et.current.filter(pt=>pt.groupId===b.groupId&&pt.visible);if(T.length===0)return;let R=1/0,O=1/0,E=-1/0,P=-1/0;for(const pt of T)R=Math.min(R,pt.x),O=Math.min(O,pt.y),E=Math.max(E,pt.x+pt.width*pt.scaleX),P=Math.max(P,pt.y+pt.height*pt.scaleY);const mt=Math.ceil(E-R),jt=Math.ceil(P-O);if(mt<=0||jt<=0)return;const yt=document.createElement("canvas");yt.width=mt,yt.height=jt;const lt=yt.getContext("2d");for(const pt of T){const xt=pt.type==="drawing"?pt.drawingCanvas:pt.filteredCanvas;if(!xt)continue;lt.save(),lt.globalAlpha=pt.opacity;const Ot=pt.x-R+pt.width*pt.scaleX/2,fe=pt.y-O+pt.height*pt.scaleY/2;lt.translate(Ot,fe),lt.rotate(pt.rotation),lt.scale(pt.scaleX*(pt.flipH?-1:1),pt.scaleY*(pt.flipV?-1:1)),lt.translate(-pt.width/2,-pt.height/2),lt.drawImage(xt,0,0,pt.width,pt.height),lt.restore()}yt.toBlob(pt=>{if(!pt)return;const xt=URL.createObjectURL(pt),Ot=document.createElement("a");Ot.href=xt,Ot.download=`group-export-${Date.now()}.png`,document.body.appendChild(Ot),Ot.click(),document.body.removeChild(Ot),URL.revokeObjectURL(xt)},"image/png")},[]),Ci=_.useCallback(b=>{b.preventDefault(),b.stopPropagation();const T="touches"in b?b.touches[0].clientX:b.clientX,R=X?0:L;le.current={active:!0,startX:T,startWidth:R};const O=P=>{P.preventDefault();const mt="touches"in P?P.touches[0].clientX:P.clientX,jt=le.current.startX-mt,yt=Math.max(0,Math.min(400,le.current.startWidth+jt));yt<80?(Q(!0),J(0)):(Q(!1),J(yt))},E=()=>{le.current.active=!1,document.removeEventListener("touchmove",O),document.removeEventListener("mousemove",O),document.removeEventListener("touchend",E),document.removeEventListener("mouseup",E)};document.addEventListener("touchmove",O,{passive:!1}),document.addEventListener("mousemove",O),document.addEventListener("touchend",E),document.addEventListener("mouseup",E)},[L,X]),_n=_.useCallback(()=>{X?(Q(!1),J(280)):(Q(!0),J(0))},[X]),Wa=y.find(b=>b.id===C)||null,ji=h==="brush"||h==="eraser",Ei=Wa?.type==="drawing",zi=Nt.current.past.length>0,Bu=Nt.current.future.length>0,Uu=Wa?.wandHistory?Wa.wandHistory.length>0:!1,Hl=Wa?.wandFuture?Wa.wandFuture.length>0:!1,Ya=Uu||Ei&&ft>0||zi,_l=Hl||Ei&&rt>0||Bu,hl=S.length>0||C!==null,Bn=bt.length>0,en=y.some(b=>(S.includes(b.id)||b.id===C)&&b.locked),wc=[{id:"select",icon:"↖",label:"Select"},{id:"pan",icon:"✋",label:"Pan"},{id:"rectSelect",icon:"⬜",label:"Rect Sel"},{id:"lassoSelect",icon:"✏",label:"Lasso"},{id:"magicWand",icon:"🪄",label:"Wand"},{id:"brush",icon:"🖌",label:"Brush"},{id:"eraser",icon:"⌫",label:"Eraser"},{id:"text",icon:"T",label:"Text"},{id:"shape",icon:"⬟",label:"Shape"},{id:"pen",icon:"✒",label:"Pen"}],Ti=["Arial","Georgia","Courier New","Verdana","Impact","Comic Sans MS","Times New Roman","Trebuchet MS"],Ac=[{id:"circle",icon:"●"},{id:"square",icon:"■"},{id:"triangle",icon:"▲"},{id:"star",icon:"★"},{id:"heart",icon:"♥"},{id:"diamond",icon:"◆"},{id:"arrow",icon:"⬆"},{id:"hexagon",icon:"⬡"},{id:"arch",icon:"⌒"},{id:"curve",icon:"〜"}];return s.jsxs("div",{className:"h-screen w-screen flex flex-col bg-[#151725] text-gray-200 overflow-hidden select-none",style:{touchAction:"none"},children:[s.jsx("button",{onClick:()=>z(!0),style:{position:"fixed",left:12,top:12,zIndex:999,background:"#4f46e5",color:"white",borderRadius:8,padding:"8px 12px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"网格透视"}),H&&s.jsx(cg,{selectedLayer:Wa,onApply:da,onClose:()=>z(!1)}),s.jsxs("div",{className:"h-12 bg-[#1a1c2e] border-b border-[#2a2d45] flex items-center px-2 gap-1.5 shrink-0 z-20",children:[s.jsxs("div",{className:"font-bold text-sm tracking-wide flex items-center gap-1.5",children:[s.jsx("span",{className:"text-[#4f7cff] text-lg",children:"∞"}),s.jsx("span",{className:"bg-gradient-to-r from-[#4f7cff] to-[#a78bfa] bg-clip-text text-transparent hidden sm:inline",children:"FreeCanvas"})]}),s.jsx("div",{className:"w-px h-6 bg-[#2a2d45]"}),s.jsx("button",{onClick:Da,className:"px-3 py-2 bg-[#4f7cff] active:bg-[#3d6ae8] rounded-lg text-[12px] font-medium transition-all active:scale-95",children:"📥 Import"}),s.jsx("button",{onClick:dl,className:"px-3 py-2 bg-[#252840] active:bg-[#2f3358] rounded-lg text-[12px] text-gray-300 transition-colors active:scale-95",children:"📤 Export"}),s.jsx("div",{className:"w-px h-6 bg-[#2a2d45]"}),s.jsx("button",{onClick:vi,disabled:!Ya,className:`w-9 h-9 flex items-center justify-center rounded-lg transition-all active:scale-90 ${Ya?"text-gray-300 active:bg-[#4f7cff]":"text-gray-600 cursor-not-allowed"}`,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 7v6h6"}),s.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]})}),s.jsx("button",{onClick:jc,disabled:!_l,className:`w-9 h-9 flex items-center justify-center rounded-lg transition-all active:scale-90 ${_l?"text-gray-300 active:bg-[#4f7cff]":"text-gray-600 cursor-not-allowed"}`,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 7v6h-6"}),s.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3L21 13"})]})}),s.jsx("div",{className:"flex-1"}),s.jsx("button",{onClick:Sc,className:"px-2 py-1.5 bg-[#252840] active:bg-[#2f3358] rounded-lg text-[11px] text-gray-400 transition-colors active:scale-95",children:"⟳"}),s.jsxs("div",{className:"text-[11px] text-gray-500 tabular-nums w-10 text-right",children:[Math.round(M.zoom*100),"%"]}),s.jsx("div",{className:"w-px h-6 bg-[#2a2d45]"}),s.jsx("button",{onClick:_n,className:"px-2 py-1.5 bg-[#252840] active:bg-[#2f3358] rounded-lg text-[11px] text-gray-400 transition-colors active:scale-95",children:X?"☰":"✕"}),s.jsx("button",{onClick:Hn,className:"px-2 py-1.5 bg-[#252840] active:bg-[#2f3358] rounded-lg text-[11px] text-gray-400 transition-colors active:scale-95",title:"Refresh Tools",children:"🔄"})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[s.jsxs("div",{className:"w-14 bg-[#1a1c2e] border-r border-[#2a2d45] flex flex-col items-center py-2 shrink-0 z-10 gap-1",children:[wc.map(b=>s.jsx("button",{onClick:()=>Yl(b.id),className:`w-11 h-11 flex items-center justify-center rounded-xl text-lg transition-all active:scale-90 ${h===b.id?"bg-[#4f7cff] text-white shadow-lg shadow-[#4f7cff]/30":"text-gray-400 active:bg-[#252840]"}`,title:b.label,children:b.id==="text"?s.jsx("span",{className:"font-bold text-[18px]",children:"T"}):b.icon},b.id)),s.jsx("div",{className:"w-8 h-px bg-[#2a2d45] my-1"}),hl&&s.jsx("button",{onClick:Mc,className:"w-11 h-11 flex items-center justify-center rounded-xl text-lg transition-all active:scale-90 text-gray-400 active:bg-[#252840]",title:"Copy",children:"📋"}),Bn&&s.jsx("button",{onClick:dn,className:"w-11 h-11 flex items-center justify-center rounded-xl text-lg transition-all active:scale-90 text-gray-400 active:bg-[#252840]",title:`Paste (${bt.length})`,children:"📄"}),hl&&s.jsx("button",{onClick:On,className:`w-11 h-11 flex items-center justify-center rounded-xl text-lg transition-all active:scale-90 ${en?"text-yellow-500":"text-gray-400 active:bg-[#252840]"}`,title:en?"Unlock":"Lock",children:en?"🔒":"🔓"}),hl&&s.jsx("button",{onClick:pi,className:"w-11 h-11 flex items-center justify-center rounded-xl text-lg transition-all active:scale-90 text-red-400 active:bg-red-900/40",title:"Delete",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),s.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),s.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),de&&s.jsxs("button",{onClick:zc,className:"w-11 h-11 flex flex-col items-center justify-center rounded-xl text-[10px] transition-all active:scale-90 text-orange-400 active:bg-orange-900/40",title:"Delete Selection",children:[s.jsx("span",{className:"text-lg",children:"✂"}),s.jsx("span",{className:"text-[8px]",children:"Cut"})]}),de&&s.jsx("button",{onClick:()=>Ja(null),className:"w-11 h-11 flex items-center justify-center rounded-xl text-sm transition-all active:scale-90 text-gray-400 active:bg-[#252840]",title:"Clear Selection",children:"✕"}),W&&s.jsxs("button",{onClick:yi,className:"w-11 h-11 flex flex-col items-center justify-center rounded-xl text-[10px] transition-all active:scale-90 text-green-400 active:bg-green-900/40",title:"Paste Selection",children:[s.jsx("span",{className:"text-lg",children:"📋"}),s.jsx("span",{className:"text-[8px]",children:"Paste"})]}),S.length>1&&s.jsx("button",{onClick:Ol,className:"w-11 h-11 flex items-center justify-center rounded-xl text-sm transition-all active:scale-90 text-green-400 active:bg-green-900/40",title:"Group",children:"⊞"}),Wa?.groupId&&s.jsx("button",{onClick:bi,className:"w-11 h-11 flex items-center justify-center rounded-xl text-sm transition-all active:scale-90 text-gray-400 active:bg-[#252840]",title:"Ungroup",children:"⊟"}),Wa?.groupId&&s.jsxs("button",{onClick:Mi,className:"w-11 h-11 flex flex-col items-center justify-center rounded-xl text-[10px] transition-all active:scale-90 text-purple-400 active:bg-purple-900/40",title:"Export Group",children:[s.jsx("span",{className:"text-sm",children:"📦"}),s.jsx("span",{className:"text-[7px]",children:"Export"})]}),S.length>1&&s.jsx("div",{className:"text-[9px] text-[#4f7cff] font-medium leading-tight text-center px-1",children:S.length}),s.jsx("div",{className:"flex-1"}),ji&&s.jsx("button",{onClick:()=>V(b=>!b),className:"w-11 h-11 flex items-center justify-center rounded-xl active:bg-[#252840]",children:s.jsx("div",{className:"rounded-full border border-gray-500",style:{width:Math.min(36,Math.max(4,d.size*.5)),height:Math.min(36,Math.max(4,d.size*.5)),backgroundColor:h==="brush"?d.color:"transparent",opacity:d.opacity}})})]}),I&&ji&&s.jsxs("div",{className:"absolute left-16 top-2 z-30 bg-[#1a1c2e] border border-[#2a2d45] rounded-xl p-3 shadow-2xl shadow-black/50 w-52",onTouchStart:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-[12px] text-gray-300 font-medium",children:[h==="brush"?"🖌 Brush":"⌫ Eraser"," Settings"]}),s.jsx("button",{onClick:()=>V(!1),className:"text-gray-500 active:text-gray-200 text-sm w-6 h-6 flex items-center justify-center",children:"✕"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[11px] mb-0.5",children:[s.jsx("span",{className:"text-gray-400",children:"Size"}),s.jsxs("span",{className:"text-gray-500",children:[d.size,"px"]})]}),s.jsx("input",{type:"range",min:"1",max:"200",value:d.size,onChange:b=>v(T=>({...T,size:+b.target.value})),style:{touchAction:"none"}})]}),h==="brush"&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Color"}),s.jsx("input",{type:"color",value:d.color,onChange:b=>v(T=>({...T,color:b.target.value})),className:"w-full h-10 rounded-lg cursor-pointer border border-[#2a2d45] bg-transparent"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[11px] mb-0.5",children:[s.jsx("span",{className:"text-gray-400",children:"Opacity"}),s.jsxs("span",{className:"text-gray-500",children:[Math.round(d.opacity*100),"%"]})]}),s.jsx("input",{type:"range",min:"0.05",max:"1",step:"0.05",value:d.opacity,onChange:b=>v(T=>({...T,opacity:+b.target.value})),style:{touchAction:"none"}})]})]})]}),Gt&&h==="magicWand"&&s.jsxs("div",{className:"absolute left-16 top-2 z-30 bg-[#1a1c2e] border border-[#2a2d45] rounded-xl p-3 shadow-2xl shadow-black/50 w-52",onTouchStart:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"🪄 Magic Wand"}),s.jsx("button",{onClick:()=>Dt(!1),className:"text-gray-500 active:text-gray-200 text-sm w-6 h-6 flex items-center justify-center",children:"✕"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[11px] mb-0.5",children:[s.jsx("span",{className:"text-gray-400",children:"Threshold"}),s.jsx("span",{className:"text-gray-500",children:Et})]}),s.jsx("input",{type:"range",min:"1",max:"100",value:Et,onChange:b=>Bt(+b.target.value),style:{touchAction:"none"}})]}),s.jsx("div",{className:"text-[10px] text-gray-500",children:"Tap on image to remove area"})]})]}),Vt&&h==="text"&&s.jsxs("div",{className:"absolute left-16 top-2 z-30 bg-[#1a1c2e] border border-[#2a2d45] rounded-xl p-3 shadow-2xl shadow-black/50 w-60",onTouchStart:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"✏️ Add Text"}),s.jsx("button",{onClick:()=>Kt(!1),className:"text-gray-500 active:text-gray-200 text-sm w-6 h-6 flex items-center justify-center",children:"✕"})]}),s.jsxs("div",{className:"space-y-2.5",children:[s.jsx("textarea",{value:K,onChange:b=>Mt(b.target.value),placeholder:"Enter text...",className:"w-full bg-[#252840] border border-[#2a2d45] rounded-lg px-2 py-2 text-[13px] text-gray-200 focus:outline-none focus:border-[#4f7cff] resize-none h-16"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[11px] mb-0.5",children:[s.jsx("span",{className:"text-gray-400",children:"Font Size"}),s.jsxs("span",{className:"text-gray-500",children:[wt,"px"]})]}),s.jsx("input",{type:"range",min:"12",max:"200",value:wt,onChange:b=>Pt(+b.target.value),style:{touchAction:"none"}})]}),s.jsx("select",{value:Wt,onChange:b=>N(b.target.value),className:"w-full bg-[#252840] border border-[#2a2d45] rounded-lg px-2 py-2 text-[12px] text-gray-300 focus:outline-none focus:border-[#4f7cff]",children:Ti.map(b=>s.jsx("option",{value:b,style:{fontFamily:b},children:b},b))}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Color"}),s.jsx("input",{type:"color",value:B,onChange:b=>ot(b.target.value),className:"w-full h-8 rounded-lg cursor-pointer border border-[#2a2d45] bg-transparent"})]}),s.jsx("button",{onClick:fl,className:"w-full py-2.5 bg-[#4f7cff] active:bg-[#3d6ae8] text-white text-[12px] font-medium rounded-lg transition-all active:scale-95",children:"➕ Add Text Layer"})]})]}),ct&&h==="shape"&&s.jsxs("div",{className:"absolute left-16 top-2 z-30 bg-[#1a1c2e] border border-[#2a2d45] rounded-xl p-3 shadow-2xl shadow-black/50 w-60",onTouchStart:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"⬟ Add Shape"}),s.jsx("button",{onClick:()=>Ct(!1),className:"text-gray-500 active:text-gray-200 text-sm w-6 h-6 flex items-center justify-center",children:"✕"})]}),s.jsxs("div",{className:"space-y-2.5",children:[s.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:Ac.map(b=>s.jsx("button",{onClick:()=>U(b.id),className:`py-2.5 text-xl rounded-lg transition-all active:scale-95 ${zt===b.id?"bg-[#4f7cff] text-white ring-2 ring-[#4f7cff]":"bg-[#252840] text-gray-400"}`,children:b.icon},b.id))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Ye(!0),className:`flex-1 py-2 text-[11px] rounded-lg ${qt?"bg-[#4f7cff] text-white":"bg-[#252840] text-gray-400"}`,children:"Fill"}),s.jsx("button",{onClick:()=>Ye(!1),className:`flex-1 py-2 text-[11px] rounded-lg ${qt?"bg-[#252840] text-gray-400":"bg-[#4f7cff] text-white"}`,children:"Stroke"})]}),!qt&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[11px] mb-0.5",children:[s.jsx("span",{className:"text-gray-400",children:"Stroke Width"}),s.jsxs("span",{className:"text-gray-500",children:[Ae,"px"]})]}),s.jsx("input",{type:"range",min:"1",max:"20",value:Ae,onChange:b=>Ge(+b.target.value),style:{touchAction:"none"}})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[11px] mb-0.5",children:[s.jsx("span",{className:"text-gray-400",children:"Size"}),s.jsxs("span",{className:"text-gray-500",children:[Oe,"px"]})]}),s.jsx("input",{type:"range",min:"50",max:"500",value:Oe,onChange:b=>ua(+b.target.value),style:{touchAction:"none"}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Color"}),s.jsx("input",{type:"color",value:m,onChange:b=>Xt(b.target.value),className:"w-full h-8 rounded-lg cursor-pointer border border-[#2a2d45] bg-transparent"})]}),s.jsx("button",{onClick:Rl,className:"w-full py-2.5 bg-[#4f7cff] active:bg-[#3d6ae8] text-white text-[12px] font-medium rounded-lg transition-all active:scale-95",children:"➕ Add Shape Layer"})]})]}),Ze&&h==="pen"&&s.jsxs("div",{className:"absolute left-16 top-2 z-30 bg-[#1a1c2e] border border-[#2a2d45] rounded-xl p-3 shadow-2xl shadow-black/50 w-52",onTouchStart:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-[12px] text-gray-300 font-medium",children:"✒ Pen Tool"}),s.jsx("button",{onClick:()=>Ne(!1),className:"text-gray-500 active:text-gray-200 text-sm w-6 h-6 flex items-center justify-center",children:"✕"})]}),s.jsxs("div",{className:"space-y-2.5",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-[11px] mb-0.5",children:[s.jsx("span",{className:"text-gray-400",children:"Width"}),s.jsxs("span",{className:"text-gray-500",children:[Na,"px"]})]}),s.jsx("input",{type:"range",min:"1",max:"20",value:Na,onChange:b=>xi(+b.target.value),style:{touchAction:"none"}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:"Color"}),s.jsx("input",{type:"color",value:Va,onChange:b=>Dn(b.target.value),className:"w-full h-8 rounded-lg cursor-pointer border border-[#2a2d45] bg-transparent"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>Dl(b=>!b),className:`flex-1 py-2 text-[11px] rounded-lg ${Fe?"bg-[#4f7cff] text-white":"bg-[#252840] text-gray-400"}`,children:"Fill Path"})}),s.jsxs("div",{className:"text-[10px] text-gray-500",children:[$e.length," points · Tap canvas to add"]}),s.jsxs("div",{className:"flex gap-1 mb-1",children:[s.jsxs("button",{onClick:()=>{if(Ka.length>0){rn(T=>[...T,$e]);const b=Ka[Ka.length-1];tn(T=>T.slice(0,-1)),oa(b)}},disabled:Ka.length===0,className:`flex-1 py-1.5 text-[11px] rounded-lg ${Ka.length>0?"bg-[#252840] text-gray-300 active:bg-[#4f7cff]":"bg-[#1a1c2e] text-gray-600 cursor-not-allowed"}`,children:["↩ ",Ka.length]}),s.jsxs("button",{onClick:()=>{if(ra.length>0){tn(T=>[...T,$e]);const b=ra[ra.length-1];rn(T=>T.slice(0,-1)),oa(b)}},disabled:ra.length===0,className:`flex-1 py-1.5 text-[11px] rounded-lg ${ra.length>0?"bg-[#252840] text-gray-300 active:bg-[#4f7cff]":"bg-[#1a1c2e] text-gray-600 cursor-not-allowed"}`,children:["↪ ",ra.length]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:Tc,disabled:$e.length<2,className:`flex-1 py-2.5 text-[12px] font-medium rounded-lg transition-all active:scale-95 ${$e.length>=2?"bg-[#4f7cff] text-white":"bg-[#252840] text-gray-600 cursor-not-allowed"}`,children:"✓ Add Layer"}),s.jsx("button",{onClick:()=>oa([]),className:"flex-1 py-2.5 bg-[#252840] active:bg-[#2a2d45] text-gray-400 text-[12px] rounded-lg transition-colors active:scale-95",children:"Clear"})]})]})]}),s.jsx(Im,{layers:y,selectedLayerId:C,selectedLayerIds:S,showBorders:g,tool:h,brushSettings:d,viewport:M,onViewportChange:A,onLayerSelect:$t,onLayerUpdate:aa,onDrop:Ie,onBeforeStroke:Hu,onAfterStroke:Cc,onBoxSelect:Se,onBackgroundTap:pe,onLayerRetap:Te,onMagicWand:Ec,magicWandThreshold:Et,selection:de,onSelectionChange:Ja,penPoints:$e,onPenPointAdd:b=>{tn(T=>{const R=[...T,$e];return R.length>15&&R.shift(),R}),rn([]),oa(T=>[...T,b])}}),s.jsx("div",{className:"w-4 bg-[#1a1c2e]/80 cursor-col-resize flex items-center justify-center shrink-0 z-10 border-l border-[#2a2d45] active:bg-[#252840] transition-colors",onTouchStart:Ci,onMouseDown:Ci,style:{touchAction:"none"},children:s.jsx("div",{className:"flex flex-col gap-1.5",children:[0,1,2,3,4].map(b=>s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#3a3d55]"},b))})}),s.jsx(tg,{layers:y,selectedLayer:Wa,selectedLayerId:C,selectedLayerIds:S,onLayerSelect:$t,onLayerUpdate:aa,onLayerDuplicate:Rn,onLayerReorder:Yn,onFlipLayer:Ve,onUpdateFilters:Xn,onExport:dl,onExportSingle:La,onUndo:vi,onRedo:jc,undoCount:ft,redoCount:rt,panelWidth:L,collapsed:X,onReRenderText:Ou,onReRenderShape:bc,onBoolean:Xl,onGroupSelected:Ol,onUngroupSelected:bi,onExportGroup:Mi,onClearAll:Si,onMultiUpdateFilters:rl,onToggleWarpMesh:_u,onResetWarpMesh:ha})]}),s.jsx("input",{ref:$,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:qe})]})}window.onerror=(y,c,C,f,S)=>(console.error("Global error:",y,S),!1);window.onunhandledrejection=y=>{console.error("Unhandled promise rejection:",y.reason)};class sg extends _.Component{constructor(c){super(c),this.state={hasError:!1,error:null}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,C){console.error("FreeCanvas Error:",c,C)}render(){return this.state.hasError?s.jsxs("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#151725",color:"#fff"},children:[s.jsx("div",{style:{fontSize:48,marginBottom:16},children:"⚠️"}),s.jsx("h2",{style:{marginBottom:8},children:"Something went wrong"}),s.jsx("p",{style:{color:"#888",marginBottom:16,fontSize:12},children:this.state.error?.message}),s.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},style:{padding:"12px 24px",background:"#4f7cff",border:"none",borderRadius:8,color:"#fff",cursor:"pointer",fontSize:14},children:"🔄 Reload App"})]}):this.props.children}}Wm.createRoot(document.getElementById("root")).render(s.jsx(_.StrictMode,{children:s.jsx(sg,{children:s.jsx(ug,{})})}));</script>
    <style rel="stylesheet" crossorigin>@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-ordinal:initial;--tw-slashed-zero:initial;--tw-numeric-figure:initial;--tw-numeric-spacing:initial;--tw-numeric-fraction:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-ease:initial;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-400:oklch(70.4% .191 22.216);--color-red-700:oklch(50.5% .213 27.518);--color-red-900:oklch(39.6% .141 25.723);--color-orange-400:oklch(75% .183 55.934);--color-orange-900:oklch(40.8% .123 38.172);--color-amber-900:oklch(41.4% .112 45.904);--color-yellow-500:oklch(79.5% .184 86.047);--color-green-400:oklch(79.2% .209 151.711);--color-green-900:oklch(39.3% .095 152.535);--color-blue-900:oklch(37.9% .146 265.522);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-900:oklch(38.1% .176 304.987);--color-fuchsia-900:oklch(40.1% .17 325.612);--color-pink-900:oklch(40.8% .153 2.432);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-black:#000;--color-white:#fff;--spacing:.25rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-5xl:3rem;--text-5xl--line-height:1;--font-weight-medium:500;--font-weight-bold:700;--tracking-wide:.025em;--leading-tight:1.25;--radius-lg:.5rem;--radius-xl:.75rem;--ease-out:cubic-bezier(0,0,.2,1);--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.pointer-events-none{pointer-events:none}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.inset-0{inset:calc(var(--spacing)*0)}.top-2{top:calc(var(--spacing)*2)}.top-\[3px\]{top:3px}.left-16{left:calc(var(--spacing)*16)}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.my-1{margin-block:calc(var(--spacing)*1)}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mb-0\.5{margin-bottom:calc(var(--spacing)*.5)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-1{height:calc(var(--spacing)*1)}.h-4\.5{height:calc(var(--spacing)*4.5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-11{height:calc(var(--spacing)*11)}.h-12{height:calc(var(--spacing)*12)}.h-14{height:calc(var(--spacing)*14)}.h-16{height:calc(var(--spacing)*16)}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.w-1{width:calc(var(--spacing)*1)}.w-4{width:calc(var(--spacing)*4)}.w-4\.5{width:calc(var(--spacing)*4.5)}.w-6{width:calc(var(--spacing)*6)}.w-7{width:calc(var(--spacing)*7)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-10{width:calc(var(--spacing)*10)}.w-11{width:calc(var(--spacing)*11)}.w-14{width:calc(var(--spacing)*14)}.w-52{width:calc(var(--spacing)*52)}.w-60{width:calc(var(--spacing)*60)}.w-full{width:100%}.w-px{width:1px}.w-screen{width:100vw}.min-w-0{min-width:calc(var(--spacing)*0)}.flex-1{flex:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.translate-x-\[3px\]{--tw-translate-x:3px;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-\[22px\]{--tw-translate-x:22px;translate:var(--tw-translate-x)var(--tw-translate-y)}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.cursor-col-resize{cursor:col-resize}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.cursor-row-resize{cursor:row-resize}.resize{resize:both}.resize-none{resize:none}.appearance-none{appearance:none}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}:where(.space-y-0\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}.gap-x-3{column-gap:calc(var(--spacing)*3)}.gap-y-1{row-gap:calc(var(--spacing)*1)}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overscroll-contain{overscroll-behavior:contain}.rounded{border-radius:.25rem}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-\[\#1a1c2e\]{border-color:#1a1c2e}.border-\[\#2a2d45\]{border-color:#2a2d45}.border-\[\#4f7cff\]{border-color:#4f7cff}.border-\[\#4f7cff\]\/30{border-color:#4f7cff4d}.border-gray-500{border-color:var(--color-gray-500)}.border-red-900\/50{border-color:#82181a80}@supports (color:color-mix(in lab,red,red)){.border-red-900\/50{border-color:color-mix(in oklab,var(--color-red-900)50%,transparent)}}.bg-\[\#1a1c2e\]{background-color:#1a1c2e}.bg-\[\#1a1c2e\]\/50{background-color:#1a1c2e80}.bg-\[\#1a1c2e\]\/80{background-color:#1a1c2ecc}.bg-\[\#1e2035\]{background-color:#1e2035}.bg-\[\#2a2d45\]{background-color:#2a2d45}.bg-\[\#3a3d55\]{background-color:#3a3d55}.bg-\[\#4f7cff\]{background-color:#4f7cff}.bg-\[\#4f7cff\]\/10{background-color:#4f7cff1a}.bg-\[\#4f7cff\]\/15{background-color:#4f7cff26}.bg-\[\#4f7cff\]\/20{background-color:#4f7cff33}.bg-\[\#151725\]{background-color:#151725}.bg-\[\#252840\]{background-color:#252840}.bg-amber-900\/50{background-color:#7b330680}@supports (color:color-mix(in lab,red,red)){.bg-amber-900\/50{background-color:color-mix(in oklab,var(--color-amber-900)50%,transparent)}}.bg-blue-900\/50{background-color:#1c398e80}@supports (color:color-mix(in lab,red,red)){.bg-blue-900\/50{background-color:color-mix(in oklab,var(--color-blue-900)50%,transparent)}}.bg-fuchsia-900\/50{background-color:#72137880}@supports (color:color-mix(in lab,red,red)){.bg-fuchsia-900\/50{background-color:color-mix(in oklab,var(--color-fuchsia-900)50%,transparent)}}.bg-pink-900\/50{background-color:#86104380}@supports (color:color-mix(in lab,red,red)){.bg-pink-900\/50{background-color:color-mix(in oklab,var(--color-pink-900)50%,transparent)}}.bg-purple-900\/40{background-color:#59168b66}@supports (color:color-mix(in lab,red,red)){.bg-purple-900\/40{background-color:color-mix(in oklab,var(--color-purple-900)40%,transparent)}}.bg-red-900\/40{background-color:#82181a66}@supports (color:color-mix(in lab,red,red)){.bg-red-900\/40{background-color:color-mix(in oklab,var(--color-red-900)40%,transparent)}}.bg-transparent{background-color:#0000}.bg-white{background-color:var(--color-white)}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-\[\#4f7cff\]{--tw-gradient-from:#4f7cff;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-\[\#a78bfa\]{--tw-gradient-to:#a78bfa;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.object-cover{object-fit:cover}.p-2{padding:calc(var(--spacing)*2)}.p-2\.5{padding:calc(var(--spacing)*2.5)}.p-3{padding:calc(var(--spacing)*3)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-6{padding-block:calc(var(--spacing)*6)}.py-12{padding-block:calc(var(--spacing)*12)}.pt-1{padding-top:calc(var(--spacing)*1)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-3{padding-top:calc(var(--spacing)*3)}.pr-0\.5{padding-right:calc(var(--spacing)*.5)}.text-center{text-align:center}.text-right{text-align:right}.text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[7px\]{font-size:7px}.text-\[8px\]{font-size:8px}.text-\[9px\]{font-size:9px}.text-\[10px\]{font-size:10px}.text-\[11px\]{font-size:11px}.text-\[12px\]{font-size:12px}.text-\[13px\]{font-size:13px}.text-\[14px\]{font-size:14px}.text-\[18px\]{font-size:18px}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.text-\[\#4f7cff\]{color:#4f7cff}.text-gray-200{color:var(--color-gray-200)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-green-400{color:var(--color-green-400)}.text-orange-400{color:var(--color-orange-400)}.text-purple-300{color:var(--color-purple-300)}.text-purple-400{color:var(--color-purple-400)}.text-red-400{color:var(--color-red-400)}.text-transparent{color:#0000}.text-white{color:var(--color-white)}.text-yellow-500{color:var(--color-yellow-500)}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.opacity-40{opacity:.4}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\[\#4f7cff\]\/30{--tw-shadow-color:#4f7cff4d}@supports (color:color-mix(in lab,red,red)){.shadow-\[\#4f7cff\]\/30{--tw-shadow-color:color-mix(in oklab,oklab(62.5041% -.0128207 -.200566/.3) var(--tw-shadow-alpha),transparent)}}.shadow-black\/50{--tw-shadow-color:#00000080}@supports (color:color-mix(in lab,red,red)){.shadow-black\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)50%,transparent)var(--tw-shadow-alpha),transparent)}}.ring-\[\#4f7cff\]{--tw-ring-color:#4f7cff}.ring-\[\#4f7cff\]\/20{--tw-ring-color:oklab(62.5041% -.0128207 -.200566/.2)}.ring-\[\#4f7cff\]\/40{--tw-ring-color:oklab(62.5041% -.0128207 -.200566/.4)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.invert{--tw-invert:invert(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.select-none{-webkit-user-select:none;user-select:none}.focus\:border-\[\#4f7cff\]:focus{border-color:#4f7cff}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.active\:scale-90:active{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\:scale-\[0\.98\]:active{scale:.98}.active\:bg-\[\#2a2d45\]:active{background-color:#2a2d45}.active\:bg-\[\#2f3358\]:active{background-color:#2f3358}.active\:bg-\[\#3d6ae8\]:active{background-color:#3d6ae8}.active\:bg-\[\#4f7cff\]:active{background-color:#4f7cff}.active\:bg-\[\#252840\]:active{background-color:#252840}.active\:bg-green-900\/40:active{background-color:#0d542b66}@supports (color:color-mix(in lab,red,red)){.active\:bg-green-900\/40:active{background-color:color-mix(in oklab,var(--color-green-900)40%,transparent)}}.active\:bg-orange-900\/40:active{background-color:#7e2a0c66}@supports (color:color-mix(in lab,red,red)){.active\:bg-orange-900\/40:active{background-color:color-mix(in oklab,var(--color-orange-900)40%,transparent)}}.active\:bg-purple-900\/40:active{background-color:#59168b66}@supports (color:color-mix(in lab,red,red)){.active\:bg-purple-900\/40:active{background-color:color-mix(in oklab,var(--color-purple-900)40%,transparent)}}.active\:bg-red-700\/50:active{background-color:#bf000f80}@supports (color:color-mix(in lab,red,red)){.active\:bg-red-700\/50:active{background-color:color-mix(in oklab,var(--color-red-700)50%,transparent)}}.active\:bg-red-900\/40:active{background-color:#82181a66}@supports (color:color-mix(in lab,red,red)){.active\:bg-red-900\/40:active{background-color:color-mix(in oklab,var(--color-red-900)40%,transparent)}}.active\:text-gray-200:active{color:var(--color-gray-200)}.active\:text-white:active{color:var(--color-white)}.active\:opacity-80:active{opacity:.8}.active\:ring-1:active{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.active\:ring-gray-500:active{--tw-ring-color:var(--color-gray-500)}@media(min-width:40rem){.sm\:inline{display:inline}}}*{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}canvas{will-change:transform;backface-visibility:hidden;transform:translateZ(0)}.panel-optimized{will-change:transform,opacity;contain:layout style paint}html,body,#root{overscroll-behavior:none;touch-action:none;width:100%;height:100%;position:fixed;overflow:hidden}input[type=range]{appearance:none;cursor:pointer;touch-action:none;background:0 0;outline:none;width:100%;height:36px;margin:0;padding:10px 0}input[type=range]::-webkit-slider-runnable-track{background:#2a2d45;border-radius:3px;height:6px}input[type=range]::-webkit-slider-thumb{appearance:none;background:#4f7cff;border:2px solid #6b93ff;border-radius:50%;width:22px;height:22px;margin-top:-8px;box-shadow:0 2px 6px #0006}input[type=range]::-moz-range-track{background:#2a2d45;border:none;border-radius:3px;height:6px}input[type=range]::-moz-range-thumb{background:#4f7cff;border:2px solid #6b93ff;border-radius:50%;width:22px;height:22px;box-shadow:0 2px 6px #0006}input[type=range]:active::-webkit-slider-thumb{background:#6b93ff;transform:scale(1.2)}input[type=range]:active::-moz-range-thumb{background:#6b93ff;transform:scale(1.2)}.overscroll-contain{-webkit-overflow-scrolling:touch;touch-action:pan-y}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:0 0}::-webkit-scrollbar-thumb{background:#2a2d45;border-radius:2px}input[type=number]{min-height:36px;font-size:14px}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-ordinal{syntax:"*";inherits:false}@property --tw-slashed-zero{syntax:"*";inherits:false}@property --tw-numeric-figure{syntax:"*";inherits:false}@property --tw-numeric-spacing{syntax:"*";inherits:false}@property --tw-numeric-fraction{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}</style>
  </head>
  <body>
    <div id="root">
      <!-- Loading state while React boots -->
      <div id="loading">
        <div class="loading-icon">∞</div>
        <div class="loading-text">Loading FreeCanvas...</div>
      </div>
    </div>
  </body>
</html>
